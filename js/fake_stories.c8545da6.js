(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fake_stories"],{"5b21":function(t,e,a){},"87c7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page fake-stories-page"},[a("div",{staticClass:"page__title"},[a("nav-back"),t._v(" Фейковые истории ")],1),t.pageIsReady?[a("div",{staticClass:"fake-stories-page__status"},[a("label",{staticClass:"my-0"},[t._v("Статус:")]),a("b-dropdown",{attrs:{text:t.statusText}},t._l(t.statusOptions,(function(e,n){return a("b-dropdown-item",{key:n,attrs:{"data-value":e.value},on:{click:t.onStatusSelect}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),a("div",{staticClass:"form-group fake-stories-page__input-block"},[a("label",{staticClass:"fake-stories-page__label"},[t._v("Кол-во глав:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.chaptersCount,expression:"chaptersCount",modifiers:{number:!0}}],staticClass:"form-control fake-stories-page__chapters-value",attrs:{type:"number",min:"0",oninput:"validity.valid||(value=0)"},domProps:{value:t.chaptersCount},on:{input:function(e){e.target.composing||(t.chaptersCount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"ml-2"},[a("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-check-square",staticStyle:{cursor:"pointer"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",title:"Сохранить"},on:{click:t.onSaveClick}},[a("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),a("path",{attrs:{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"}})])])])]:t._e()],2)},s=[],r=a("5530"),i=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),a("7db0"),a("25f0"),a("a70a")),u=a("2f62"),c={data:function(){return{pageIsReady:!1,chaptersCount:0,statusText:"",statusOption:1,statusOptions:[{value:1,name:"Включено"},{value:0,name:"Выключено"}]}},components:{UiButton:function(){return a.e("chunk-7a628425").then(a.bind(null,"832a"))},NavBack:function(){return a.e("chunk-49c533a1").then(a.bind(null,"e019"))}},computed:{config:function(){return this.$store.state.firebase.config.EconomyConfig}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getConfig();case 2:t.statusOption=t.config.fake_stories_enabled?1:0,t.chaptersCount=t.config.fake_stories_chapters_count||0,t.statusText=t.statusOptions.find((function(e){return e.value===t.statusOption})).name,t.pageIsReady=!0;case 6:case"end":return e.stop()}}),e)})))()},methods:Object(r["a"])(Object(r["a"])({},Object(u["b"])("firebase",["getConfig","updateFakeStories"])),{},{onStatusSelect:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.statusOption=parseInt(t.target.dataset.value,10),a.next=3,e.updateFakeStories({fake_stories_enabled:1===e.statusOption});case 3:n=a.sent,n.error?o["a"].$emit("show-notification-message","Ошибка: ".concat(n.error.toString())):(e.statusText=e.statusOptions.find((function(t){return t.value===e.statusOption})).name,o["a"].$emit("show-notification-message","Статус обновлен"));case 5:case"end":return a.stop()}}),a)})))()},onSaveClick:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updateFakeStories({fake_stories_chapters_count:t.chaptersCount});case 2:a=e.sent,a.error?o["a"].$emit("show-notification-message","Ошибка: ".concat(a.error.toString())):o["a"].$emit("show-notification-message","Обновлено");case 4:case"end":return e.stop()}}),e)})))()}})},l=c,p=(a("f3d0"),a("2877")),f=Object(p["a"])(l,n,s,!1,null,null,null);e["default"]=f.exports},f3d0:function(t,e,a){"use strict";a("5b21")}}]);
//# sourceMappingURL=fake_stories.c8545da6.js.map