(function(e){function t(t){for(var r,i,a=t[0],u=t[1],s=t[2],f=0,d=[];f<a.length;f++)i=a[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var a=n[i];0!==o[a]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},i={app:0},o={app:0},c=[];function a(e){return u.p+"js/"+({categories:"categories",chapters:"chapters",currencies:"currencies","daily_bonus~products~stories~story":"daily_bonus~products~stories~story",daily_bonus:"daily_bonus",products:"products",stories:"stories",story:"story",economy:"economy",fake_stories:"fake_stories",first_story:"first_story",genres:"genres",keys_timer:"keys_timer",prices:"prices",sale_action:"sale_action",season_first_purchase:"season_first_purchase"}[e]||e)+"."+{categories:"ab1c9c7b",chapters:"5a9e151a","chunk-0ba80f88":"80134f9c","chunk-164bef23":"bd5f0d02","chunk-23c4de35":"88a7956e","chunk-7a628425":"15b49249",currencies:"d3185df8","daily_bonus~products~stories~story":"b8798208",daily_bonus:"b72a5d16",products:"7c1f6db0",stories:"76d1c714",story:"60b3469d",economy:"6758a1b4",fake_stories:"c8545da6",first_story:"cd5f6451",genres:"8cb5c1ac",keys_timer:"1a27407f",prices:"8562ffc5",sale_action:"639438d1",season_first_purchase:"e9918fef","chunk-49c533a1":"d0d87f8f","chunk-02eb2c3d":"4092dd35","chunk-271b4faa":"8ba2f5a5","chunk-c01be8d8":"827d3339","chunk-5375c262":"3df677bc","chunk-47473edb":"e936c78e"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={chapters:1,"chunk-0ba80f88":1,"chunk-164bef23":1,"chunk-23c4de35":1,"chunk-7a628425":1,daily_bonus:1,products:1,stories:1,story:1,economy:1,fake_stories:1,first_story:1,keys_timer:1,sale_action:1,season_first_purchase:1,"chunk-49c533a1":1,"chunk-02eb2c3d":1,"chunk-271b4faa":1,"chunk-c01be8d8":1,"chunk-5375c262":1,"chunk-47473edb":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+({categories:"categories",chapters:"chapters",currencies:"currencies","daily_bonus~products~stories~story":"daily_bonus~products~stories~story",daily_bonus:"daily_bonus",products:"products",stories:"stories",story:"story",economy:"economy",fake_stories:"fake_stories",first_story:"first_story",genres:"genres",keys_timer:"keys_timer",prices:"prices",sale_action:"sale_action",season_first_purchase:"season_first_purchase"}[e]||e)+"."+{categories:"31d6cfe0",chapters:"1675f83e","chunk-0ba80f88":"d4a45e14","chunk-164bef23":"6e8c855c","chunk-23c4de35":"37f65370","chunk-7a628425":"6776fd3c",currencies:"31d6cfe0","daily_bonus~products~stories~story":"31d6cfe0",daily_bonus:"43fc20c3",products:"72096fd0",stories:"444a88dd",story:"81b38c2e",economy:"5f6a50ad",fake_stories:"8b32b165",first_story:"e69f6a97",genres:"31d6cfe0",keys_timer:"e0720a31",prices:"31d6cfe0",sale_action:"2221068c",season_first_purchase:"73c7f4ff","chunk-49c533a1":"9b627f36","chunk-02eb2c3d":"ed9b4552","chunk-271b4faa":"5a4a9ba2","chunk-c01be8d8":"973461b7","chunk-5375c262":"c72668a4","chunk-47473edb":"647a73e2"}[e]+".css",o=u.p+r,c=document.getElementsByTagName("link"),a=0;a<c.length;a++){var s=c[a],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===o))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){s=d[a],f=s.getAttribute("data-href");if(f===r||f===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete i[e],p.parentNode.removeChild(p),n(c)},p.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(p)})).then((function(){i[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,u.nc&&f.setAttribute("nonce",u.nc),f.src=a(e);var d=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var p=f;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3cdc":function(e,t,n){"use strict";var r=[{title:"Истории",link:"/stories"},{title:"Валюта",link:"/currencies"},{title:"Категории",link:"/categories"},{title:"Жанры",link:"/genres"},{title:"Стартовые истории",link:"/first-story"},{title:"Фейковые истории",link:"/fake-stories"},{title:"Экономика",link:"/economy"},{title:"Справочник цен",link:"/prices"},{title:"Рекомендованные истории",link:"/recommended-stories"},{title:"Товары",link:"/products"},{title:"Таймер ключей",link:"/keys-timer"},{title:"Ежедневный бонус",link:"/daily-bonus"}];t["a"]=r},4026:function(e){e.exports=JSON.parse('{"project_info":{"project_number":"1047356254397","firebase_url":"https://lovesaga-default-rtdb.firebaseio.com","project_id":"lovesaga","storage_bucket":"lovesaga.appspot.com"},"client":[{"client_info":{"mobilesdk_app_id":"1:1047356254397:android:517a1e9706b5a2042aefd4","android_client_info":{"package_name":"org.intelit.lovesaga"}},"oauth_client":[{"client_id":"1047356254397-adsanobgre57equdjjvqqfe2r0qe8u2g.apps.googleusercontent.com","client_type":1,"android_info":{"package_name":"org.intelit.lovesaga","certificate_hash":"3e8c1cd391f0d70bd5cdefe3ee0e9cda500fdcdc"}},{"client_id":"1047356254397-lm8rls3chrdm2uktfk0nrs5504tphbdt.apps.googleusercontent.com","client_type":1,"android_info":{"package_name":"org.intelit.lovesaga","certificate_hash":"9df1824c6ede7bf2b72a9a0019fdcb300459060d"}},{"client_id":"1047356254397-enh4m13sujtevt5np66kn07bo17v3lo4.apps.googleusercontent.com","client_type":3}],"api_key":[{"current_key":"AIzaSyAAf5Q2FBUGLk-8hZ1WWusOPI9x-CqE1t4"}],"services":{"appinvite_service":{"other_platform_oauth_client":[{"client_id":"1047356254397-enh4m13sujtevt5np66kn07bo17v3lo4.apps.googleusercontent.com","client_type":3}]}}}],"configuration_version":"1"}')},4334:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"},on:{click:e.onAppClick}},[n("nav-bar-top"),n("nav-bar-left"),n("div",{staticClass:"container"},[n("router-view")],1),n("modals-container"),n("notification-message")],1)},o=[],c=(n("d3b7"),n("3ca3"),n("ddb0"),n("a70a")),a={components:{NavBarTop:function(){return n.e("chunk-23c4de35").then(n.bind(null,"81e8"))},NavBarLeft:function(){return n.e("chunk-0ba80f88").then(n.bind(null,"440c"))},NotificationMessage:function(){return n.e("chunk-164bef23").then(n.bind(null,"e22a"))}},methods:{onAppClick:function(){c["a"].$emit("app-clicked")}}},u=a,s=(n("5c0b"),n("2877")),f=Object(s["a"])(u,i,o,!1,null,null,null),d=f.exports,p=(n("7db0"),n("9911"),n("b0c0"),n("8c4f")),l=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page page"},[n("div",{staticClass:"main-page__content"},[e._v(" Hello, world! ")])])}],m=n("5530"),g=n("1da1"),b=(n("96cf"),n("2f62")),_={name:"main-page",data:function(){return{}},components:{UiButton:function(){return n.e("chunk-7a628425").then(n.bind(null,"832a"))}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getConfig();case 2:if(n=t.sent,n.error){t.next=8;break}return t.next=6,e.$router.push("/stories");case 6:t.next=9;break;case 8:alert("Ошибка авторизации в гугле");case 9:case"end":return t.stop()}}),t)})))()},methods:Object(m["a"])({},Object(b["b"])("firebase",["getConfig","updateConfigs"]))},y=_,v=(n("6a81"),Object(s["a"])(y,l,h,!1,null,null,null)),O=v.exports,E=n("3cdc");r["default"].use(p["a"]);var k="Админка",w=[{path:"/",name:"home",component:O},{path:"/main-page",name:"main-page",component:O},{path:"/stories",name:"stories",component:function(){return Promise.all([n.e("daily_bonus~products~stories~story"),n.e("stories")]).then(n.bind(null,"d3fe"))}},{path:"/currencies",name:"currencies",component:function(){return n.e("currencies").then(n.bind(null,"c3c7"))}},{path:"/categories",name:"categories",component:function(){return n.e("categories").then(n.bind(null,"8c89"))}},{path:"/genres",name:"genres",component:function(){return n.e("genres").then(n.bind(null,"29f1"))}},{path:"/story",name:"story",props:!0,component:function(){return Promise.all([n.e("daily_bonus~products~stories~story"),n.e("story")]).then(n.bind(null,"8ddb"))},children:[{path:":storyId",name:"story-view",component:Promise.all([n.e("daily_bonus~products~stories~story"),n.e("story")]).then(n.bind(null,"8ddb"))}]},{path:"/chapters",name:"chapters",component:function(){return n.e("chapters").then(n.bind(null,"6cae"))},props:!0},{path:"/first-story",name:"first-story",component:function(){return n.e("first_story").then(n.bind(null,"87fd"))},props:!0},{path:"/economy",name:"economy",component:function(){return n.e("economy").then(n.bind(null,"01c5"))},props:!0},{path:"/prices",name:"prices",component:function(){return n.e("prices").then(n.bind(null,"60e4"))},props:!0},{path:"/products",name:"products",component:function(){return Promise.all([n.e("daily_bonus~products~stories~story"),n.e("products")]).then(n.bind(null,"a551"))},props:!0},{path:"/recommended-stories",name:"recommended-stories",component:function(){return Promise.all([n.e("daily_bonus~products~stories~story"),n.e("products")]).then(n.bind(null,"c650"))},props:!0},{path:"/keys-timer",name:"keys-timer",component:function(){return n.e("keys_timer").then(n.bind(null,"2232"))},props:!0},{path:"/daily-bonus",name:"daily-bonus",component:function(){return Promise.all([n.e("daily_bonus~products~stories~story"),n.e("daily_bonus")]).then(n.bind(null,"5ef3"))},props:!0},{path:"/fake-stories",name:"fake-stories",component:function(){return n.e("fake_stories").then(n.bind(null,"87c7"))},props:!0},{path:"/season-first-purchase",name:"season-first-purchase",component:function(){return n.e("season_first_purchase").then(n.bind(null,"27a6"))},props:!0},{path:"/sale-action",name:"sale-action",component:function(){return n.e("sale_action").then(n.bind(null,"59f0"))},props:!0}],S=new p["a"]({mode:"history",base:"/",routes:w});S.afterEach((function(e,t){r["default"].nextTick((function(){var t=E["a"].find((function(t){return t.link===e.name}));document.title=t?"Админка - ".concat(t.title):k,setTimeout((function(){window.scrollTo(0,0)}),0)}))}));var R=S,j=n("53ca"),C=(n("4e82"),n("d81d"),n("159b"),n("b64b"),n("c740"),n("bc3a")),P=n.n(C),T=n("3835"),I=(n("a434"),n("caad"),n("2532"),n("4fad"),n("ed08")),D={getDefaultStoryReward:function(e){return[{currency_id:e.config.EconomyConfig.story_reward_currency_id,value:e.config.EconomyConfig.story_reward_currency_value}]},getNewStoryID:function(e){var t=e.config.Stories.stories.map((function(e){return e.id})).sort(I["c"]);return t[0]+1},getNewChapterID:function(e){var t=[];return e.config.Stories.stories.forEach((function(e){e.chapters.forEach((function(e){return t.push(e.id)}))})),t.sort(I["c"])[0]+1},getStoryById:function(e){return function(t){return e.config.Stories.stories.find((function(e){return e.id===t}))}},getStoryChapters:function(e){return function(t){var n=e.config.Stories.stories.find((function(e){return e.id===parseInt(t,10)}));return n?n.chapters:[]}},getChapterById:function(e){return function(t,n){var r=e.config.Stories.stories.find((function(e){return e.id===t}));if(r){var i=r.chapters.find((function(e){return e.id===n}));return i||!1}return!1}},getStoryCategories:function(e){return function(t){var n=e.config.Stories.stories.find((function(e){return e.id===parseInt(t,10)})),r=n?n.categories:[],i=[];return r.forEach((function(t){var n=e.config.Categories.find((function(e){return e.id===t.id}));n&&i.push({id:n.id,name:n.name})})),i}},getStoryGenres:function(e){return function(t){var n=e.config.Stories.stories.find((function(e){return e.id===t}));return n?n.genres:[]}},getNextChapterOrder:function(e){return function(t){var n=e.config.Stories.stories.find((function(e){return e.id===t})),r=0;return n&&n.chapters&&n.chapters.length&&n.chapters.forEach((function(e){e.order>r&&(r=e.order)})),r+1}}},A={saveStory:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,o=t.storyData,c=t.isNewStory,n.abrupt("return",new Promise((function(e){r("SAVE_STORY",o),i("updateConfig").then((function(t){e(c?Object(m["a"])(Object(m["a"])({},t),{},{redirectStory:o.id}):t)})).catch((function(t){return e(t)}))})));case 3:case"end":return n.stop()}}),n)})))()},setStoryChapterPublishState:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("SET_STORY_CHAPTER_PUBLISH_STATE",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},saveStoryChapter:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,o=t.storyId,c=t.chapterData,n.abrupt("return",new Promise((function(e){r("SAVE_STORY_CHAPTER",{storyId:o,chapterData:c}),r("ADD_CHAPTER_SORTING_ORDER",{storyId:o,chapterId:c.id,commit:r}),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 3:case"end":return n.stop()}}),n)})))()},updateChapterSortingOrder:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("UPDATE_CHAPTERS_SORTING_ORDER",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},updateStoriesRecommendedOrder:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("UPDATE_STORIES_RECOMMENDED_ORDER",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},updateFakeStories:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("UPDATE_ECONOMY_CONFIG",t),r("UPDATE_FAKE_STORIES",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()}},x={SET_STORY_CHAPTER_PUBLISH_STATE:function(e,t){var n=t.storyId,i=t.chapterId,o=t.isPublished,c=Object(I["a"])(e.config.Stories.stories),a=c.findIndex((function(e){return e.id===n}));if(-1!==a){var u=c[a].chapters.findIndex((function(e){return e.id===i}));if(-1!==u){c[a].chapters[u].is_published=o;var s=c[a].last_chapter_id,f=c[a].chapters.find((function(e){return e.id===s}));c[a].is_published="undefined"!==typeof f,r["default"].set(e.config.Stories,"stories",c)}}},ADD_STORY_GENRE:function(e,t){var n=t.storyId,i=t.genreData,o=Object(I["a"])(e.config.Stories.stories),c=o.findIndex((function(e){return e.id===n}));if(-1!==c){var a=o[c].genres.findIndex((function(e){return e.id===i.id}));a>-1||(o[c].genres.push(i),r["default"].set(e.config.Stories,"stories",o))}},SAVE_STORY:function(e,t){var n=Object(I["a"])(e.config.Stories.stories),i=n.findIndex((function(e){return e.id===t.id}));i>-1?n[i]=t:n.push(t),r["default"].set(e.config.Stories,"stories",n)},SAVE_STORY_CHAPTER:function(e,t){var n=t.storyId,i=t.chapterData,o=Object(I["a"])(e.config.Stories.stories),c=o.findIndex((function(e){return e.id===n}));if(-1!==c){var a=o[c].chapters.findIndex((function(e){return e.id===i.id}));a>-1?Object.keys(i).forEach((function(e){return o[c].chapters[a][e]=i[e]})):o[c].chapters.push(i),r["default"].set(e.config.Stories,"stories",o)}},ADD_STORY_TO_CATEGORY:function(e,t){var n=t.storyId,i=t.categoryId,o=Object(I["a"])(e.config.Stories.stories),c=o.findIndex((function(e){return e.id===n}));if(-1!==c){o[c].categories.push({id:i,order:0}),r["default"].set(e.config.Stories,"stories",o);var a=Object(I["a"])(e.config.Stories.categories),u=a.findIndex((function(e){return e.id===i}));-1!==u&&(a[u].stories.push(n),r["default"].set(e.config.Stories,"categories",a))}},DELETE_STORY_FROM_CATEGORY:function(e,t){var n=t.storyId,i=t.categoryId,o=Object(I["a"])(e.config.Stories.stories),c=o.findIndex((function(e){return e.id===n}));if(-1!==c){var a=o[c].categories.findIndex((function(e){return e.id===i}));if(-1!==a){o[c].categories.splice(a,1),r["default"].set(e.config.Stories,"stories",o);var u=Object(I["a"])(e.config.Stories.categories);a=u.findIndex((function(e){return e.id===i})),-1!==a&&(c=u[a].stories.indexOf(n),-1!==c&&(u[a].stories.splice(c,1),r["default"].set(e.config.Stories,"categories",u)))}}},DELETE_STORY_GENRE:function(e,t){var n=t.storyId,i=t.genreId,o=Object(I["a"])(e.config.Stories.stories),c=o.findIndex((function(e){return e.id===n}));if(-1!==c){var a=o[c].genres.findIndex((function(e){return e.id===i}));-1!==a&&(o[c].genres.splice(a,1),r["default"].set(e.config.Stories,"stories",o))}},SET_CHAPTER_DEFAULT_REWARD:function(e,t){var n=t.storyId,i=t.chapterId,o=Object(I["a"])(e.config.Stories.stories),c=o.findIndex((function(e){return e.id===n}));if(-1!==c){var a=o[c].chapters.findIndex((function(e){return e.id===i}));-1!==a&&(o[c].chapters[a].rewards=[{currency_id:e.config.EconomyConfig.chapter_reward_currency_id,value:e.config.EconomyConfig.chapter_reward_currency_value}],r["default"].set(e.config.Stories,"stories",o))}},UPDATE_CHAPTERS_SORTING_ORDER:function(e,t){var n=t.storyId,i=t.order,o=Object(I["a"])(e.config.Stories.stories),c=o.findIndex((function(e){return e.id===n}));-1!==c&&(i.forEach((function(e,t){var n=o[c].chapters.findIndex((function(t){return t.id===e}));n>-1&&(o[c].chapters[n].order=t+1)})),r["default"].set(e.config.Stories,"stories",o),r["default"].set(e.chaptersSortingOrder,n,i))},ADD_CHAPTER_SORTING_ORDER:function(e,t){var n=t.storyId,r=t.chapterId,i=t.commit,o=e.chaptersSortingOrder[n]?Object(I["a"])(e.chaptersSortingOrder[n]):[];o.includes(r)||(o.push(r),i("UPDATE_CHAPTERS_SORTING_ORDER",{storyId:n,order:o}))},UPDATE_FAKE_STORIES:function(e,t){t.fake_stories_enabled&&r["default"].set(e.config.Stories.fake_stories,"enabled",t.fake_stories_enabled),t.fake_stories_chapters_count&&r["default"].set(e.config.Stories.fake_stories,"chapters_count",t.fake_stories_chapters_count)},UPDATE_STORIES_RECOMMENDED_ORDER:function(e,t){var n=Object(I["a"])(e.config.Stories.stories);Object.entries(t).forEach((function(e){var t=Object(T["a"])(e,2),r=t[0],i=t[1];r=parseInt(r,10);var o=n.findIndex((function(e){return e.id===r}));r>-1&&(n[o].order_recommended=i)})),r["default"].set(e.config.Stories,"stories",n)}},N={getters:D,actions:A,mutations:x},U=(n("07ac"),{getNewProductID:function(e){var t=e.config.Products.products.map((function(e){return e.id})).sort(I["c"]);return t[0]+1},getMultiProductsList:function(e){var t=[];return Object.values(e.config.Products.products).forEach((function(e){1!==e.rewards.length&&t.push(e)})),t},getSingleProductsList:function(e){var t={};return Object.values(e.config.Products.products).forEach((function(e){1===e.rewards.length&&(t[e.rewards[0].id]||(t[e.rewards[0].id]=[]),t[e.rewards[0].id].push(e))})),t}}),G={saveProduct:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("SAVE_PRODUCT",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},deleteProduct:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("DELETE_PRODUCT",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},updateProductsOrder:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("UPDATE_PRODUCTS_ORDER",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()}},B={SAVE_PRODUCT:function(e,t){var n=Object(I["a"])(e.config.Products.products),i=n.findIndex((function(e){return e.id===t.id}));i>-1?n[i]=t:n.push(t),r["default"].set(e.config.Products,"products",n)},DELETE_PRODUCT:function(e,t){var n=Object(I["a"])(e.config.Products.products),i=n.findIndex((function(e){return e.id===t}));-1!==i&&(n.splice(i,1),r["default"].set(e.config.Products,"products",n))},UPDATE_PRODUCTS_ORDER:function(e,t){var n=Object(I["a"])(e.config.Products.products),i=[];Object.values(t).forEach((function(e){var t=n.find((function(t){return t.id===e}));t&&i.push(t)})),r["default"].set(e.config.Products,"products",i)}},Y={getters:U,actions:G,mutations:B},L=function(e,t){Object.entries(t).forEach((function(t){var n=Object(T["a"])(t,2),i=n[0],o=n[1];r["default"].set(e,i,o)}))},F=function(e,t){var n=e.commit;return n("UPDATE",t)},M=n("4026"),H=n("260b"),V=n("ea7b"),q=n("a111"),J={apiKey:M.client[0].api_key[0].current_key,authDomain:"".concat(M.project_info.project_id,".firebaseapp.com"),databaseURL:M.project_info.firebase_url,projectId:M.project_info.project_id,storageBucket:M.project_info.storage_bucket,appId:"1:1047356254397:android:517a1e9706b5a2042aefd4"},z=1e3,$={userEmail:"",isInitialized:!1,accessToken:"",chaptersSortingOrder:{},config:{Stories:null,Categories:null,DailyBonuses:null,Prices:null,Products:null,EconomyConfig:null,Genres:null,Currencies:null}},K=Object(m["a"])(Object(m["a"])(Object(m["a"])({},N.getters),Y.getters),{},{getNewEntityID:function(e){return function(t){if(!e.config.hasOwnProperty(t))return alert("FirebaseModule::getNewEntityID Invalid entity name"),0;var n=e.config[t].map((function(e){return e.id})).sort(I["c"]);return n[0]+1}},getNewPriceID:function(e){var t=e.config.Prices.prices.map((function(e){return e.id})).sort(I["c"]);return t[0]+1},getGenreById:function(e){return function(t){return e.config.Genres.find((function(e){return e.id===t}))}},getCategoryById:function(e){return function(t){return e.config.Categories.find((function(e){return e.id===t}))}},getCurrencyName:function(e){return function(t){var n=e.config.Currencies.find((function(e){return e.id===t}));return n?n.name:"Ожидание"}},getCurrencyById:function(e){return function(t){var n=e.config.Currencies.find((function(e){return e.id===t}));return n||{}}}}),W=Object(m["a"])(Object(m["a"])(Object(m["a"])({},N.actions),Y.actions),{},{update:F,getConfig:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,t.abrupt("return",new Promise((function(e){if(n.isInitialized)e(n.config);else{var t=Object(H["a"])(J),i=Object(V["b"])(),o=(new V["a"]).addScope("https://www.googleapis.com/auth/cloud-platform");Object(V["c"])(i,o).then((function(n){var i=V["a"].credentialFromResult(n);r("UPDATE",{accessToken:i.accessToken,userEmail:n.user.email});var o=Object(q["c"])(t);o.settings.minimumFetchIntervalMillis=z,o.settings.fetchTimeoutMillis=z,Object(q["a"])(o).then((function(t){var n=Object(q["b"])(o);Object.keys(n).forEach((function(e){try{n[e]=JSON.parse(n[e].asString())}catch(t){}})),r("UPDATE",{isInitialized:!0,config:n}),e(n)})).catch((function(t){e({error:t})}))})).catch((function(t){e({error:t})}))}})));case 2:case"end":return t.stop()}}),t)})))()},updateConfig:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.dispatch,t.abrupt("return",new Promise((function(e){var t={parameters:{}};Object.keys(n.config).forEach((function(e){var r;r="object"==Object(j["a"])(n.config[e])?JSON.stringify(n.config[e]):n.config[e],t.parameters[e]={defaultValue:{value:r}}})),r("putConfigToFirebase",t).then((function(t){return e({success:!0})})).catch((function(t){return e({error:t})}))})));case 2:case"end":return t.stop()}}),t)})))()},putConfigToFirebase:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,i={withCredentials:!0,crossdomain:!0,headers:{"Content-Type":"application/json","If-Match":"*",Authorization:"Bearer ".concat(r.accessToken)}},n.abrupt("return",new Promise((function(e,n){P.a.put("https://firebaseremoteconfig.googleapis.com/v1/projects/lovesaga/remoteConfig",t,i).then((function(t){var n=t.data;e(n)})).catch((function(e){return n(e)}))})));case 3:case"end":return n.stop()}}),n)})))()},signOut:function(e){return Object(g["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.abrupt("return",new Promise((function(e){var t=Object(V["b"])();Object(V["d"])(t).then((function(t){n("UPDATE",{userEmail:"",accessToken:"",isInitialized:!1}),e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return t.stop()}}),t)})))()},saveCurrency:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("SAVE_CURRENCY",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},saveCategory:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("SAVE_CATEGORY",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},saveGenre:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("SAVE_GENRE",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},savePrice:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("SAVE_PRICE",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},updateEconomyConfig:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("UPDATE_ECONOMY_CONFIG",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()},updateDailyBonusesConfig:function(e,t){return Object(g["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,n.abrupt("return",new Promise((function(e){r("UPDATE_DAILY_BONUSES_CONFIG",t),i("updateConfig").then((function(t){return e(t)})).catch((function(t){return e(t)}))})));case 2:case"end":return n.stop()}}),n)})))()}}),Q=Object(m["a"])(Object(m["a"])(Object(m["a"])({},N.mutations),Y.mutations),{},{UPDATE:L,SAVE_CURRENCY:function(e,t){var n=Object(I["a"])(e.config.Currencies),i=n.findIndex((function(e){return e.id===t.id}));i>-1?n[i]=t:n.push(t),r["default"].set(e.config,"Currencies",n)},SAVE_CATEGORY:function(e,t){var n=Object(I["a"])(e.config.Categories),i=n.findIndex((function(e){return e.id===t.id}));i>-1?n[i]=t:n.push(t),r["default"].set(e.config,"Categories",n)},SAVE_GENRE:function(e,t){var n=Object(I["a"])(e.config.Genres),i=n.findIndex((function(e){return e.id===t.id}));i>-1?n[i]=t:n.push(t),r["default"].set(e.config,"Genres",n)},SAVE_PRICE:function(e,t){var n=Object(I["a"])(e.config.Prices.prices),i=n.findIndex((function(e){return e.id===t.id}));i>-1?n[i]=t:n.push(t),r["default"].set(e.config.Prices,"prices",n)},UPDATE_ECONOMY_CONFIG:function(e,t){Object.keys(t).forEach((function(n){return r["default"].set(e.config.EconomyConfig,n,t[n])}))},UPDATE_DAILY_BONUSES_CONFIG:function(e,t){var n=Object(I["a"])(e.config.DailyBonuses);Object.keys(t).forEach((function(e){return n[e]=t[e]})),r["default"].set(e.config,"DailyBonuses",n)}}),Z={namespaced:!0,state:$,getters:K,actions:W,mutations:Q},X=n("0e44");r["default"].use(b["a"]);var ee={routerHasHistory:!1},te={},ne={UPDATE:L},re={update:F},ie={firebase:Z},oe=new b["a"].Store({namespaced:!0,name:"store",state:ee,getters:te,actions:re,mutations:ne,modules:ie,plugins:[Object(X["a"])({paths:["firebase.chaptersSortingOrder"]})]});var ce=oe,ae=n("038a"),ue=n.n(ae),se=n("1881"),fe=n.n(se),de=n("5f5b"),pe=n("4ae6"),le=n.n(pe),he=n("97fc"),me=n.n(he);n("1e11");r["default"].config.productionTip=!1,r["default"].use(ue.a),r["default"].use(fe.a,{dynamic:!0}),r["default"].use(de["a"]),r["default"].use(le.a),r["default"].use(me.a),window.app=new r["default"]({router:R,store:ce,render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"6a81":function(e,t,n){"use strict";n("4334")},"9c0c":function(e,t,n){},a70a:function(e,t,n){"use strict";var r=n("a026"),i=new r["default"];t["a"]=i},ed08:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c}));n("5530"),n("ac1f"),n("466d"),n("4d63"),n("25f0"),n("5319"),n("4e82");var r=function(e){return JSON.parse(JSON.stringify(e))},i=function(e,t){return e.sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0}))},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=e.target.files[0],r=new FileReader;r.readAsDataURL(n),r.onload=function(e){return t(e.target.result)}},c=function(e,t){return e>t?-1:e<t?1:0}}});
//# sourceMappingURL=app.7339e9ef.js.map