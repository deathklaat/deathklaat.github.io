{"version":3,"sources":["webpack:///./src/views/Firebase/Genres.vue?ae9c","webpack:///./src/components/modals/AddGenreModal.vue?608b","webpack:///src/components/modals/AddGenreModal.vue","webpack:///./src/components/modals/AddGenreModal.vue?37f8","webpack:///./src/components/modals/AddGenreModal.vue","webpack:///./src/modals/addGenreModal.js","webpack:///./src/components/modals/EditGenreModal.vue?4a97","webpack:///src/components/modals/EditGenreModal.vue","webpack:///./src/components/modals/EditGenreModal.vue?b042","webpack:///./src/components/modals/EditGenreModal.vue","webpack:///./src/modals/editGenreModal.js","webpack:///src/views/Firebase/Genres.vue","webpack:///./src/views/Firebase/Genres.vue?88c3","webpack:///./src/views/Firebase/Genres.vue","webpack:///./src/lib/Popup.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","onAddClick","_m","_l","genre","i","key","_s","id","name","directives","rawName","modifiers","$event","onEditClick","staticRenderFns","resetAlert","type","indexOf","keyCode","apply","arguments","close","value","expression","ref","domProps","target","composing","alert","_e","component","openAddGenreModal","Genre","popup","Popup","AddGenreModal","props","params","transition","width","height","classes","show","onSaveClick","openEditGenreModal","EditGenreModal","events","Object","assign","modalName","VueJSModal","rootInstance","$modal","$emit"],"mappings":"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","file":"js/genres.2b9f3eac.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Список жанров \"),_c('ui-button',{staticClass:\"page__add-button\",attrs:{\"color\":\"blue\"},on:{\"clicked\":_vm.onAddClick}},[_vm._v(\" Добавить \")])],1),_c('table',{staticClass:\"users-list table table-striped\"},[_vm._m(0),_c('tbody',_vm._l((_vm.genres),function(genre,i){return _c('tr',{key:i},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(genre.id))]),_c('td',[_vm._v(_vm._s(genre.name))]),_c('td',[_c('svg',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bi bi-pencil page__active-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"title\":\"Редактировать\"},on:{\"click\":function($event){return _vm.onEditClick(genre)}}},[_c('path',{attrs:{\"d\":\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"}})])])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"ID\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Название\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Действия\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onAddClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Добавление жанра \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"input\",staticClass:\"form-control mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('ui-button',{staticClass:\"mt-3 mb-2\",on:{\"clicked\":_vm.onAddClick}},[_vm._v(\"Добавить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @click=\"resetAlert\" @keyup.13=\"onAddClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Добавление жанра\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <input type=\"text\" class=\"form-control mb-2\" placeholder=\"Название\" v-model=\"name\" ref=\"input\">\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onAddClick\">Добавить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex';\r\n\r\nexport default {\r\n    data: () => ({\r\n        name: '',\r\n        alert: '',\r\n        canReset: false\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    computed: {\r\n        ...mapGetters('firebase', ['getNewEntityID'])\r\n    },\r\n    mounted() {\r\n        this.$refs.input.focus();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['saveGenre']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onAddClick() {\r\n            if (this.name === '') {\r\n                this.setAlert('Необходимо ввести название');\r\n                return;\r\n            }\r\n\r\n            const response = await this.saveGenre({id: this.getNewEntityID('Genres'), name: this.name});\r\n\r\n            if (response.error)\r\n                this.setAlert(`Ошибка: ${response.error.toString()}`);\r\n            else\r\n                this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('add-genre-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGenreModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddGenreModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddGenreModal.vue?vue&type=template&id=05f6725f&\"\nimport script from \"./AddGenreModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddGenreModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport AddGenreModal from '@/components/modals/AddGenreModal';\r\n\r\nexport const openAddGenreModal = Genre => {\r\n    const popup = new Popup({\r\n        component: AddGenreModal,\r\n        props: {Genre},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'add-genre-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openAddGenreModal};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onSaveClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Редактирование жанра \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"input\",staticClass:\"form-control mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('ui-button',{staticClass:\"mt-3 mb-2\",on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @keyup.13=\"onSaveClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Редактирование жанра\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <input type=\"text\" class=\"form-control mb-2\" placeholder=\"Название\" v-model=\"name\" ref=\"input\">\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onSaveClick\">Сохранить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    props: ['genre'],\r\n    data: () => ({\r\n        name: '',\r\n        alert: ''\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    mounted() {\r\n        this.name = this.genre.name;\r\n        this.$refs.input.focus();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['saveGenre']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onSaveClick() {\r\n            if (this.name === '') {\r\n                this.setAlert('Необходимо ввести название');\r\n                return;\r\n            }\r\n\r\n            const response = await this.saveGenre({id: this.genre.id, name: this.name});\r\n\r\n            if (response.error)\r\n                bus.$emit('show-notification-message', `Ошибка: ${response.error.toString()}`);\r\n            else\r\n                this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('edit-genre-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditGenreModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditGenreModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditGenreModal.vue?vue&type=template&id=4c72b105&\"\nimport script from \"./EditGenreModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditGenreModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport EditGenreModal from '@/components/modals/EditGenreModal';\r\n\r\nexport const openEditGenreModal = genre => {\r\n    const popup = new Popup({\r\n        component: EditGenreModal,\r\n        props: {genre},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'edit-genre-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openEditGenreModal};\r\n","<template>\r\n    <div class=\"page\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Список жанров\r\n            <ui-button color=\"blue\" class=\"page__add-button\" @clicked=\"onAddClick\">\r\n                Добавить\r\n            </ui-button>\r\n        </div>\r\n        <table class=\"users-list table table-striped\">\r\n            <thead>\r\n            <tr>\r\n                <th scope=\"col\">ID</th>\r\n                <th scope=\"col\">Название</th>\r\n                <th scope=\"col\">Действия</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(genre, i) of genres\" :key=\"i\">\r\n                <th scope=\"row\">{{ genre.id }}</th>\r\n                <td>{{ genre.name }}</td>\r\n                <td>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                         class=\"bi bi-pencil page__active-icon\" viewBox=\"0 0 16 16\"\r\n                         @click=\"onEditClick(genre)\" v-b-tooltip.hover title=\"Редактировать\"\r\n                    >\r\n                        <path\r\n                            d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\r\n                    </svg>\r\n                </td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nimport {openAddGenreModal} from '@/modals/addGenreModal';\r\nimport {openEditGenreModal} from '@/modals/editGenreModal';\r\n\r\nexport default {\r\n    components: {\r\n        UiButton: () => import('../../components/ui/UiButton'),\r\n        NavBack: () => import('../../components/navigation/NavBack'),\r\n    },\r\n    computed: {\r\n        genres() {\r\n            return this.$store.state.firebase.config.Genres;\r\n        },\r\n    },\r\n    created() {\r\n        this.getConfig();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig']),\r\n        onEditClick(genre) {\r\n            openEditGenreModal(genre);\r\n        },\r\n        onAddClick() {\r\n            openAddGenreModal();\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Genres.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Genres.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Genres.vue?vue&type=template&id=1a1fb4f1&\"\nimport script from \"./Genres.vue?vue&type=script&lang=js&\"\nexport * from \"./Genres.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueJSModal from \"vue-js-modal\";\r\n\r\nexport default class Popup {\r\n    constructor({component, props = {}, params = {}, events = {}}) {\r\n        this.component = component;\r\n        this.props = props;\r\n        this.params = params;\r\n        this.events = {\r\n            'opened': () => {\r\n                Object.assign(component, {modalName: params.name});\r\n            },\r\n            'closed': () => {\r\n            }\r\n        };\r\n        \r\n        Object.assign(this.events, events);\r\n    }\r\n    \r\n    show() {\r\n        VueJSModal.rootInstance.$modal.show(this.component, this.props, this.params, this.events);\r\n    }\r\n    \r\n    hide() {\r\n        VueJSModal.rootInstance.$emit('close');\r\n    }\r\n};\r\n"],"sourceRoot":""}