{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/router/links.js","webpack:///./src/App.vue?4e5b","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/store/utils.js","webpack:///./src/api/index.js","webpack:///./src/store/modules/permissions.js","webpack:///./src/store/modules/stories.js","webpack:///./src/api/mock.js","webpack:///./src/store/modules/users.js","webpack:///./src/store/modules/players.js","webpack:///./src/store/modules/firebase.js","webpack:///./src/store/index.js","webpack:///./src/views/Firebase/MainPage.vue?74f5","webpack:///src/views/Firebase/MainPage.vue","webpack:///./src/views/Firebase/MainPage.vue?33f0","webpack:///./src/views/Firebase/MainPage.vue","webpack:///./src/router/middlewarePipeline.js","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?f446","webpack:///./src/views/Firebase/MainPage.vue?13e9","webpack:///./src/plugins/bus.js","webpack:///./src/utils/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","LINKS","title","link","_vm","this","_h","$createElement","_c","_self","attrs","on","onAppClick","staticClass","staticRenderFns","component","UPDATE","state","entries","forEach","k","v","Vue","set","update","commit","axios","require","withCredentials","AdminPrefix","checkAuthError","status","bus","$emit","app","$router","Api","API_URL","process","apiUrl","getCookie","api_url","url","params","config","crossdomain","store","currentUser","token","headers","Authorization","getApiUrl","response","catch","post","patch","$store","firebase","accessToken","put","delete","api","list","getters","actions","getPermissions","fetch","_","mutations","namespaced","storyStatuses","id","readingTime","time","text","updateCategoryOrder","categoryId","stories","getRandomId","Math","floor","random","ApiMock","rejectMode","chapter_reward_currency_id","chapter_reward_currency_value","start_story","start_story_adult","story_reward_currency_id","story_reward_currency_value","customization_currency_id","customization_currency_value","story_unlock_currency_id","story_unlock_currency_value","source_currency_id","source_currency_value","destination_currency_id","destination_currency_value","indexOf","permissions","email","chaptersRegExp","RegExp","test","chapterId","parseInt","split","storyId","story_id","apiMock","getUsers","usersArr","addUser","userData","updateUser","user","deleteUser","userId","success","ADD_USER","UPDATE_USER","DELETE_USER","getPlayer","idType","player","resetPlayer","playerId","setTesterFlag","isTester","is_tester","setUserProgress","postData","getUserProgress","progress","updateUserCurrency","money","newBalance","FirebaseConfig","apiKey","credentials","client","api_key","current_key","authDomain","project_info","project_id","databaseURL","firebase_url","projectId","storageBucket","storage_bucket","appId","FetchIntervalMillis","sortDesc","a","b","userEmail","isInitialized","chaptersSortingOrder","Stories","Categories","DailyBonuses","Prices","Products","EconomyConfig","Genres","Currencies","getDefaultStoryReward","currency_id","getNewStoryID","idsDesc","map","sort","getNewChapterID","allChaptersIds","storyData","chapters","chapterData","getNewEntityID","entityName","alert","getNewPriceID","prices","price","getNewProductID","products","product","getStoryById","find","story","getStoryChapters","storyConfig","getChapterById","chapter","getGenreById","genre","getStoryCategories","storyCategories","categories","categoriesData","categoryData","category","getCategoryById","getStoryGenres","genres","getNextChapterOrder","order","getCurrencyName","currency","getCurrencyById","getMultiProductsList","values","rewards","getSingleProductsList","getConfig","firebaseApp","initializeApp","auth","getAuth","provider","GoogleAuthProvider","addScope","onAuthStateChanged","fetchConfig","remoteConfig","getRemoteConfig","settings","minimumFetchIntervalMillis","fetchTimeoutMillis","fetchAndActivate","getAll","keys","JSON","parse","asString","signInWithPopup","credential","credentialFromResult","updateConfig","parameters","stringify","defaultValue","saveStory","dispatch","isNewStory","redirectStory","setStoryChapterPublishState","saveStoryChapter","updateChapterSortingOrder","saveCurrency","currencyData","saveCategory","saveGenre","genreData","updateEconomyConfig","updateFakeStories","savePrice","priceData","updateStoriesRecommendedOrder","sortOrder","saveProduct","productData","deleteProduct","productId","updateDailyBonusesConfig","updateProductsOrder","signOut","SET_STORY_CHAPTER_PUBLISH_STATE","isPublished","clone","storyIndex","findIndex","chapterIndex","is_published","lastPublishedChapterId","last_chapter_id","ADD_STORY_GENRE","genreIndex","g","SAVE_STORY","SAVE_STORY_CHAPTER","ADD_STORY_TO_CATEGORY","categoryIndex","DELETE_STORY_FROM_CATEGORY","DELETE_STORY_GENRE","genreId","SET_CHAPTER_DEFAULT_REWARD","UPDATE_CHAPTERS_SORTING_ORDER","index","ADD_CHAPTER_SORTING_ORDER","includes","SAVE_CURRENCY","currencies","currencyIndex","SAVE_CATEGORY","SAVE_GENRE","UPDATE_ECONOMY_CONFIG","UPDATE_FAKE_STORIES","fake_stories_enabled","fake_stories","fake_stories_chapters_count","SAVE_PRICE","priceIndex","UPDATE_STORIES_RECOMMENDED_ORDER","order_recommended","SAVE_PRODUCT","productIndex","DELETE_PRODUCT","UPDATE_DAILY_BONUSES_CONFIG","dailyBonuses","UPDATE_PRODUCTS_ORDER","sortedProducts","use","Vuex","routerHasHistory","configs","UPDATE_CONFIG","getConfigs","saveConfig","users","players","Store","plugins","createPersistedState","paths","_m","_v","middlewarePipeline","context","middleware","nextMiddleware","nextPipeline","next","VueRouter","DefaultTitle","routes","path","MainPage","props","children","router","base","beforeEach","to","from","meta","afterEach","nextTick","scrollTo","productionTip","VueSVGIcon","VModal","dynamic","BootstrapVue","Clipboard","VueTimepicker","render","h","App","$mount","emailReg","validateEmail","origin","areEqual","objA","objB","matches","cookie","match","replace","decodeURIComponent","sortByAttrDesc","arr","attrName","uploadImage","callback","image","files","reader","FileReader","readAsDataURL"],"mappings":"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","file":"js/app.548fed34.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"categories\":\"categories\",\"chapters\":\"chapters\",\"currencies\":\"currencies\",\"daily_bonus~products~stories~story\":\"daily_bonus~products~stories~story\",\"daily_bonus\":\"daily_bonus\",\"products\":\"products\",\"stories\":\"stories\",\"story\":\"story\",\"economy\":\"economy\",\"fake_stories\":\"fake_stories\",\"first_story\":\"first_story\",\"genres\":\"genres\",\"keys_timer\":\"keys_timer\",\"prices\":\"prices\",\"sale_action\":\"sale_action\",\"season_first_purchase\":\"season_first_purchase\",\"users\":\"users\"}[chunkId]||chunkId) + \".\" + {\"categories\":\"f0db3976\",\"chapters\":\"39b13757\",\"chunk-0ba80f88\":\"80134f9c\",\"chunk-164bef23\":\"bd5f0d02\",\"chunk-23c4de35\":\"88a7956e\",\"chunk-7a628425\":\"15b49249\",\"currencies\":\"fc74598e\",\"daily_bonus~products~stories~story\":\"b8798208\",\"daily_bonus\":\"a8cdd39d\",\"products\":\"8f92d65f\",\"stories\":\"1f4f45c2\",\"story\":\"ba7d24c8\",\"economy\":\"6758a1b4\",\"fake_stories\":\"c8545da6\",\"first_story\":\"cd5f6451\",\"genres\":\"2b9f3eac\",\"keys_timer\":\"6ebdd145\",\"prices\":\"d75998cf\",\"sale_action\":\"d73853a6\",\"season_first_purchase\":\"e9918fef\",\"users\":\"3947dc96\",\"chunk-49c533a1\":\"d0d87f8f\",\"chunk-735da00f\":\"3f92205f\",\"chunk-271b4faa\":\"8ba2f5a5\",\"chunk-ed43a738\":\"586d094d\",\"chunk-5375c262\":\"3df677bc\",\"chunk-47473edb\":\"e936c78e\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chapters\":1,\"chunk-0ba80f88\":1,\"chunk-164bef23\":1,\"chunk-23c4de35\":1,\"chunk-7a628425\":1,\"daily_bonus\":1,\"products\":1,\"stories\":1,\"story\":1,\"economy\":1,\"fake_stories\":1,\"first_story\":1,\"keys_timer\":1,\"sale_action\":1,\"season_first_purchase\":1,\"users\":1,\"chunk-49c533a1\":1,\"chunk-735da00f\":1,\"chunk-271b4faa\":1,\"chunk-ed43a738\":1,\"chunk-5375c262\":1,\"chunk-47473edb\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"categories\":\"categories\",\"chapters\":\"chapters\",\"currencies\":\"currencies\",\"daily_bonus~products~stories~story\":\"daily_bonus~products~stories~story\",\"daily_bonus\":\"daily_bonus\",\"products\":\"products\",\"stories\":\"stories\",\"story\":\"story\",\"economy\":\"economy\",\"fake_stories\":\"fake_stories\",\"first_story\":\"first_story\",\"genres\":\"genres\",\"keys_timer\":\"keys_timer\",\"prices\":\"prices\",\"sale_action\":\"sale_action\",\"season_first_purchase\":\"season_first_purchase\",\"users\":\"users\"}[chunkId]||chunkId) + \".\" + {\"categories\":\"31d6cfe0\",\"chapters\":\"1675f83e\",\"chunk-0ba80f88\":\"d4a45e14\",\"chunk-164bef23\":\"6e8c855c\",\"chunk-23c4de35\":\"37f65370\",\"chunk-7a628425\":\"6776fd3c\",\"currencies\":\"31d6cfe0\",\"daily_bonus~products~stories~story\":\"31d6cfe0\",\"daily_bonus\":\"43fc20c3\",\"products\":\"a36558dd\",\"stories\":\"444a88dd\",\"story\":\"81b38c2e\",\"economy\":\"5f6a50ad\",\"fake_stories\":\"8b32b165\",\"first_story\":\"e69f6a97\",\"genres\":\"31d6cfe0\",\"keys_timer\":\"e0720a31\",\"prices\":\"31d6cfe0\",\"sale_action\":\"2221068c\",\"season_first_purchase\":\"73c7f4ff\",\"users\":\"d703d520\",\"chunk-49c533a1\":\"9b627f36\",\"chunk-735da00f\":\"ed9b4552\",\"chunk-271b4faa\":\"5a4a9ba2\",\"chunk-ed43a738\":\"973461b7\",\"chunk-5375c262\":\"c72668a4\",\"chunk-47473edb\":\"647a73e2\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","const LINKS = [\r\n    {\r\n        title: 'Истории',\r\n        link: '/stories'\r\n    },\r\n    {\r\n        title: 'Валюта',\r\n        link: '/currencies'\r\n    },\r\n    {\r\n        title: 'Категории',\r\n        link: '/categories'\r\n    },\r\n    {\r\n        title: 'Жанры',\r\n        link: '/genres'\r\n    },\r\n    {\r\n        title: 'Стартовые истории',\r\n        link: '/first-story',\r\n    },\r\n    {\r\n        title: 'Фейковые истории',\r\n        link: '/fake-stories',\r\n    },\r\n    {\r\n        title: 'Экономика',\r\n        link: '/economy',\r\n    },\r\n    {\r\n        title: 'Справочник цен',\r\n        link: '/prices',\r\n    },\r\n    {\r\n        title: 'Рекомендованные истории',\r\n        link: '/recommended-stories',\r\n    },\r\n    {\r\n        title: 'Товары',\r\n        link: '/products',\r\n    },\r\n    {\r\n        title: 'Таймер ключей',\r\n        link: '/keys-timer',\r\n    },\r\n    {\r\n        title: 'Ежедневный бонус',\r\n        link: '/daily-bonus',\r\n    },\r\n    /*\r\n    {\r\n        title: 'Игроки',\r\n        link: '/players',\r\n    },\r\n    {\r\n        title: 'Пользователи',\r\n        link: '/users'\r\n    },\r\n    {\r\n        title: 'Авторы',\r\n        link: '/authors'\r\n    },\r\n    {\r\n        title: 'Характеристики',\r\n        link: '/skills'\r\n    },\r\n    {\r\n        title: 'Настройки акций',\r\n        link: '/sale-action',\r\n    },\r\n    {\r\n        title: 'Сезонные покупки',\r\n        link: '/season-first-purchase',\r\n    },\r\n    {\r\n        title: 'Обменный курс',\r\n        link: '/exchanger',\r\n    },\r\n    */\r\n];\r\n\r\nexport default LINKS;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"click\":_vm.onAppClick}},[_c('nav-bar-top'),_c('nav-bar-left'),_c('div',{staticClass:\"container\"},[_c('router-view')],1),_c('modals-container'),_c('notification-message')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"app\" @click=\"onAppClick\">\r\n        <nav-bar-top/>\r\n        <nav-bar-left/>\r\n        <div class=\"container\">\r\n            <router-view/>\r\n        </div>\r\n        <modals-container/>\r\n        <notification-message/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from \"vuex\";\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    components: {\r\n        NavBarTop: () => import('./components/navigation/NavBarTop'),\r\n        NavBarLeft: () => import('./components/navigation/NavBarLeft'),\r\n        NotificationMessage: () => import('./components/ui/NotificationMessage')\r\n    },\r\n    methods: {\r\n        onAppClick() {\r\n            bus.$emit('app-clicked');\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"assets/scss/index\";\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7514da25&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\n\r\n/**\r\n * Мутация, которая обновляет перечисляемые состояния по key => value.\r\n *\r\n * @param state\r\n * @param data\r\n * @constructor\r\n */\r\nexport const UPDATE = (state, data) => {\r\n    Object.entries(data).forEach(([k, v]) => {\r\n        Vue.set(state, k, v);\r\n    });\r\n};\r\n\r\n/**\r\n * Экшен для вызова мутации обновления состояний по key => value.\r\n *\r\n * @param commit\r\n * @param data\r\n * @returns {*}\r\n */\r\nexport const update = ({ commit }, data) => commit('UPDATE', data);\r\n","import store from '@/store';\r\nimport {getCookie} from '@/utils';\r\nimport bus from '@/plugins/bus';\r\n\r\nconst axios = require('axios');\r\nconst withCredentials = true;\r\nconst AdminPrefix = '/api/admin';\r\n\r\nconst checkAuthError = status => {\r\n    if (status === 401) {\r\n        bus.$emit('show-notification-message', 'Ошибка авторизации');\r\n        app.$router.push('/login');\r\n    }\r\n};\r\n\r\nclass Api {\r\n    constructor() {\r\n        this.API_URL = process.env.VUE_APP_API_URL;\r\n    }\r\n    \r\n    getApiUrl() {\r\n        let apiUrl = getCookie('api_url');\r\n    \r\n        if (!apiUrl) {\r\n            apiUrl = window.api_url || this.API_URL;\r\n        }\r\n    \r\n        return apiUrl;\r\n    }\r\n    \r\n    fetch(url, params) {\r\n        const config = {\r\n            withCredentials,\r\n            crossdomain: true,\r\n        };\r\n    \r\n        if (store.state.currentUser.token) {\r\n            config.headers = { Authorization: `Bearer ${store.state.currentUser.token}` };\r\n        }\r\n        \r\n        this.API_URL = this.getApiUrl();\r\n        \r\n        return new Promise((resolve, reject) => {\r\n            axios.get(`${AdminPrefix}${url}`, {\r\n                ...config,\r\n                params,\r\n            })\r\n                .then((response) => {\r\n                    const {data} = response;\r\n                    console.log('API SUCCESS RESPONSE:');\r\n                    console.log(data);\r\n                    resolve(data);\r\n                })\r\n                .catch(error => {\r\n                    console.log('API ERROR');\r\n                    console.log(error);\r\n                    checkAuthError(error.response.status);\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n    \r\n    post(url, params) {\r\n        const config = {\r\n            withCredentials,\r\n            crossdomain: true,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        };\r\n    \r\n        if (store.state.currentUser.token) {\r\n            config.headers.Authorization = `Bearer ${store.state.currentUser.token}`;\r\n        }\r\n        \r\n        this.API_URL = this.getApiUrl();\r\n        \r\n        return new Promise((resolve, reject) => {\r\n            axios.post(`${AdminPrefix}${url}`, params, config)\r\n                .then((response) => {\r\n                    const {data} = response;\r\n                    console.log('API SUCCESS RESPONSE:');\r\n                    console.log(data);\r\n                    resolve(data);\r\n                })\r\n                .catch(error => {\r\n                    console.log('API ERROR');\r\n                    console.log(error);\r\n                    checkAuthError(error.response.status);\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n    \r\n    patch(url, params) {\r\n        const config = {\r\n            withCredentials,\r\n            crossdomain: true,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        };\r\n    \r\n        if (store.state.currentUser.token) {\r\n            config.headers.Authorization = `Bearer ${store.state.currentUser.token}`;\r\n        }\r\n        \r\n        this.API_URL = this.getApiUrl();\r\n        \r\n        return new Promise((resolve, reject) => {\r\n            axios.patch(`${AdminPrefix}${url}`, params, config)\r\n                .then((response) => {\r\n                    const {data} = response;\r\n                    console.log('API SUCCESS RESPONSE:');\r\n                    console.log(data);\r\n                    resolve(data);\r\n                })\r\n                .catch(error => {\r\n                    console.log('API ERROR');\r\n                    console.log(error);\r\n                    checkAuthError(error.response.status);\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n    \r\n    put(url, params) {\r\n        const config = {\r\n            withCredentials,\r\n            crossdomain: true,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'If-Match': '*'\r\n            },\r\n        };\r\n\r\n        if (app.$store.state.firebase.accessToken) {\r\n            config.headers.Authorization = `Bearer ${app.$store.state.firebase.accessToken}`;\r\n        }\r\n    \r\n        this.API_URL = this.getApiUrl();\r\n    \r\n        return new Promise((resolve, reject) => {\r\n            axios.put('https://firebaseremoteconfig.googleapis.com/v1/projects/lovesaga/remoteConfig', params, config)\r\n                .then((response) => {\r\n                    const {data} = response;\r\n                    resolve(data);\r\n                })\r\n                .catch(error => {\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n    \r\n    delete(url, params) {\r\n        const config = {\r\n            withCredentials,\r\n            crossdomain: true,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        };\r\n    \r\n        if (store.state.currentUser.token) {\r\n            config.headers.Authorization = `Bearer ${store.state.currentUser.token}`;\r\n        }\r\n    \r\n        this.API_URL = this.getApiUrl();\r\n    \r\n        return new Promise((resolve, reject) => {\r\n            axios.delete(`${AdminPrefix}${url}`, config)\r\n                .then((response) => {\r\n                    const {data} = response;\r\n                    console.log('API SUCCESS RESPONSE:');\r\n                    console.log(data);\r\n                    resolve(data);\r\n                })\r\n                .catch(error => {\r\n                    console.log('API ERROR');\r\n                    console.log(error);\r\n                    checkAuthError(error.response.status);\r\n                    reject(error);\r\n                });\r\n        });\r\n    }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport default api;\r\n","import {UPDATE, update} from '../utils';\r\n\r\nimport api from '@/api';\r\n\r\nconst state = {\r\n    list: []\r\n};\r\n\r\nconst getters = {};\r\n\r\nconst actions = {\r\n    update,\r\n    \r\n    async getPermissions({state, commit}) {\r\n        return new Promise(resolve => {\r\n            if (state.list.length) {\r\n                resolve(state.list);\r\n                return;\r\n            }\r\n            \r\n            api.fetch('/permissions').then(list => {\r\n                commit('UPDATE', {list});\r\n                resolve(list);\r\n            }).catch(_ => {\r\n                resolve({error: 1});\r\n            });\r\n        });\r\n    },\r\n};\r\n\r\nconst mutations = {\r\n    UPDATE,\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n};\r\n","import {UPDATE, update} from '../utils';\r\nimport api from '@/api';\r\n\r\nconst state = {\r\n    list: [],\r\n    storyStatuses: [\r\n        {id: 1, value: 'Ожидает'},\r\n        {id: 2, value: 'На проде'},\r\n    ],\r\n    readingTime: [\r\n        {time: 300, text: '5 минут'},\r\n        {time: 600, text: '10 минут'},\r\n        {time: 900, text: '15 минут'},\r\n    ],\r\n};\r\n\r\nconst getters = {};\r\n\r\nconst actions = {\r\n    update,\r\n    async updateCategoryOrder({}, {categoryId, stories}) {\r\n        return new Promise(resolve => {\r\n            api.put(`/categories/${categoryId}/stories`, {stories})\r\n                .then(response => {\r\n                    resolve(response === 'success' ? 'success' : {error: 'unknown error'});\r\n                })\r\n                .catch(error => {\r\n                    resolve({error});\r\n                });\r\n        });\r\n    },\r\n};\r\n\r\nconst mutations = {\r\n    UPDATE,\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n};\r\n","const getRandomId = () => 1000 + Math.floor(Math.random() * 1000);\r\n\r\nclass ApiMock {\r\n    constructor(params = {}) {\r\n        this.rejectMode = params.rejectMode;\r\n    }\r\n    \r\n    fetch(url, params) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.rejectMode) {\r\n                reject({error: 1});\r\n            } else {\r\n                switch (url) {\r\n                    case '/config':\r\n                        resolve({\r\n                            chapter_reward_currency_id: 1,\r\n                            chapter_reward_currency_value: 1,\r\n                            start_story: 1,\r\n                            start_story_adult: 2,\r\n                            story_reward_currency_id: 2,\r\n                            story_reward_currency_value: 10,\r\n                            customization_currency_id: 2,\r\n                            customization_currency_value: 100,\r\n                            story_unlock_currency_id: 1,\r\n                            story_unlock_currency_value: 50,\r\n                        });\r\n                        break;\r\n                    case '/exchanges':\r\n                        resolve([\r\n                            {\r\n                                id: 1,\r\n                                source_currency_id: 1,\r\n                                source_currency_value: 5,\r\n                                destination_currency_id: 2,\r\n                                destination_currency_value: 1\r\n                            }\r\n                        ]);\r\n                        break;\r\n                    default:\r\n                        resolve({status: 'ok'});\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    post(url, params) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.rejectMode) {\r\n                reject({error: 1});\r\n            } else {\r\n                if (url.indexOf('/chapters') > -1) {\r\n                    params.id = getRandomId();\r\n                    resolve(params);\r\n                    return;\r\n                }\r\n                \r\n                switch (url) {\r\n                    case '/user/auth':\r\n                        resolve({\r\n                            id: 1,\r\n                            token: 'asdalshdfds',\r\n                            permissions: [1, 2, 3, 4],\r\n                            email: 'test@ya.ru'\r\n                        });\r\n                        break;\r\n                    case '/users':\r\n                        resolve({\r\n                            id: getRandomId(),\r\n                            email: params.email,\r\n                            permissions: params.permissions\r\n                        });\r\n                        break;\r\n                    case '/currencies':\r\n                    case '/categories':\r\n                    case '/genres':\r\n                    case '/authors':\r\n                        resolve({\r\n                            id: getRandomId(),\r\n                            name: params.name\r\n                        });\r\n                        break;\r\n                    case '/skills':\r\n                    case '/stories':\r\n                    case '/exchanges':\r\n                    case url.indexOf('/prices') > -1:\r\n                        params.id = getRandomId();\r\n                        resolve(params);\r\n                        break;\r\n                    default:\r\n                        resolve({status: 'ok'});\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    patch(url, params) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.rejectMode) {\r\n                reject({error: 1});\r\n            } else {\r\n                switch (url) {\r\n                    default:\r\n                        resolve(params);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    put(url, params) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.rejectMode) {\r\n                reject({error: 1});\r\n            } else {\r\n                const chaptersRegExp = new RegExp('\\\\/stories\\\\/(\\\\d+)\\\\/chapters\\\\/(\\\\d+)');\r\n                \r\n                if (chaptersRegExp.test(url)) {\r\n                    resolve(params);\r\n                    return;\r\n                }\r\n                \r\n                switch (url) {\r\n                    default:\r\n                        resolve(params);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    delete(url, params) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.rejectMode) {\r\n                reject({error: 1});\r\n            } else {\r\n                if (url.indexOf('/chapters') > -1) {\r\n                    const chapterId = parseInt(url.split('/chapters/')[1], 10);\r\n                    \r\n                    resolve({\r\n                        chapterId,\r\n                        storyId: params.story_id\r\n                    });\r\n                    return;\r\n                }\r\n                \r\n                if (url.indexOf('/stories') > -1) {\r\n                    const storyId = parseInt(url.split('/stories/')[1], 10);\r\n                    \r\n                    resolve(storyId);\r\n                    return;\r\n                }\r\n                \r\n                switch (url) {\r\n                    default:\r\n                        resolve(params);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nconst apiMock = new ApiMock();\r\n\r\nexport default apiMock;\r\n","import Vue from 'vue';\r\nimport store from '@/store';\r\n\r\nimport {UPDATE, update} from '../utils';\r\nimport api from '@/api';\r\nimport apiMock from '@/api/mock';\r\n\r\nconst state = {\r\n    list: {}\r\n};\r\n\r\nconst getters = {};\r\n\r\nconst actions = {\r\n    update,\r\n    \r\n    async getUsers({state, commit}) {\r\n        return new Promise(resolve => {\r\n            if (state.list.length) {\r\n                resolve(state.list);\r\n                return;\r\n            }\r\n            \r\n            api.fetch('/users').then(usersArr => {\r\n                let list = {};\r\n                for (let i = 0; i < usersArr.length; i++) {\r\n                    list[usersArr[i].id] = usersArr[i];\r\n                }\r\n                commit('UPDATE', {list});\r\n                resolve(list);\r\n            }).catch(_ => {\r\n                resolve({error: 1});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async addUser({commit}, userData) {\r\n        return new Promise(resolve => {\r\n            api.post('/users', userData).then(userData => {\r\n                commit('ADD_USER', userData);\r\n                resolve(userData);\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async updateUser({state, commit}, userData) {\r\n        return new Promise(resolve => {\r\n            api.patch(`/users/${userData.id}`, userData).then(user => {\r\n                // чекаем данные текущего текущего пользователя\r\n                if (user.id === store.state.currentUser.id) {\r\n                    commit('currentUser/UPDATE', user);\r\n                }\r\n                \r\n                // обновляем данные в списке пользователей\r\n                commit('UPDATE_USER', user);\r\n                \r\n                resolve(user);\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async deleteUser({commit}, userId) {\r\n        return new Promise(resolve => {\r\n            apiMock.delete(`/users/${userId}`).then(_ => {\r\n                commit('DELETE_USER', userId);\r\n                resolve({success: 1});\r\n            }).catch(_ => {\r\n                resolve({error: 1});\r\n            });\r\n        });\r\n    },\r\n};\r\n\r\nconst mutations = {\r\n    UPDATE,\r\n    \r\n    ADD_USER(state, user) {\r\n        Vue.set(state.list, user.id, user);\r\n    },\r\n    UPDATE_USER(state, user) {\r\n        Vue.set(state.list, user.id, user);\r\n    },\r\n    DELETE_USER(state, userId) {\r\n        Vue.delete(state.list, userId);\r\n    },\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n};\r\n","import {UPDATE, update} from '../utils';\r\nimport api from '@/api';\r\n\r\nconst state = {};\r\n\r\nconst getters = {};\r\n\r\nconst actions = {\r\n    update,\r\n    \r\n    async getPlayer({commit}, {idType, id}) {\r\n        return new Promise(resolve => {\r\n            api.fetch(`/player/${idType}/${id}`).then(player => {\r\n                resolve(player);\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async resetPlayer({commit}, playerId) {\r\n        return new Promise(resolve => {\r\n            api.patch(`/player/${playerId}/reset`).then(player => {\r\n                resolve(player);\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async setTesterFlag({commit}, {playerId, isTester}) {\r\n        return new Promise(resolve => {\r\n            api.patch(`/player/${playerId}/tester`, {is_tester: isTester}).then(player => {\r\n                resolve(player);\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async setUserProgress(_, {playerId, postData}) {\r\n        return new Promise(resolve => {\r\n            api.post(`/player/${playerId}/progress`, postData).then(_ => {\r\n                resolve({status: 'ok'});\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async getUserProgress({}, playerId) {\r\n        return new Promise(resolve => {\r\n            api.fetch(`/player/${playerId}/progress`).then(progress => {\r\n                resolve(progress);\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    },\r\n    \r\n    async updateUserCurrency({}, {playerId, money}) {\r\n        return new Promise(resolve => {\r\n            api.patch(`/player/${playerId}/money`, {money}).then(newBalance => {\r\n                resolve(newBalance);\r\n            }).catch(error => {\r\n                resolve({error});\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\nconst mutations = {\r\n    UPDATE,\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n};\r\n","import Vue from 'vue';\r\n\r\nimport {UPDATE, update} from '../utils';\r\nimport api from '@/api';\r\nimport credentials from \"@/json/google-services.json\";\r\nimport {initializeApp} from 'firebase/app';\r\nimport {getAuth, GoogleAuthProvider, onAuthStateChanged, signInWithPopup, signOut} from 'firebase/auth';\r\nimport {fetchAndActivate, getAll, getRemoteConfig} from 'firebase/remote-config';\r\nimport {clone} from '@/utils';\r\n\r\nconst FirebaseConfig = {\r\n    apiKey: credentials.client[0].api_key[0].current_key,\r\n    authDomain: `${credentials.project_info.project_id}.firebaseapp.com`,\r\n    databaseURL: credentials.project_info.firebase_url,\r\n    projectId: credentials.project_info.project_id,\r\n    storageBucket: credentials.project_info.storage_bucket,\r\n    appId: '1:1047356254397:android:517a1e9706b5a2042aefd4'\r\n};\r\nconst FetchIntervalMillis = 1000;\r\n\r\nconst sortDesc = (a, b) => {\r\n    if (a > b) return -1;\r\n    if (a < b) return 1;\r\n    return 0;\r\n};\r\n\r\nconst state = {\r\n    userEmail: '',\r\n    isInitialized: false,\r\n    accessToken: '',\r\n    chaptersSortingOrder: {},\r\n    config: {\r\n        Stories: null,\r\n        Categories: null,\r\n        DailyBonuses: null,\r\n        Prices: null,\r\n        Products: null,\r\n        EconomyConfig: null,\r\n        Genres: null,\r\n        Currencies: null\r\n    }\r\n};\r\n\r\nconst getters = {\r\n    getDefaultStoryReward: state => {\r\n        return [{\r\n            currency_id: state.config.EconomyConfig.story_reward_currency_id,\r\n            value: state.config.EconomyConfig.story_reward_currency_value\r\n        }];\r\n    },\r\n    getNewStoryID: state => {\r\n        const idsDesc = state.config.Stories.stories.map(data => data.id).sort(sortDesc);\r\n        return idsDesc[0] + 1;\r\n    },\r\n    getNewChapterID: state => {\r\n        const allChaptersIds = [];\r\n        state.config.Stories.stories.forEach(storyData => {\r\n            storyData.chapters.forEach(chapterData => allChaptersIds.push(chapterData.id));\r\n        });\r\n        return allChaptersIds.sort(sortDesc)[0] + 1;\r\n    },\r\n    getNewEntityID: state => entityName => {\r\n        if (!state.config.hasOwnProperty(entityName)) {\r\n            alert('FirebaseModule::getNewEntityID Invalid entity name');\r\n            return 0;\r\n        }\r\n        const idsDesc = state.config[entityName].map(data => data.id).sort(sortDesc);\r\n        return idsDesc[0] + 1;\r\n    },\r\n    getNewPriceID: state => {\r\n        const idsDesc = state.config.Prices.prices.map(price => price.id).sort(sortDesc);\r\n        return idsDesc[0] + 1;\r\n    },\r\n    getNewProductID: state => {\r\n        const idsDesc = state.config.Products.products.map(product => product.id).sort(sortDesc);\r\n        return idsDesc[0] + 1;\r\n    },\r\n    getStoryById: state => storyId => state.config.Stories.stories.find(story => story.id === storyId),\r\n    getStoryChapters: state => storyId => {\r\n        const storyConfig = state.config.Stories.stories.find(story => story.id === parseInt(storyId, 10));\r\n        return storyConfig ? storyConfig.chapters : [];\r\n    },\r\n    getChapterById: state => (storyId, chapterId) => {\r\n        const story = state.config.Stories.stories.find(story => story.id === storyId);\r\n        \r\n        if (story) {\r\n            const chapter = story.chapters.find(chapter => chapter.id === chapterId);\r\n            return chapter || false;\r\n        }\r\n        \r\n        return false;\r\n    },\r\n    getGenreById: state => id => state.config.Genres.find(genre => genre.id === id),\r\n    getStoryCategories: state => storyId => {\r\n        const storyConfig = state.config.Stories.stories.find(story => story.id === parseInt(storyId, 10));\r\n        const storyCategories = storyConfig ? storyConfig.categories : [];\r\n        let categoriesData = [];\r\n        \r\n        storyCategories.forEach(categoryData => {\r\n            const config = state.config.Categories.find(category => category.id === categoryData.id);\r\n            if (config) {\r\n                categoriesData.push({\r\n                    id: config.id,\r\n                    name: config.name\r\n                });\r\n            }\r\n        });\r\n    \r\n        return categoriesData;\r\n    },\r\n    getCategoryById: state => id => state.config.Categories.find(category => category.id === id),\r\n    getStoryGenres: state => storyId => {\r\n        const storyConfig = state.config.Stories.stories.find(story => story.id === storyId);\r\n        return storyConfig ? storyConfig.genres : [];\r\n    },\r\n    getNextChapterOrder: state => storyId => {\r\n        const story = state.config.Stories.stories.find(story => story.id === storyId);\r\n        let order = 0;\r\n        \r\n        if (story && story.chapters && story.chapters.length) {\r\n            story.chapters.forEach(chapter => {\r\n                if (chapter.order > order) order = chapter.order;\r\n            });\r\n        }\r\n        return order + 1;\r\n    },\r\n    getCurrencyName: state => id => {\r\n        const config = state.config.Currencies.find(currency => currency.id === id);\r\n        return config ? config.name : 'Ожидание';\r\n    },\r\n    getCurrencyById: state => id => {\r\n        const config = state.config.Currencies.find(currency => currency.id === id);\r\n        return config || {};\r\n    },\r\n    getMultiProductsList: state => {\r\n        const list = [];\r\n        Object.values(state.config.Products.products).forEach(data => {\r\n            if (data.rewards.length !== 1) list.push(data);\r\n        });\r\n        return list;\r\n    },\r\n    getSingleProductsList: state => {\r\n        const list = {};\r\n        Object.values(state.config.Products.products).forEach(data => {\r\n            if (data.rewards.length === 1) {\r\n                if (!list[data.rewards[0].id]) list[data.rewards[0].id] = [];\r\n                list[data.rewards[0].id].push(data);\r\n            }\r\n        });\r\n        return list;\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    update,\r\n    async getConfig({state, commit}) {\r\n        return new Promise(resolve => {\r\n            if (state.isInitialized) {\r\n                resolve(state.config);\r\n                return;\r\n            }\r\n    \r\n            const firebaseApp = initializeApp(FirebaseConfig);\r\n            const auth = getAuth();\r\n            const provider = new GoogleAuthProvider().addScope('https://www.googleapis.com/auth/cloud-platform');\r\n    \r\n            onAuthStateChanged(auth, (user) => {\r\n                const fetchConfig = () => {\r\n                    const remoteConfig = getRemoteConfig(firebaseApp);\r\n                    remoteConfig.settings.minimumFetchIntervalMillis = FetchIntervalMillis;\r\n                    remoteConfig.settings.fetchTimeoutMillis = FetchIntervalMillis;\r\n                    fetchAndActivate(remoteConfig).then(_ => {\r\n                        const config = getAll(remoteConfig);\r\n                        Object.keys(config).forEach(key => {\r\n                            try {\r\n                                config[key] = JSON.parse(config[key].asString());\r\n                            } catch (e) {\r\n                            }\r\n                        });\r\n                        commit('UPDATE', {\r\n                            isInitialized: true,\r\n                            config\r\n                        });\r\n                        resolve(config);\r\n                    }).catch(error => {\r\n                        resolve({error});\r\n                    });\r\n                };\r\n        \r\n                if (user) {\r\n                    commit('UPDATE', {accessToken: user.accessToken, userEmail: user.email});\r\n                    fetchConfig();\r\n                } else {\r\n                    signInWithPopup(auth, provider)\r\n                        .then(result => {\r\n                            const credential = GoogleAuthProvider.credentialFromResult(result);\r\n                            commit('UPDATE', {accessToken: credential.accessToken, userEmail: result.user.email});\r\n                            fetchConfig();\r\n                        })\r\n                        .catch(error => {\r\n                            resolve({error});\r\n                        });\r\n                }\r\n            });\r\n        });\r\n    },\r\n    async updateConfig({state}) {\r\n        return new Promise(resolve => {\r\n            const config = {parameters: {}};\r\n            \r\n            Object.keys(state.config).forEach(key => {\r\n                let value;\r\n                \r\n                if (typeof state.config[key] == 'object')\r\n                    value = JSON.stringify(state.config[key]);\r\n                else\r\n                    value = state.config[key];\r\n                \r\n                config.parameters[key] = {defaultValue: {value}};\r\n            });\r\n            api.put('', config)\r\n                .then(_ => {\r\n                    resolve({success: true});\r\n                })\r\n                .catch(error => resolve({error}));\r\n        });\r\n    },\r\n    async saveStory({commit, dispatch}, {storyData, isNewStory}) {\r\n        return new Promise(resolve => {\r\n            commit('SAVE_STORY', storyData);\r\n            dispatch('updateConfig')\r\n                .then(response => {\r\n                    if (isNewStory)\r\n                        resolve({...response, redirectStory: storyData.id});\r\n                    else\r\n                        resolve(response);\r\n                })\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async setStoryChapterPublishState({commit, dispatch}, data) {\r\n        return new Promise(resolve => {\r\n            commit('SET_STORY_CHAPTER_PUBLISH_STATE', data);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async saveStoryChapter({commit, dispatch}, {storyId, chapterData}) {\r\n        return new Promise(resolve => {\r\n            commit('SAVE_STORY_CHAPTER', {storyId, chapterData});\r\n            commit('ADD_CHAPTER_SORTING_ORDER', {storyId, chapterId: chapterData.id, commit});\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async updateChapterSortingOrder({commit, dispatch}, data) {\r\n        return new Promise(resolve => {\r\n            commit('UPDATE_CHAPTERS_SORTING_ORDER', data);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async saveCurrency({commit, dispatch}, currencyData) {\r\n        return new Promise(resolve => {\r\n            commit('SAVE_CURRENCY', currencyData);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async saveCategory({commit, dispatch}, categoryData) {\r\n        return new Promise(resolve => {\r\n            commit('SAVE_CATEGORY', categoryData);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async saveGenre({commit, dispatch}, genreData) {\r\n        return new Promise(resolve => {\r\n            commit('SAVE_GENRE', genreData);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async updateEconomyConfig({commit, dispatch}, data) {\r\n        return new Promise(resolve => {\r\n            commit('UPDATE_ECONOMY_CONFIG', data);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async updateFakeStories({commit, dispatch}, data) {\r\n        return new Promise(resolve => {\r\n            commit('UPDATE_ECONOMY_CONFIG', data);\r\n            commit('UPDATE_FAKE_STORIES', data);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async savePrice({commit, dispatch}, priceData) {\r\n        return new Promise(resolve => {\r\n            commit('SAVE_PRICE', priceData);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async updateStoriesRecommendedOrder({commit, dispatch}, sortOrder) {\r\n        return new Promise(resolve => {\r\n            commit('UPDATE_STORIES_RECOMMENDED_ORDER', sortOrder);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async saveProduct({commit, dispatch}, productData) {\r\n        return new Promise(resolve => {\r\n            commit('SAVE_PRODUCT', productData);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async deleteProduct({commit, dispatch}, productId) {\r\n        return new Promise(resolve => {\r\n            commit('DELETE_PRODUCT', productId);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async updateDailyBonusesConfig({commit, dispatch}, config) {\r\n        return new Promise(resolve => {\r\n            commit('UPDATE_DAILY_BONUSES_CONFIG', config);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async updateProductsOrder({commit, dispatch}, order) {\r\n        return new Promise(resolve => {\r\n            commit('UPDATE_PRODUCTS_ORDER', order);\r\n            dispatch('updateConfig')\r\n                .then(response => resolve(response))\r\n                .catch(error => resolve(error));\r\n        });\r\n    },\r\n    async signOut({commit}) {\r\n        return new Promise(resolve => {\r\n            const auth = getAuth();\r\n            signOut(auth)\r\n                .then(response => {\r\n                    commit('UPDATE', {userEmail: '', accessToken: '', isInitialized: false});\r\n                    resolve(response);\r\n                })\r\n                .catch(error => resolve(error));\r\n        });\r\n    }\r\n};\r\n\r\nconst mutations = {\r\n    UPDATE,\r\n    SET_STORY_CHAPTER_PUBLISH_STATE(state, {storyId, chapterId, isPublished}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return;\r\n        \r\n        const chapterIndex = stories[storyIndex].chapters.findIndex(chapter => chapter.id === chapterId);\r\n        if (chapterIndex === -1) return;\r\n        stories[storyIndex].chapters[chapterIndex].is_published = isPublished;\r\n    \r\n        // проверяем опубликованность истории - установлена последняя глава и истории и она должна быть  опубликована\r\n        const lastPublishedChapterId = stories[storyIndex].last_chapter_id;\r\n        const chapterData = stories[storyIndex].chapters.find(chapter => chapter.id === lastPublishedChapterId);\r\n        stories[storyIndex].is_published = typeof chapterData !== 'undefined';\r\n        \r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n    },\r\n    ADD_STORY_GENRE(state, {storyId, genreData}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return;\r\n        \r\n        const genreIndex = stories[storyIndex].genres.findIndex(g => g.id === genreData.id);\r\n        if (genreIndex > -1) return;\r\n    \r\n        stories[storyIndex].genres.push(genreData);\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n    },\r\n    SAVE_STORY(state, storyData) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyData.id);\r\n        if (storyIndex > -1) stories[storyIndex] = storyData;\r\n        else stories.push(storyData);\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n    },\r\n    SAVE_STORY_CHAPTER(state, {storyId, chapterData}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return;\r\n        \r\n        const chapterIndex = stories[storyIndex].chapters.findIndex(chapter => chapter.id === chapterData.id);\r\n        if (chapterIndex > -1)\r\n            Object.keys(chapterData).forEach(key => stories[storyIndex].chapters[chapterIndex][key] = chapterData[key]);\r\n        else\r\n            stories[storyIndex].chapters.push(chapterData);\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n    },\r\n    ADD_STORY_TO_CATEGORY(state, {storyId, categoryId}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return; // создается новая история\r\n        //todo разобраться с order\r\n        stories[storyIndex].categories.push({id: categoryId, order: 0});\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n        \r\n        const categories = clone(state.config.Stories.categories);\r\n        const categoryIndex = categories.findIndex(category => category.id === categoryId);\r\n        if (categoryIndex === -1) return;\r\n        categories[categoryIndex].stories.push(storyId);\r\n        Vue.set(state.config.Stories, 'categories', categories);\r\n    },\r\n    DELETE_STORY_FROM_CATEGORY(state, {storyId, categoryId}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        let storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return; // создается новая история\r\n        let categoryIndex = stories[storyIndex].categories.findIndex(category => category.id === categoryId);\r\n        if (categoryIndex === -1) return;\r\n        stories[storyIndex].categories.splice(categoryIndex, 1);\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n        \r\n        const categories = clone(state.config.Stories.categories);\r\n        categoryIndex = categories.findIndex(category => category.id === categoryId);\r\n        if (categoryIndex === -1) return;\r\n        storyIndex = categories[categoryIndex].stories.indexOf(storyId);\r\n        if (storyIndex === -1) return;\r\n        categories[categoryIndex].stories.splice(storyIndex, 1);\r\n        Vue.set(state.config.Stories, 'categories', categories);\r\n    },\r\n    DELETE_STORY_GENRE(state, {storyId, genreId}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return;\r\n    \r\n        const genreIndex = stories[storyIndex].genres.findIndex(genre => genre.id === genreId);\r\n        if (genreIndex === -1) return;\r\n    \r\n        stories[storyIndex].genres.splice(genreIndex, 1);\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n    },\r\n    SET_CHAPTER_DEFAULT_REWARD(state, {storyId, chapterId}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return;\r\n        \r\n        const chapterIndex = stories[storyIndex].chapters.findIndex(chapter => chapter.id === chapterId);\r\n        if (chapterIndex === -1) return;\r\n        \r\n        stories[storyIndex].chapters[chapterIndex].rewards = [{\r\n            currency_id: state.config.EconomyConfig.chapter_reward_currency_id,\r\n            value: state.config.EconomyConfig.chapter_reward_currency_value,\r\n        }];\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n    },\r\n    UPDATE_CHAPTERS_SORTING_ORDER(state, {storyId, order}) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        const storyIndex = stories.findIndex(story => story.id === storyId);\r\n        if (storyIndex === -1) return;\r\n        \r\n        order.forEach((chapterId, index) => {\r\n            const chapterIndex = stories[storyIndex].chapters.findIndex(chapterData => chapterData.id === chapterId);\r\n            if (chapterIndex > -1) stories[storyIndex].chapters[chapterIndex].order = index + 1;\r\n        });\r\n    \r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n        Vue.set(state.chaptersSortingOrder, storyId, order);\r\n    },\r\n    ADD_CHAPTER_SORTING_ORDER(state, {storyId, chapterId, commit}) {\r\n        const order = state.chaptersSortingOrder[storyId] ? clone(state.chaptersSortingOrder[storyId]) : [];\r\n        if (order.includes(chapterId)) return;\r\n        order.push(chapterId);\r\n        commit('UPDATE_CHAPTERS_SORTING_ORDER', {storyId, order});\r\n    },\r\n    SAVE_CURRENCY(state, currencyData) {\r\n        const currencies = clone(state.config.Currencies);\r\n        const currencyIndex = currencies.findIndex(currency => currency.id === currencyData.id);\r\n        \r\n        if (currencyIndex > -1)\r\n            currencies[currencyIndex] = currencyData;\r\n        else\r\n            currencies.push(currencyData);\r\n        \r\n        Vue.set(state.config, 'Currencies', currencies);\r\n    },\r\n    SAVE_CATEGORY(state, categoryData) {\r\n        const categories = clone(state.config.Categories);\r\n        const categoryIndex = categories.findIndex(currency => currency.id === categoryData.id);\r\n        \r\n        if (categoryIndex > -1)\r\n            categories[categoryIndex] = categoryData;\r\n        else\r\n            categories.push(categoryData);\r\n        \r\n        Vue.set(state.config, 'Categories', categories);\r\n    },\r\n    SAVE_GENRE(state, genreData) {\r\n        const genres = clone(state.config.Genres);\r\n        const genreIndex = genres.findIndex(genre => genre.id === genreData.id);\r\n    \r\n        if (genreIndex > -1)\r\n            genres[genreIndex] = genreData;\r\n        else\r\n            genres.push(genreData);\r\n    \r\n        Vue.set(state.config, 'Genres', genres);\r\n    },\r\n    UPDATE_ECONOMY_CONFIG(state, data) {\r\n        Object.keys(data).forEach(key => Vue.set(state.config.EconomyConfig, key, data[key]));\r\n    },\r\n    UPDATE_FAKE_STORIES(state, data) {\r\n        if (data.fake_stories_enabled)\r\n            Vue.set(state.config.Stories.fake_stories, 'enabled', data.fake_stories_enabled);\r\n        if (data.fake_stories_chapters_count)\r\n            Vue.set(state.config.Stories.fake_stories, 'chapters_count', data.fake_stories_chapters_count);\r\n    },\r\n    SAVE_PRICE(state, priceData) {\r\n        const prices = clone(state.config.Prices.prices);\r\n        const priceIndex = prices.findIndex(price => price.id === priceData.id);\r\n        if (priceIndex > -1) prices[priceIndex] = priceData;\r\n        else prices.push(priceData);\r\n        Vue.set(state.config.Prices, 'prices', prices);\r\n    },\r\n    UPDATE_STORIES_RECOMMENDED_ORDER(state, sortOrder) {\r\n        const stories = clone(state.config.Stories.stories);\r\n        Object.entries(sortOrder).forEach(([storyId, order]) => {\r\n            storyId = parseInt(storyId, 10);\r\n            const storyIndex = stories.findIndex(story => story.id === storyId);\r\n            if (storyId > -1) stories[storyIndex].order_recommended = order;\r\n        });\r\n        Vue.set(state.config.Stories, 'stories', stories);\r\n    },\r\n    SAVE_PRODUCT(state, productData) {\r\n        const products = clone(state.config.Products.products);\r\n        const productIndex = products.findIndex(product => product.id === productData.id);\r\n        if (productIndex > -1) products[productIndex] = productData;\r\n        else products.push(productData);\r\n        Vue.set(state.config.Products, 'products', products);\r\n    },\r\n    DELETE_PRODUCT(state, productId) {\r\n        const products = clone(state.config.Products.products);\r\n        const productIndex = products.findIndex(product => product.id === productId);\r\n        if (productIndex === -1) return;\r\n        products.splice(productIndex, 1);\r\n        Vue.set(state.config.Products, 'products', products);\r\n    },\r\n    UPDATE_DAILY_BONUSES_CONFIG(state, config) {\r\n        const dailyBonuses = clone(state.config.DailyBonuses);\r\n        Object.keys(config).forEach(key => dailyBonuses[key] = config[key]);\r\n        Vue.set(state.config, 'DailyBonuses', dailyBonuses);\r\n    },\r\n    UPDATE_PRODUCTS_ORDER(state, order) {\r\n        const products = clone(state.config.Products.products);\r\n        const sortedProducts = [];\r\n        Object.values(order).forEach(productId => {\r\n            const productData = products.find(product => product.id === productId);\r\n            if (productData) sortedProducts.push(productData);\r\n        });\r\n        Vue.set(state.config.Products, 'products', sortedProducts);\r\n    }\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n};\r\n","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nimport permissions from '@/store/modules/permissions';\r\nimport stories from '@/store/modules/stories';\r\nimport users from '@/store/modules/users';\r\nimport players from '@/store/modules/players';\r\nimport firebase from '@/store/modules/firebase';\r\n\r\nimport createPersistedState from 'vuex-persistedstate';\r\nimport {update, UPDATE} from '@/store/utils';\r\nimport api from '@/api';\r\n\r\nVue.use(Vuex);\r\n\r\nconst state = {\r\n    routerHasHistory: false,\r\n    configs: Object\r\n};\r\n\r\nconst getters = {};\r\n\r\nconst mutations = {\r\n    UPDATE,\r\n    \r\n    UPDATE_CONFIG(state, config) {\r\n        Object.entries(config).forEach(([key, value]) => {\r\n            Vue.set(state.configs, key, value);\r\n        });\r\n    }\r\n};\r\n\r\nconst actions = {\r\n    update,\r\n    async getConfigs({commit, state}) {\r\n        return new Promise(resolve => {\r\n            if (Object.keys(state.configs).length) {\r\n                resolve(state.configs);\r\n                return;\r\n            }\r\n            \r\n            api.fetch('/config')\r\n                .then(configs => {\r\n                    commit('UPDATE', {configs});\r\n                    resolve(configs);\r\n                })\r\n                .catch(error => {\r\n                    resolve({error});\r\n                });\r\n        });\r\n    },\r\n    async saveConfig({commit}, data) {\r\n        return new Promise(resolve => {\r\n            api.patch('/config', data)\r\n                .then(config => {\r\n                    commit('UPDATE_CONFIG', config);\r\n                    resolve(config);\r\n                })\r\n                .catch(error => {\r\n                    resolve({error});\r\n                });\r\n        });\r\n    }\r\n};\r\n\r\nconst modules = {\r\n    permissions,\r\n    stories,\r\n    users,\r\n    players,\r\n    firebase\r\n};\r\n\r\nconst store = new Vuex.Store({\r\n    namespaced: true,\r\n    name: 'store',\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations,\r\n    modules,\r\n    plugins: [createPersistedState({\r\n        paths: [\r\n            'firebase.chaptersSortingOrder',\r\n        ],\r\n    })],\r\n});\r\n\r\nif (module.hot) {\r\n    module.hot.accept([\r\n        './modules/permissions',\r\n        './modules/stories',\r\n        './modules/users',\r\n        './modules/players',\r\n        './modules/firebase',\r\n    ], () => {\r\n        const newPermissionsModule = require('./modules/permissions').default;\r\n        const newStoriesModule = require('./modules/stories').default;\r\n        const newUsersModule = require('./modules/users').default;\r\n        const newPlayersModule = require('./modules/players').default;\r\n        const newFirebaseModule = require('./modules/firebase').default;\r\n        \r\n        store.hotUpdate({\r\n            modules: {\r\n                permissions: newPermissionsModule,\r\n                stories: newStoriesModule,\r\n                users: newUsersModule,\r\n                players: newPlayersModule,\r\n                firebase: newFirebaseModule,\r\n            },\r\n        });\r\n    });\r\n}\r\n\r\nexport default store;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-page page\"},[_c('div',{staticClass:\"main-page__content\"},[_vm._v(\" Hello, world! \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"main-page page\">\n        <div class=\"main-page__content\">\n            Hello, world!\n        </div>\n    </div>\n</template>\n\n<script>\nimport {mapActions} from 'vuex';\n\nexport default {\n    name: 'main-page',\n    data: () => ({}),\n    components: {\n        UiButton: () => import('../../components/ui/UiButton')\n    },\n    async mounted() {\n        const response = await this.getConfig();\n        if (!response.error) {\n            await this.$router.push('/stories');\n        } else {\n            alert('Ошибка авторизации в гугле');\n        }\n    },\n    methods: {\n        ...mapActions('firebase', ['getConfig', 'updateConfigs'])\n    }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../assets/scss/mixins\";\n@import \"../../assets/scss/variables\";\n\n.main-page {\n\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPage.vue?vue&type=template&id=68d98915&\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainPage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function middlewarePipeline(context, middleware, index) {\r\n    const nextMiddleware = middleware[index];\r\n    \r\n    if (!nextMiddleware) {\r\n        return context.next;\r\n    }\r\n    \r\n    return () => {\r\n        const nextPipeline = middlewarePipeline(context, middleware, index + 1);\r\n        nextMiddleware({...context, next: nextPipeline});\r\n    };\r\n}\r\n\r\nexport default middlewarePipeline;\r\n","import Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\nimport store from '@/store';\r\nimport MainPage from '../views/Firebase/MainPage.vue';\r\nimport middlewarePipeline from './middlewarePipeline';\r\nimport LINKS from './links';\r\n\r\nVue.use(VueRouter);\r\n\r\nconst DefaultTitle = process.env.VUE_APP_SITE_TITLE;\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        name: 'home',\r\n        component: MainPage,\r\n    },\r\n    {\r\n        path: '/main-page',\r\n        name: 'main-page',\r\n        component: MainPage\r\n    },\r\n    {\r\n        path: '/stories',\r\n        name: 'stories',\r\n        component: () => import(/* webpackChunkName: \"stories\" */ '../views/Firebase/Stories.vue'),\r\n    },\r\n    {\r\n        path: '/users',\r\n        name: 'users',\r\n        component: () => import(/* webpackChunkName: \"users\" */ '../views/Backend/Users.vue'),\r\n    },\r\n    {\r\n        path: '/currencies',\r\n        name: 'currencies',\r\n        component: () => import(/* webpackChunkName: \"currencies\" */ '../views/Firebase/Currencies.vue'),\r\n    },\r\n    {\r\n        path: '/categories',\r\n        name: 'categories',\r\n        component: () => import(/* webpackChunkName: \"categories\" */ '../views/Firebase/Categories.vue'),\r\n    },\r\n    {\r\n        path: '/genres',\r\n        name: 'genres',\r\n        component: () => import(/* webpackChunkName: \"genres\" */ '../views/Firebase/Genres.vue'),\r\n    },\r\n    {\r\n        path: '/story',\r\n        name: 'story',\r\n        props: true,\r\n        component: () => import(/* webpackChunkName: \"story\" */ '../views/Firebase/Story.vue'),\r\n        children: [\r\n            {\r\n                path: ':storyId',\r\n                name: 'story-view',\r\n                component: import(/* webpackChunkName: \"story\" */ '../views/Firebase/Story.vue'),\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        path: '/chapters',\r\n        name: 'chapters',\r\n        component: () => import(/* webpackChunkName: \"chapters\" */ '../views/Firebase/Chapter.vue'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/first-story',\r\n        name: 'first-story',\r\n        component: () => import(/* webpackChunkName: \"first_story\" */ '../views/Firebase/FirstStory.vue'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/economy',\r\n        name: 'economy',\r\n        component: () => import(/* webpackChunkName: \"economy\" */ '../views/Firebase/Economy.vue'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/prices',\r\n        name: 'prices',\r\n        component: () => import(/* webpackChunkName: \"prices\" */ '../views/Firebase/Prices.vue'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/products',\r\n        name: 'products',\r\n        component: () => import(/* webpackChunkName: \"products\" */ '../views/Firebase/Products.vue'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/recommended-stories',\r\n        name: 'recommended-stories',\r\n        component: () => import(/* webpackChunkName: \"products\" */ '../views/Firebase/RecommendedStories.vue'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/players',\r\n        name: 'players',\r\n        component: () => import(/* webpackChunkName: \"products\" */ '../views/Backend/Players.vue'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/keys-timer',\r\n        name: 'keys-timer',\r\n        component: () => import(/* webpackChunkName: \"keys_timer\" */ '../views/Firebase/KeysTimer'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/daily-bonus',\r\n        name: 'daily-bonus',\r\n        component: () => import(/* webpackChunkName: \"daily_bonus\" */ '../views/Firebase/DailyBonus'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/fake-stories',\r\n        name: 'fake-stories',\r\n        component: () => import(/* webpackChunkName: \"fake_stories\" */ '../views/FakeStories'),\r\n        props: true,\r\n    },\r\n    \r\n    \r\n    \r\n    \r\n    {\r\n        path: '/season-first-purchase',\r\n        name: 'season-first-purchase',\r\n        component: () => import(/* webpackChunkName: \"season_first_purchase\" */ '../views/Backend/SeasonFirstPurchase'),\r\n        props: true,\r\n    },\r\n    {\r\n        path: '/sale-action',\r\n        name: 'sale-action',\r\n        component: () => import(/* webpackChunkName: \"sale_action\" */ '../views/Backend/SaleAction'),\r\n        props: true,\r\n    },\r\n];\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    base: process.env.BASE_URL,\r\n    routes\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if (!to.meta.middleware) {\r\n        return next();\r\n    }\r\n  \r\n    const middleware = to.meta.middleware;\r\n    \r\n    const context = {to, from, next, store};\r\n    \r\n    return middleware[0]({\r\n        ...context,\r\n        next: middlewarePipeline(context, middleware, 1)\r\n    });\r\n});\r\n\r\nrouter.afterEach((to, from) => {\r\n    Vue.nextTick(() => {\r\n        const config = LINKS.find(config => config.link === to.name);\r\n        document.title = config ? `Админка - ${config.title}` : DefaultTitle;\r\n        \r\n        setTimeout(() => {\r\n            window.scrollTo(0, 0);\r\n        }, 0);\r\n    });\r\n});\r\n\r\nexport default router;\r\n","import Vue from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport store from './store';\r\nimport VueSVGIcon from 'vue-svgicon';\r\nimport VModal from 'vue-js-modal';\r\nimport {BootstrapVue} from 'bootstrap-vue';\r\nimport Clipboard from 'v-clipboard';\r\nimport VueTimepicker from 'vue2-timepicker';\r\nimport 'vue2-timepicker/dist/VueTimepicker.css';\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(VueSVGIcon);\r\nVue.use(VModal, {dynamic: true});\r\nVue.use(BootstrapVue);\r\nVue.use(Clipboard);\r\nVue.use(VueTimepicker);\r\n\r\nwindow.app = new Vue({\r\n    router,\r\n    store,\r\n    render: h => h(App)\r\n}).$mount('#app');\r\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=style&index=0&lang=scss&\"","import Vue from 'vue';\r\n\r\nconst bus = new Vue();\r\n\r\nexport default bus;\r\n","const emailReg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/\r\n\r\nexport const validateEmail = email => emailReg.test(email);\r\n\r\nexport const clone = origin => JSON.parse(JSON.stringify(origin));\r\n\r\nexport const areEqual = (objA, objB) => JSON.stringify(objA) === JSON.stringify(objB);\r\n\r\nexport const getCookie = name => {\r\n    let matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n};\r\n\r\nexport const setCookie = (name, value, options = {}) => {\r\n    options = {\r\n        path: '/',\r\n        ...options\r\n    };\r\n    \r\n    if (options.expires instanceof Date) {\r\n        options.expires = options.expires.toUTCString();\r\n    }\r\n    \r\n    let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n    \r\n    for (let optionKey in options) {\r\n        updatedCookie += \"; \" + optionKey;\r\n        let optionValue = options[optionKey];\r\n        if (optionValue !== true) {\r\n            updatedCookie += \"=\" + optionValue;\r\n        }\r\n    }\r\n    \r\n    document.cookie = updatedCookie;\r\n};\r\n\r\nexport const sortByAttrAsc = (arr, attrName) => {\r\n    return arr.sort((a, b) => {\r\n        if (a[attrName] < b[attrName]) {\r\n            return -1;\r\n        }\r\n    \r\n        if (a[attrName] > b[attrName]) {\r\n            return 1;\r\n        }\r\n    \r\n        return 0;\r\n    });\r\n};\r\n\r\nexport const sortByAttrDesc = (arr, attrName) => {\r\n    return arr.sort((a, b) => {\r\n        if (a[attrName] > b[attrName]) {\r\n            return -1;\r\n        }\r\n    \r\n        if (a[attrName] < b[attrName]) {\r\n            return 1;\r\n        }\r\n    \r\n        return 0;\r\n    });\r\n};\r\n\r\n/**\r\n *\r\n * @param array\r\n * @param attr\r\n * @param value\r\n * @returns {number}\r\n */\r\nexport const findWithAttr = (array, attr, value) => {\r\n    for (let i = 0; i < array.length; i += 1) {\r\n        if (array[i][attr] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n};\r\n\r\nexport const toDataURL = (url, callback = () => {}) => {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.onload = function() {\r\n        const reader = new FileReader();\r\n        reader.onloadend = function() {\r\n            callback(reader.result);\r\n        }\r\n        reader.readAsDataURL(xhr.response);\r\n    };\r\n    xhr.open('GET', url);\r\n    xhr.responseType = 'blob';\r\n    xhr.send();\r\n}\r\n\r\nexport const uploadImage = (event, callback = () => {}) => {\r\n    const image = event.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(image);\r\n    reader.onload = event => callback(event.target.result);\r\n};\r\n"],"sourceRoot":""}