(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["economy"],{"01c5":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page economy-page"},[r("div",{staticClass:"page__title"},[r("nav-back"),e._v(" Экономика - общие значения ")],1),r("div",{staticClass:"form-group"},[r("div",{staticClass:"form-group__left-block"},[r("label",{staticClass:"economy-page__label"},[e._v("Награда за прохождение главы")]),r("b-form-select",{staticClass:"form-control",attrs:{options:e.currenciesOptions},model:{value:e.selectedChapterRewardOption,callback:function(t){e.selectedChapterRewardOption=e._n(t)},expression:"selectedChapterRewardOption"}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.chapterRewardValue,expression:"chapterRewardValue",modifiers:{number:!0}}],staticClass:"form-control mt-2",attrs:{type:"number",placeholder:"Количество",min:"0",oninput:"validity.valid||(value=0)"},domProps:{value:e.chapterRewardValue},on:{input:function(t){t.target.composing||(e.chapterRewardValue=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1),r("div",{staticClass:"form-group__right-block",on:{click:e.onSaveChapterRewardClick}},[r("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-check-square",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"currentColor",viewBox:"0 0 16 16",title:"Применить"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"}})])])]),r("div",{staticClass:"form-group mt-3"},[r("div",{staticClass:"form-group__left-block"},[r("label",{staticClass:"economy-page__label"},[e._v("Награда за прохождение истории")]),r("b-form-select",{staticClass:"form-control",attrs:{options:e.currenciesOptions},model:{value:e.selectedStoryRewardOption,callback:function(t){e.selectedStoryRewardOption=e._n(t)},expression:"selectedStoryRewardOption"}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.storyRewardValue,expression:"storyRewardValue",modifiers:{number:!0}}],staticClass:"form-control mt-2",attrs:{type:"number",placeholder:"Количество",min:"0",oninput:"validity.valid||(value=0)"},domProps:{value:e.storyRewardValue},on:{input:function(t){t.target.composing||(e.storyRewardValue=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1),r("div",{staticClass:"form-group__right-block",on:{click:e.onSaveStoryRewardClick}},[r("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-check-square",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"currentColor",viewBox:"0 0 16 16",title:"Применить"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"}})])])]),r("div",{staticClass:"form-group mt-3"},[r("div",{staticClass:"form-group__left-block"},[r("label",{staticClass:"economy-page__label"},[e._v("Цена кастомизации")]),r("b-form-select",{staticClass:"form-control",attrs:{options:e.currenciesOptions},model:{value:e.selectedCustomizationOption,callback:function(t){e.selectedCustomizationOption=e._n(t)},expression:"selectedCustomizationOption"}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.customizationPriceValue,expression:"customizationPriceValue",modifiers:{number:!0}}],staticClass:"form-control mt-2",attrs:{type:"number",placeholder:"Количество",min:"0",oninput:"validity.valid||(value=0)"},domProps:{value:e.customizationPriceValue},on:{input:function(t){t.target.composing||(e.customizationPriceValue=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1),r("div",{staticClass:"form-group__right-block",on:{click:e.onSaveCustomizationPriceClick}},[r("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-check-square",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"currentColor",viewBox:"0 0 16 16",title:"Применить"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"}})])])]),r("div",{staticClass:"form-group mt-3"},[r("div",{staticClass:"form-group__left-block"},[r("label",{staticClass:"economy-page__label"},[e._v("Цена открытия истории")]),r("b-form-select",{staticClass:"form-control",attrs:{options:e.currenciesOptions},model:{value:e.selectedUnlockStoryOption,callback:function(t){e.selectedUnlockStoryOption=e._n(t)},expression:"selectedUnlockStoryOption"}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.unlockStoryPriceValue,expression:"unlockStoryPriceValue",modifiers:{number:!0}}],staticClass:"form-control mt-2",attrs:{type:"number",placeholder:"Количество",min:"0",oninput:"validity.valid||(value=0)"},domProps:{value:e.unlockStoryPriceValue},on:{input:function(t){t.target.composing||(e.unlockStoryPriceValue=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})],1),r("div",{staticClass:"form-group__right-block",on:{click:e.onSaveUnlockStoryPriceClick}},[r("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-check-square",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"currentColor",viewBox:"0 0 16 16",title:"Применить"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"}})])])])])},o=[],i=r("5530"),n=r("1da1"),c=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("d81d"),r("4de4"),r("b0c0"),r("25f0"),r("2f62")),s=r("a70a"),l={data:function(){return{currenciesOptions:[{value:0,text:"Ожидание"}],selectedChapterRewardOption:0,selectedStoryRewardOption:0,selectedCustomizationOption:0,selectedUnlockStoryOption:0,chapterRewardValue:0,storyRewardValue:0,customizationPriceValue:0,unlockStoryPriceValue:0}},components:{NavBack:function(){return r.e("chunk-49c533a1").then(r.bind(null,"e019"))}},computed:{currencies:function(){return this.$store.state.firebase.config.Currencies},config:function(){return this.$store.state.firebase.config.EconomyConfig}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getConfig();case 2:e.fillSelects();case 3:case"end":return t.stop()}}),t)})))()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])("firebase",["getConfig","updateEconomyConfig"])),{},{fillSelects:function(){this.currenciesOptions=this.currencies.filter((function(e){return e.id>0})).map((function(e){return{value:e.id,text:e.name}})),this.selectedChapterRewardOption=this.config.chapter_reward_currency_id||1,this.chapterRewardValue=this.config.chapter_reward_currency_value||0,this.selectedStoryRewardOption=this.config.story_reward_currency_id||1,this.storyRewardValue=this.config.story_reward_currency_value||0,this.selectedCustomizationOption=this.config.customization_currency_id||1,this.customizationPriceValue=this.config.customization_currency_value||0,this.selectedUnlockStoryOption=this.config.story_unlock_currency_id||1,this.unlockStoryPriceValue=this.config.story_unlock_currency_value||0},checkResponse:function(e){e.error?s["a"].$emit("show-notification-message","Ошибка: ".concat(e.error.toString())):s["a"].$emit("show-notification-message","Сохранено")},onSaveChapterRewardClick:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={chapter_reward_currency_id:e.selectedChapterRewardOption,chapter_reward_currency_value:e.chapterRewardValue},t.next=3,e.updateEconomyConfig(r);case 3:a=t.sent,e.checkResponse(a);case 5:case"end":return t.stop()}}),t)})))()},onSaveStoryRewardClick:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={story_reward_currency_id:e.selectedStoryRewardOption,story_reward_currency_value:e.storyRewardValue},t.next=3,e.updateEconomyConfig(r);case 3:a=t.sent,e.checkResponse(a);case 5:case"end":return t.stop()}}),t)})))()},onSaveCustomizationPriceClick:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={customization_currency_id:e.selectedCustomizationOption,customization_currency_value:e.customizationPriceValue},t.next=3,e.updateEconomyConfig(r);case 3:a=t.sent,e.checkResponse(a);case 5:case"end":return t.stop()}}),t)})))()},onSaveUnlockStoryPriceClick:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={story_unlock_currency_id:e.selectedUnlockStoryOption,story_unlock_currency_value:e.unlockStoryPriceValue},t.next=3,e.updateEconomyConfig(r);case 3:a=t.sent,e.checkResponse(a);case 5:case"end":return t.stop()}}),t)})))()}})},u=l,d=(r("43e7"),r("2877")),p=Object(d["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},"43e7":function(e,t,r){"use strict";r("8fa0")},"8fa0":function(e,t,r){}}]);
//# sourceMappingURL=economy.6758a1b4.js.map