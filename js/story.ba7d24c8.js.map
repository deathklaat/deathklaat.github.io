{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/Firebase/Story.vue?f926","webpack:///./src/configs/restrictions.js","webpack:///./src/components/modals/AddStoryCategoryModal.vue?e1d9","webpack:///src/components/modals/AddStoryCategoryModal.vue","webpack:///./src/components/modals/AddStoryCategoryModal.vue?ff4e","webpack:///./src/components/modals/AddStoryCategoryModal.vue","webpack:///./src/modals/addStoryCategoryModal.js","webpack:///./src/components/modals/AddStoryGenreModal.vue?0d09","webpack:///src/components/modals/AddStoryGenreModal.vue","webpack:///./src/components/modals/AddStoryGenreModal.vue?15e3","webpack:///./src/components/modals/AddStoryGenreModal.vue","webpack:///./src/modals/addStoryGenreModal.js","webpack:///src/views/Firebase/Story.vue","webpack:///./src/views/Firebase/Story.vue?8b6b","webpack:///./src/views/Firebase/Story.vue","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/lib/Popup.js","webpack:///./src/components/modals/AddStoryCategoryModal.vue?1f6a","webpack:///./src/views/Firebase/Story.vue?b97c","webpack:///./src/components/modals/AddStoryGenreModal.vue?3350"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","class","anyChanges","attrs","saveButtonColor","on","onSaveClick","saveButtonText","staticStyle","directives","name","rawName","modifiers","clipStoryId","intStoryId","_m","value","expression","keyChanged","isNewStory","domProps","$event","target","composing","key","titleChanged","descriptionChanged","description","recommendedChanged","recommendedOrder","_n","$forceUpdate","_e","lastChapterChanged","lastChapterOptions","model","callback","$$v","lastChapterId","restrictionGenderChanged","restrictionGenderText","_l","restriction","i","onGenderRestrictionChanged","restrictionAgeChanged","restrictionAgeText","onAgeRestrictionChanged","categoriesChanged","category","onDeleteCategoryClick","id","onAddCategoryClick","genresChanged","genre","onDeleteGenreClick","onAddGenreClick","rewardsChanged","rewards","length","reward","undefined","selectedRewardOptions","currency_id","onRewardsClick","currenciesOptions","$set","rewardValues","isDefaultReward","deleteReward","getAvailableCurrencies","addReward","resetRewardToDefault","onAddChapterClick","sortedChapters","_b","onChaptersMoved","chapterDragging","chapterDragOptions","chapterData","staticRenderFns","RESTRICTIONS_GENDER","isForMen","isForWomen","resetAlert","type","indexOf","keyCode","onAddClick","apply","arguments","close","selectedText","onCategorySelect","availableCategories","alert","component","openAddStoryCategoryModal","storyId","tempCategories","popup","Popup","AddStoryCategoryModal","props","params","transition","width","height","classes","show","onGenreSelect","availableGenres","openAddStoryGenreModal","tempGenres","AddStoryGenreModal","DuplicateRewardException","currencyId","order","storyData","Object","entries","reward_default","bus","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","dummy","valueOf","call","keys","split","j","constructor","events","assign","modalName","VueJSModal","rootInstance","$modal","$emit"],"mappings":"kLACe,SAASA,EAAmBC,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,eAAiBH,G,sECFnC,SAASI,EAAiBC,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOJ,MAAMO,KAAKH,G,gBCDvG,SAASI,IACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,EAAmBX,GACzC,OAAOY,EAAkBZ,IAAQa,EAAgBb,IAAQc,eAA2Bd,IAAQe,M,mBCJ9FC,EAAOC,QAAU,iD,uBCDjB,IAAIC,EAAyB,EAAQ,QACjCC,EAAc,EAAQ,QAEtBC,EAAa,IAAMD,EAAc,IACjCE,EAAQC,OAAO,IAAMF,EAAaA,EAAa,KAC/CG,EAAQD,OAAOF,EAAaA,EAAa,MAGzCI,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAAIC,EAASC,OAAOV,EAAuBQ,IAG3C,OAFW,EAAPD,IAAUE,EAASA,EAAOE,QAAQR,EAAO,KAClC,EAAPI,IAAUE,EAASA,EAAOE,QAAQN,EAAO,KACtCI,IAIXX,EAAOC,QAAU,CAGfa,MAAON,EAAa,GAGpBO,IAAKP,EAAa,GAGlBQ,KAAMR,EAAa,K,oEC1BrB,IAAIS,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,YAAYJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,OAAO,MAAM,GAAGL,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,YAAY,CAACM,MAAM,CAAC,qCAAsCV,EAAIW,YAAYC,MAAM,CAAC,MAAQZ,EAAIa,iBAAiBC,GAAG,CAAC,QAAUd,EAAIe,cAAc,CAACf,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIgB,gBAAgB,QAAQ,KAAKZ,EAAG,MAAM,CAACE,YAAY,iCAAiCW,YAAY,CAAC,SAAW,WAAW,gBAAgB,UAAU,CAACb,EAAG,MAAM,CAACc,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQf,YAAY,uBAAuBM,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,MAAQd,EAAIsB,cAAc,CAACtB,EAAIO,GAAG,gBAAgBP,EAAIQ,GAAGR,EAAIuB,YAAY,SAASnB,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACN,EAAIwB,GAAG,GAAGpB,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,oBAAoBM,MAAM,CAAC,IAAM,kBAAkB,CAACZ,EAAIO,GAAG,wBAAwBH,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUK,MAAOzB,EAAO,IAAE0B,WAAW,QAAQpB,YAAY,eAAeI,MAAM,CAAC,eAAgBV,EAAI2B,YAAYf,MAAM,CAAC,KAAO,OAAO,GAAK,gBAAgB,mBAAmB,gBAAgB,YAAc,eAAe,UAAYZ,EAAI4B,YAAYC,SAAS,CAAC,MAAS7B,EAAO,KAAGc,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,YAAqBhC,EAAIiC,IAAIH,EAAOC,OAAON,eAAcrB,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,oBAAoBM,MAAM,CAAC,IAAM,oBAAoB,CAACZ,EAAIO,GAAG,cAAcH,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUK,MAAOzB,EAAS,MAAE0B,WAAW,UAAUpB,YAAY,eAAeI,MAAM,CAAC,eAAgBV,EAAIkC,cAActB,MAAM,CAAC,KAAO,OAAO,GAAK,kBAAkB,mBAAmB,kBAAkB,YAAc,YAAYiB,SAAS,CAAC,MAAS7B,EAAS,OAAGc,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,YAAqBhC,EAAIS,MAAMqB,EAAOC,OAAON,eAAcrB,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,qBAAqB,CAACN,EAAIO,GAAG,sBAAsBH,EAAG,WAAW,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUK,MAAOzB,EAAe,YAAE0B,WAAW,gBAAgBpB,YAAY,eAAeI,MAAM,CAAC,eAAgBV,EAAImC,oBAAoBvB,MAAM,CAAC,GAAK,wBAAwB,KAAO,IAAI,YAAc,oBAAoBiB,SAAS,CAAC,MAAS7B,EAAe,aAAGc,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,YAAqBhC,EAAIoC,YAAYN,EAAOC,OAAON,eAAcrB,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,qBAAqB,CAACN,EAAIO,GAAG,2BAA2BH,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBK,MAAOzB,EAAoB,iBAAE0B,WAAW,mBAAmBL,UAAU,CAAC,QAAS,KAAQf,YAAY,eAAeI,MAAM,CAAC,eAAgBV,EAAIqC,oBAAoBzB,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,QAAU,6BAA6BiB,SAAS,CAAC,MAAS7B,EAAoB,kBAAGc,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,YAAqBhC,EAAIsC,iBAAiBtC,EAAIuC,GAAGT,EAAOC,OAAON,SAAQ,KAAO,SAASK,GAAQ,OAAO9B,EAAIwC,uBAAyBxC,EAAI4B,WAAqV5B,EAAIyC,KAA7U,CAACrC,EAAG,QAAQ,CAACE,YAAY,yBAAyBI,MAAM,CAAC,eAAgBV,EAAI0C,qBAAqB,CAAC1C,EAAIO,GAAG,uBAAuBH,EAAG,gBAAgB,CAACE,YAAY,eAAeM,MAAM,CAAC,QAAUZ,EAAI2C,oBAAoBC,MAAM,CAACnB,MAAOzB,EAAiB,cAAE6C,SAAS,SAAUC,GAAM9C,EAAI+C,cAAcD,GAAKpB,WAAW,oBAA6BtB,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,qBAAqB,CAACN,EAAIO,GAAG,0BAA0BH,EAAG,MAAMA,EAAG,aAAa,CAACE,YAAY,uCAAuCI,MAAM,CAAC,eAAgBV,EAAIgD,0BAA0BpC,MAAM,CAAC,KAAOZ,EAAIiD,sBAAsB,GAAK,8BAA8BjD,EAAIkD,GAAIlD,EAAsB,oBAAE,SAASmD,EAAYC,GAAG,OAAOhD,EAAG,kBAAkB,CAAC6B,IAAImB,EAAExC,MAAM,CAAC,aAAawC,GAAGtC,GAAG,CAAC,MAAQd,EAAIqD,6BAA6B,CAACrD,EAAIO,GAAG,IAAIP,EAAIQ,GAAG2C,EAAYhC,MAAM,UAAS,IAAI,KAAKf,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAaW,YAAY,CAAC,cAAc,SAAS,CAACb,EAAG,QAAQ,CAACE,YAAY,qBAAqB,CAACN,EAAIO,GAAG,4BAA4BH,EAAG,MAAMA,EAAG,aAAa,CAACE,YAAY,uCAAuCI,MAAM,CAAC,eAAgBV,EAAIsD,uBAAuB1C,MAAM,CAAC,KAAOZ,EAAIuD,mBAAmB,GAAK,wBAAwBvD,EAAIkD,GAAIlD,EAAmB,iBAAE,SAASmD,EAAYC,GAAG,OAAOhD,EAAG,kBAAkB,CAAC6B,IAAImB,EAAExC,MAAM,CAAC,aAAc,GAAMuC,EAAmB,SAAIrC,GAAG,CAAC,MAAQd,EAAIwD,0BAA0B,CAACxD,EAAIO,GAAG,IAAIP,EAAIQ,GAAG2C,EAAYhC,MAAM,UAAS,IAAI,OAAOf,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,oBAAoBI,MAAM,CAAC,eAAgBV,EAAIyD,oBAAoB,CAACzD,EAAIO,GAAG,iBAAiBH,EAAG,MAAMJ,EAAIkD,GAAIlD,EAAkB,gBAAE,SAAS0D,EAASN,GAAG,OAAOhD,EAAG,YAAY,CAAC6B,IAAImB,EAAE9C,YAAY,8BAA8BM,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAU,SAASgB,GAAQ,OAAO9B,EAAI2D,sBAAsBD,EAASE,OAAO,CAAC5D,EAAIO,GAAG,IAAIP,EAAIQ,GAAGkD,EAASvC,MAAM,UAASf,EAAG,YAAY,CAACE,YAAY,oBAAoBM,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAUd,EAAI6D,qBAAqB,CAAC7D,EAAIO,GAAG,UAAU,KAAKH,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,oBAAoBI,MAAM,CAAC,eAAgBV,EAAI8D,gBAAgB,CAAC9D,EAAIO,GAAG,aAAaH,EAAG,MAAMJ,EAAIkD,GAAIlD,EAAc,YAAE,SAAS+D,EAAMX,GAAG,OAAOhD,EAAG,YAAY,CAAC6B,IAAImB,EAAE9C,YAAY,8BAA8BM,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAU,SAASgB,GAAQ,OAAO9B,EAAIgE,mBAAmBD,MAAU,CAAC/D,EAAIO,GAAG,IAAIP,EAAIQ,GAAGuD,EAAM5C,MAAM,UAASf,EAAG,YAAY,CAACE,YAAY,oBAAoBM,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAUd,EAAIiE,kBAAkB,CAACjE,EAAIO,GAAG,UAAU,KAAKH,EAAG,QAAQ,CAACE,YAAY,yBAAyBI,MAAM,CAAC,eAAgBV,EAAIkE,gBAAgBjD,YAAY,CAAC,aAAa,oBAAoB,CAACjB,EAAIO,GAAG,sCAAwCP,EAAImE,QAAQC,OAAsGpE,EAAIyC,KAAlGrC,EAAG,OAAO,CAACE,YAAY,YAAYW,YAAY,CAAC,YAAY,SAAS,CAACjB,EAAIO,GAAG,iBAA0BP,EAAIkD,GAAIlD,EAAW,SAAE,SAASqE,GAAQ,YAAmFC,WAApEtE,EAAIuE,sBAAuB,YAAeF,EAAkB,aAAmBjE,EAAG,MAAM,CAAC6B,IAAIoC,EAAOG,YAAYlE,YAAY,OAAOQ,GAAG,CAAC,MAAQd,EAAIyE,iBAAiB,CAACrE,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,gBAAgB,CAACE,YAAY,wCAAwCM,MAAM,CAAC,QAAUZ,EAAI0E,mBAAmB9B,MAAM,CAACnB,MAAOzB,EAAIuE,sBAAuB,YAAeF,EAAkB,aAAKxB,SAAS,SAAUC,GAAM9C,EAAI2E,KAAK3E,EAAIuE,sBAAwB,YAAeF,EAAkB,YAAIvB,IAAMpB,WAAW,6DAA6DtB,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBK,MAAOzB,EAAI4E,aAAc,YAAeP,EAAkB,aAAK3C,WAAW,iDAAiDL,UAAU,CAAC,QAAS,KAAQf,YAAY,6CAA6CM,MAAM,CAAC,KAAO,SAAS,YAAc,aAAa,IAAM,IAAI,QAAU,6BAA6BiB,SAAS,CAAC,MAAS7B,EAAI4E,aAAc,YAAeP,EAAkB,cAAMvD,GAAG,CAAC,MAAQ,SAASgB,GAAWA,EAAOC,OAAOC,WAAqBhC,EAAI2E,KAAK3E,EAAI4E,aAAe,YAAeP,EAAkB,YAAIrE,EAAIuC,GAAGT,EAAOC,OAAON,SAAS,KAAO,SAASK,GAAQ,OAAO9B,EAAIwC,oBAAoB,GAAGpC,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAAGN,EAAI6E,gBAAosB7E,EAAIyC,KAAvrBrC,EAAG,MAAM,CAACc,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBC,UAAU,CAAC,OAAQ,KAAQf,YAAY,+CAA+CM,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,eAAe,MAAQ,kBAAkB,QAAU,aAAaE,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAO9B,EAAI8E,aAAaT,EAAOG,gBAAgB,CAACpE,EAAG,OAAO,CAACQ,MAAM,CAAC,EAAI,2EAA2ER,EAAG,OAAO,CAACQ,MAAM,CAAC,EAAI,6MAAsNZ,EAAIyC,QAAQzC,EAAI+E,yBAA+B,OAAE3E,EAAG,YAAY,CAACE,YAAY,OAAOW,YAAY,CAAC,YAAY,SAASL,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAUd,EAAIgF,YAAY,CAAChF,EAAIO,GAAG,wBAAwBP,EAAIyC,KAAOzC,EAAI6E,gBAAoL7E,EAAIyC,KAAvKrC,EAAG,YAAY,CAACa,YAAY,CAAC,YAAY,SAASL,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAUd,EAAIiF,uBAAuB,CAACjF,EAAIO,GAAG,mCAA4C,GAAKP,EAAI4B,WAAorC5B,EAAIyC,KAA5qCrC,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACN,EAAIO,GAAG,aAAaH,EAAG,YAAY,CAACE,YAAY,sCAAsCQ,GAAG,CAAC,QAAUd,EAAIkF,oBAAoB,CAAClF,EAAIO,GAAG,sBAAuBP,EAAImF,eAAqB,OAAE/E,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,YAAYJ,EAAIoF,GAAG,CAAC9E,YAAY,aAAaM,MAAM,CAAC,IAAM,KAAK,KAAOZ,EAAIqF,iBAAiBvE,GAAG,CAAC,MAAQ,SAASgB,GAAQ9B,EAAIsF,iBAAkB,GAAM,IAAM,SAASxD,GAAQ9B,EAAIsF,iBAAkB,IAAQ1C,MAAM,CAACnB,MAAOzB,EAAkB,eAAE6C,SAAS,SAAUC,GAAM9C,EAAImF,eAAerC,GAAKpB,WAAW,mBAAmB,YAAY1B,EAAIuF,oBAAmB,GAAO,CAACnF,EAAG,mBAAmB,CAACQ,MAAM,CAAC,KAAO,aAAa,KAAQZ,EAAIsF,gBAAgC,KAAd,cAAqBtF,EAAIkD,GAAIlD,EAAkB,gBAAE,SAASwF,EAAYpC,GAAG,OAAOhD,EAAG,KAAK,CAAC6B,IAAIuD,EAAY5B,GAAGtD,YAAY,4CAA4C,CAACF,EAAG,eAAe,CAACQ,MAAM,CAAC,aAAa4E,EAAY5B,GAAG,iBAAiBR,EAAI,EAAE,WAAWpD,EAAIuB,WAAW,YAAciE,MAAgB,MAAK,IAAI,IAAI,GAAGpF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,mBAAmB,OAAgBP,EAAIyC,MACvmUgD,EAAkB,CAAC,WAAa,IAAIzF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIO,GAAG,0B,wQCDrLmF,EAAsB,CAC/B,EAAK,CACDvE,KAAM,OACNwE,UAAU,EACVC,YAAY,GAEhB,EAAK,CACDzE,KAAM,SACNwE,UAAU,EACVC,YAAY,GAEhB,MAAO,CACHzE,KAAM,gBACNwE,UAAU,EACVC,YAAY,I,YCdhB,EAAS,WAAa,IAAI5F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,uCAAuCQ,GAAG,CAAC,MAAQd,EAAI6F,WAAW,MAAQ,SAAS/D,GAAQ,OAAIA,EAAOgE,KAAKC,QAAQ,QAAyB,KAAjBjE,EAAOkE,QAAoChG,EAAIiG,WAAWC,MAAM,KAAMC,WAAzC,QAAuD,CAAC/F,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,sBAAsBH,EAAG,MAAM,CAACE,YAAY,gCAAgCM,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,UAAU,QAAU,aAAaE,GAAG,CAAC,MAAQd,EAAIoG,QAAQ,CAAChG,EAAG,OAAO,CAACQ,MAAM,CAAC,EAAI,8MAA8MR,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,aAAa,CAACE,YAAY,mDAAmDM,MAAM,CAAC,KAAOZ,EAAIqG,eAAerG,EAAIkD,GAAIlD,EAAuB,qBAAE,SAAS0D,EAASN,GAAG,OAAOhD,EAAG,kBAAkB,CAAC6B,IAAImB,EAAExC,MAAM,CAAC,aAAa8C,EAASE,IAAI9C,GAAG,CAAC,MAAQd,EAAIsG,mBAAmB,CAACtG,EAAIO,GAAG,IAAIP,EAAIQ,GAAGkD,EAASvC,MAAM,UAAS,IAAI,GAAGf,EAAG,YAAY,CAACE,YAAY,YAAYM,MAAM,CAAC,UAAYZ,EAAIuG,oBAAoBnC,QAAQtD,GAAG,CAAC,QAAUd,EAAIiG,aAAa,CAACjG,EAAIO,GAAG,cAAeP,EAAIwG,MAAY,OAAEpG,EAAG,MAAM,CAACE,YAAY,qBAAqBM,MAAM,CAAC,KAAO,UAAU,CAACZ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIwG,UAAUxG,EAAIyC,MAAM,IACr6C,EAAkB,G,wBC8BtB,GACE,MAAF,CACI,QAAJ,OACI,eAAJ,OAEE,KAAF,WAAI,MAAJ,CACM,KAAN,GACM,MAAN,GACM,UAAN,EACM,eAAN,IAEE,WAAF,CACI,SAAJ,WAAM,OAAN,kDAEE,QAdF,WAcI,IAAJ,OAAI,OAAJ,sJACA,cADA,8CAGE,SAAF,iCACA,6CADA,IAEI,WAFJ,WAGM,OAAN,8CAEI,aALJ,WAKM,IAAN,OACM,IAAN,oBACQ,OAAR,iEACA,GAGM,IAAN,6CAAQ,OAAR,2BACM,OAAN,aAEI,oBAdJ,WAcM,IAAN,OACA,kCACM,OAAN,EAMA,oCACQ,IAAR,iCAAU,OAAV,eACQ,OAAR,KAPA,oCACU,IAAV,qCAAY,OAAZ,eACU,OAAV,QASE,QAAF,gDACA,0CACA,sDAFA,IAGI,WAHJ,WAIA,gBACQ,KAAR,SACQ,KAAR,cAGI,iBATJ,SASA,GACM,KAAN,2DAEI,WAZJ,WAaA,kCAGA,0BACA,oDAEM,KAAN,uBAAQ,QAAR,aAAQ,WAAR,sBACM,EAAN,2DACM,KAAN,UAEI,MAvBJ,WAwBM,KAAN,4CCpG8W,I,wBCQ1WgE,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QChBFC,EAA4B,SAACC,EAASC,GAC/C,IAAMC,EAAQ,IAAIC,OAAM,CACpBL,UAAWM,EACXC,MAAO,CAACL,UAASC,kBACjBK,OAAQ,CACJC,WAAY,QACZ/F,KAAM,2BACNgG,MAAO,OACPC,OAAQ,OACRC,QAAS,0BAIjBR,EAAMS,QChBN,EAAS,WAAa,IAAItH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oCAAoCQ,GAAG,CAAC,MAAQd,EAAI6F,WAAW,MAAQ,SAAS/D,GAAQ,OAAIA,EAAOgE,KAAKC,QAAQ,QAAyB,KAAjBjE,EAAOkE,QAAoChG,EAAIiG,WAAWC,MAAM,KAAMC,WAAzC,QAAuD,CAAC/F,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,sBAAsBH,EAAG,MAAM,CAACE,YAAY,gCAAgCM,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,UAAU,QAAU,aAAaE,GAAG,CAAC,MAAQd,EAAIoG,QAAQ,CAAChG,EAAG,OAAO,CAACQ,MAAM,CAAC,EAAI,8MAA8MR,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,aAAa,CAACE,YAAY,mDAAmDM,MAAM,CAAC,KAAOZ,EAAIqG,eAAerG,EAAIkD,GAAIlD,EAAmB,iBAAE,SAAS+D,EAAMX,GAAG,OAAOhD,EAAG,kBAAkB,CAAC6B,IAAImB,EAAExC,MAAM,CAAC,aAAamD,EAAMH,IAAI9C,GAAG,CAAC,MAAQd,EAAIuH,gBAAgB,CAACvH,EAAIO,GAAG,IAAIP,EAAIQ,GAAGuD,EAAM5C,MAAM,UAAS,IAAI,GAAGf,EAAG,YAAY,CAACE,YAAY,YAAYM,MAAM,CAAC,UAAYZ,EAAIwH,gBAAgBpD,QAAQtD,GAAG,CAAC,QAAUd,EAAIiG,aAAa,CAACjG,EAAIO,GAAG,cAAeP,EAAIwG,MAAY,OAAEpG,EAAG,MAAM,CAACE,YAAY,qBAAqBM,MAAM,CAAC,KAAO,UAAU,CAACZ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIwG,UAAUxG,EAAIyC,MAAM,IAC94C,EAAkB,GC8BtB,GACE,MAAF,CACI,QAAJ,OACI,WAAJ,OAEE,KAAF,WAAI,MAAJ,CACM,KAAN,GACM,MAAN,GACM,UAAN,EACM,eAAN,IAEE,WAAF,CACI,SAAJ,WAAM,OAAN,kDAEE,QAdF,WAcI,IAAJ,OAAI,OAAJ,sJACA,cADA,8CAGE,SAAF,iCACA,4DADA,IAEI,OAFJ,WAGM,OAAN,8CAEI,aALJ,WAKM,IAAN,OACM,IAAN,oBACQ,OAAR,4BACA,6BAEA,GAIM,IAAN,yCAAQ,OAAR,2BACM,OAAN,YAEI,gBAjBJ,WAiBM,IAAN,OACA,kCACM,OAAN,EAOA,gCACQ,IAAR,kCAAU,OAAV,eACQ,OAAR,SARA,gCACU,IAAV,iCAAY,OAAZ,eACU,OAAV,QAUE,QAAF,gDACA,0CACA,gDAFA,IAGI,WAHJ,WAIA,gBACQ,KAAR,SACQ,KAAR,cAGI,cATJ,SASA,GACM,KAAN,2DAEI,WAZJ,WAaM,GAAN,4BAAM,CAIN,0BACQ,KAAR,2CAGM,IAAN,yCACM,KAAN,iBACQ,QAAR,aACQ,UAAR,IAEM,EAAN,uDACM,KAAN,UAEI,MA7BJ,WA8BM,KAAN,yCC9G2W,ICQvW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QChBFgF,EAAyB,SAACd,EAASe,GAC5C,IAAMb,EAAQ,IAAIC,OAAM,CACpBL,UAAWkB,EACXX,MAAO,CAACL,UAASe,cACjBT,OAAQ,CACJC,WAAY,QACZ/F,KAAM,wBACNgG,MAAO,OACPC,OAAQ,OACRC,QAAS,0BAIjBR,EAAMS,Q,qBCoNV,gBACE,IAAF,EAQE,OANA,OAAF,gCAAI,IAAJ,oCACA,mCACM,EAAN,MAIA,GAGA,SAASM,EAAyBC,GAChC,KAAF,aAGA,OACE,MAAF,YACE,KAAF,WAAI,MAAJ,CACM,aAAN,EACM,WAAN,EACM,YAAN,EACM,IAAN,GACM,MAAN,gBACM,YAAN,mBACM,uBAAN,EACM,wBAAN,MACM,sBAAN,EACM,SAAN,EACM,QAAN,GACM,iBAAN,EAEM,YAAN,EACM,aAAN,EAEM,UAAN,OAGM,YAAN,EACM,cAAN,EACM,oBAAN,EACM,0BAAN,EACM,uBAAN,EACM,mBAAN,EACM,eAAN,EACM,eAAN,EACM,uBAAN,EACM,mBAAN,EACM,oBAAN,EACM,gBAAN,EACM,oBAAN,EACM,oBAAN,EACM,iBAAN,EAEM,gBAAN,CACA,CAAQ,SAAR,EAAQ,KAAR,mBACA,CAAQ,SAAR,EAAQ,KAAR,QAGM,WAAN,GACM,eAAN,GAEM,oBAAN,EAEM,kBAAN,CACA,CACQ,MAAR,EACQ,KAAR,aAGM,sBAAN,GACM,aAAN,GACM,iBAAN,EACM,cAAN,OAEE,WAAF,CACI,UAAJ,IACI,QAAJ,WAAM,OAAN,iDACI,SAAJ,WAAM,OAAN,iDACI,YAAJ,WAAM,OAAN,kDAEE,SAAF,gDACA,qDACA,sGACA,2EAHA,IAII,cAJJ,WAKM,OAAN,qDAEI,QAPJ,WAQM,OAAN,mDAEI,OAVJ,WAWM,OAAN,8CAEI,WAbJ,WAcM,OAAN,yDAEI,WAhBJ,WAiBM,OAAN,kDAEI,mBAnBJ,WAoBM,IAAN,yCACM,MAAN,EAAQ,KAAR,iBAAQ,MAAR,6CACQ,MAAR,CACU,KAAV,QACU,MAAV,YAII,eAAJ,CACM,IADN,WACQ,IAAR,OACA,yCACQ,IAAR,sBAEQ,IAAR,iDACA,IACU,EAAV,mBAAY,OAAZ,QACU,KAAV,wDAAY,QAAZ,gBAAY,MAAZ,KAGQ,IAAR,KAMQ,OALA,EAAR,qBACU,IAAV,mCACA,gBAGA,GAEM,IAnBN,SAmBA,GAAQ,IAAR,OAAQ,OAAR,qDAAU,IAAV,EAAU,OAAV,qCAAY,MAAZ,+BACA,oCACA,wBACA,iCACoBlB,QAAS,EAA7B,WACoBmB,MAApB,IAEA,wBACA,gBACA,mFATA,+CAYI,mBA3DJ,WA4DM,MAAN,CACQ,UAAR,EACQ,MAAR,cACQ,UAAR,EACQ,WAAR,UAGI,eAnEJ,WAoEM,OAAN,yCAEI,gBAtEJ,WAuEM,OAAN,sCAEI,mBAzEJ,WA0EM,OAAN,GAEI,mBA5EJ,WA4EM,IAAN,OACA,yCAAQ,OAAR,sCACM,OAAN,aAEI,sBAhFJ,WAiFM,IAAN,kCACM,OAAN,aAEI,WApFJ,WAqFM,OAAN,sEAEI,eAvFJ,WAwFM,OAAN,gFAGE,MAAF,CACI,cADJ,WAEM,KAAN,qCAEI,IAJJ,WAKM,KAAN,6BAEI,MAAJ,CACM,QADN,WAEQ,KAAR,gCAGI,YAAJ,CACM,QADN,WAEQ,KAAR,sCAGI,wBAAJ,CACM,QADN,WAEQ,KAAR,4CAGI,qBAAJ,CACM,QADN,WAEQ,KAAR,yCAGI,iBA3BJ,WA4BM,KAAN,sCAGE,QA3LF,WA4LI,EAAJ,mFACI,EAAJ,gGAEE,QA/LF,WAgMI,KAAJ,aAEE,cAlMF,WAmMI,EAAJ,sCACI,EAAJ,mCAEE,QAAF,gDACA,sDACA,gHAFA,IAGI,YAHJ,WAIM,OAAN,kBAGA,mCACQ,EAAR,wFACA,IAJQ,EAAR,gFACA,IAOI,UAbJ,WAaM,IAAN,OAAM,OAAN,qDAAQ,OAAR,0FACA,cADA,OAEA,iBACA,gBACA,uBACA,mBACA,KANA,8CAQI,YArBJ,WAqBM,IAAN,OACM,KAAN,kCACA,oBAAQ,OAAR,UACA,iBACQ,MAAR,CACU,MAAV,KACU,KAAV,WAIA,2CACQ,KAAR,6BACU,EAAV,uEACU,EAAV,2DAEA,uBACQ,KAAR,UACU,YAAV,4CACU,MAAV,iDAEQ,KAAR,mIACQ,KAAR,8HAGM,KAAN,iDAEI,gBA/CJ,SA+CA,GACA,iBACA,2CACM,KAAN,cACM,KAAN,kBAEI,oBArDJ,SAqDA,GACA,iBACA,kDACM,KAAN,cACM,KAAN,sBAEI,qBA3DJ,SA2DA,GACA,mBAEM,KAAN,cACM,KAAN,6BAEI,aAjEJ,WAiEM,IAAN,OACA,cACQ,KAAR,qCACQ,KAAR,yCAAU,OAAV,uBACQ,KAAR,2BACQ,KAAR,uBACQ,KAAR,uCACQ,KAAR,6CACQ,KAAR,yEACQ,KAAR,2DACQ,KAAR,8CACQ,KAAR,uDAEQ,KAAR,cACQ,KAAR,8BACQ,KAAR,qBAGI,wBAnFJ,SAmFA,GACM,KAAN,6DAEI,2BAtFJ,SAsFA,GACM,KAAN,uDAEI,YAzFJ,WAyFM,IAAN,OAAM,OAAN,qDAAQ,IAAR,UAAQ,OAAR,6EACA,aADA,0CACA,GADA,UAEA,gBAFA,0CAEA,GAFA,UAIA,+BAEA,GACA,gBACA,cACA,0BACA,kBACA,sBACA,gCACA,qCACA,qDACA,sCACA,UACA,4EACA,iEAGA,uCAEA,eACA,wCAEA,iBA1BA,iBA2BgB,EAAhB,GAEgBC,EAAU5D,QAAU,GACpB6D,OAAOC,QAAQ,EAA/B,oFACkB,EAAlB,cACoB,YAApB,EACoB,MAApB,iCAGA,KAGA,OAFA,UArCA,UA2CgB,OAAhB,gCAAkB,IAAlB,oCACkB,GAAlB,IACA,+BA7CA,yDAgDA,gBAhDA,2CAmDgB,EAAhB,+BAAkB,OAAlB,0BACgB,EAAhB,iFApDA,2BAyDgBF,EAAUG,eAAiB,EAA3C,mBAzDA,wBA0DA,eACA,kCACA,qBA5DA,eAgEA,mGAhEA,UAkEA,mDAlEA,WAkEA,EAlEA,OAoEA,QApEA,oBAqEgBC,EAAhB,oDAEgB,EAAhB,cACgB,EAAhB,qBAEA,gBA1EA,kCA2EA,kDA3EA,gCA6EgBA,EAAhB,8EA7EA,8DAgFI,aAzKJ,SAyKA,GACM,KAAN,yCAAQ,OAAR,4BACA,yDACA,0CACA,oEAEI,iBA/KJ,WAgLM,KAAN,UACQ,YAAR,4CACQ,MAAR,iDAEM,KAAN,2DACA,0FAEM,KAAN,kDACA,6FAEM,KAAN,oBAEI,UA5LJ,WA6LM,IAAN,gCAEA,WAGM,KAAN,cACQ,YAAR,QACQ,MAAR,IAEM,KAAN,2DACM,KAAN,4CAEM,KAAN,qBAEI,qBA3MJ,WA2MM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,aACA,gBACA,gCACA,oBAJA,OACA,EADA,OAOA,QAMA,iFALA,uEAEA,qBACA,qBAXA,8CAgBI,kBA3NJ,WA4NM,KAAN,gBACM,KAAN,sBACM,KAAN,4BACM,KAAN,yBACM,KAAN,iBACM,KAAN,kBACM,KAAN,sBACM,KAAN,qBACM,KAAN,eAEI,kBAtOJ,WAsOM,IAAN,OAAM,OAAN,qDAAQ,OAAR,0FACA,gBACA,gBACA,6DAHA,8CAMI,mBA5OJ,WA6OM,EAAN,sCAEI,sBA/OJ,SA+OA,GACM,KAAN,4BACQ,QAAR,gBACQ,WAAR,IAEM,KAAN,qBACM,KAAN,eAEI,gBAvPJ,WAwPM,EAAN,kCAEI,mBA1PJ,SA0PA,GACM,GAAN,wBACQ,IAAR,yCAAU,OAAV,eACA,kCAGM,KAAN,oBAAQ,QAAR,gBAAQ,QAAR,OACM,KAAN,iBACM,KAAN,eAEI,gBApQJ,WAqQM,OAAN,yBAGI,uBAxQJ,WAyQM,IAAN,0CACA,iBAAQ,OAAR,wCACM,OAAN,oCAAQ,OAAR,gCAEI,eA7QJ,WA8QM,KAAN,cACM,KAAN,mBAEI,YAjRJ,WAkRM,KAAN,4BACM,EAAN,2EC7sB8V,ICQ1V,G,UAAY,eACd,EACApI,EACA0F,GACA,EACA,KACA,KACA,OAIa,e,2CClBf,IAAI2C,EAAc,EAAQ,QACtBC,EAAS,EAAQ,QACjBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAM,EAAQ,QACdC,EAAU,EAAQ,QAClBC,EAAoB,EAAQ,QAC5BC,EAAc,EAAQ,QACtBC,EAAQ,EAAQ,QAChBC,EAAS,EAAQ,QACjBC,EAAsB,EAAQ,QAA8CC,EAC5EC,EAA2B,EAAQ,QAAmDD,EACtFE,EAAiB,EAAQ,QAAuCF,EAChEjJ,EAAO,EAAQ,QAA4BA,KAE3CoJ,EAAS,SACTC,EAAed,EAAOa,GACtBE,EAAkBD,EAAaE,UAG/BC,EAAiBb,EAAQI,EAAOO,KAAqBF,EAIrDK,EAAW,SAAUC,GACvB,IACIC,EAAOC,EAAOC,EAAOC,EAASC,EAAQzF,EAAQ0F,EAAOC,EADrDC,EAAKrB,EAAYa,GAAU,GAE/B,GAAiB,iBAANQ,GAAkBA,EAAG5F,OAAS,EAGvC,GAFA4F,EAAKlK,EAAKkK,GACVP,EAAQO,EAAGC,WAAW,GACR,KAAVR,GAA0B,KAAVA,GAElB,GADAC,EAAQM,EAAGC,WAAW,GACR,KAAVP,GAA0B,MAAVA,EAAe,OAAOQ,SACrC,GAAc,KAAVT,EAAc,CACvB,OAAQO,EAAGC,WAAW,IACpB,KAAK,GAAI,KAAK,GAAIN,EAAQ,EAAGC,EAAU,GAAI,MAC3C,KAAK,GAAI,KAAK,IAAKD,EAAQ,EAAGC,EAAU,GAAI,MAC5C,QAAS,OAAQI,EAInB,IAFAH,EAASG,EAAGG,MAAM,GAClB/F,EAASyF,EAAOzF,OACX0F,EAAQ,EAAGA,EAAQ1F,EAAQ0F,IAI9B,GAHAC,EAAOF,EAAOI,WAAWH,GAGrBC,EAAO,IAAMA,EAAOH,EAAS,OAAOM,IACxC,OAAOE,SAASP,EAAQF,GAE5B,OAAQK,GAKZ,GAAI1B,EAASY,GAASC,EAAa,UAAYA,EAAa,QAAUA,EAAa,SAAU,CAS3F,IARA,IAgBqBlH,EAhBjBoI,EAAgB,SAAgB5I,GAClC,IAAIuI,EAAK7D,UAAU/B,OAAS,EAAI,EAAI3C,EAChC6I,EAAQrK,KACZ,OAAOqK,aAAiBD,IAElBf,EAAiBV,GAAM,WAAcQ,EAAgBmB,QAAQC,KAAKF,MAAa7B,EAAQ6B,IAAUpB,GACjGR,EAAkB,IAAIS,EAAaI,EAASS,IAAMM,EAAOD,GAAiBd,EAASS,IAElFS,EAAOrC,EAAcU,EAAoBK,GAAgB,8LAQhEuB,MAAM,KAAMC,EAAI,EAAQF,EAAKrG,OAASuG,EAAGA,IACrCnC,EAAIW,EAAclH,EAAMwI,EAAKE,MAAQnC,EAAI6B,EAAepI,IAC1DgH,EAAeoB,EAAepI,EAAK+G,EAAyBG,EAAclH,IAG9EoI,EAAchB,UAAYD,EAC1BA,EAAgBwB,YAAcP,EAC9B9B,EAASF,EAAQa,EAAQmB,K,iIC5ENvD,E,WACjB,cAA+D,IAAlDL,EAAkD,EAAlDA,UAAkD,IAAvCO,aAAuC,MAA/B,GAA+B,MAA3BC,cAA2B,MAAlB,GAAkB,MAAd4D,cAAc,MAAL,GAAK,yBAC3D5K,KAAKwG,UAAYA,EACjBxG,KAAK+G,MAAQA,EACb/G,KAAKgH,OAASA,EACdhH,KAAK4K,OAAS,CACV,OAAU,WACN7C,OAAO8C,OAAOrE,EAAW,CAACsE,UAAW9D,EAAO9F,QAEhD,OAAU,cAId6G,OAAO8C,OAAO7K,KAAK4K,OAAQA,G,2CAG/B,WACIG,IAAWC,aAAaC,OAAO5D,KAAKrH,KAAKwG,UAAWxG,KAAK+G,MAAO/G,KAAKgH,OAAQhH,KAAK4K,U,kBAGtF,WACIG,IAAWC,aAAaE,MAAM,a,wCCvBtC,W,yDCAA,W,kCCAA","file":"js/story.ba7d24c8.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dataFetched)?_c('div',{staticClass:\"story-page page\"},[_c('div',{staticClass:\"story-page__header d-flex\"},[_c('div',{staticClass:\"story-page__header-left\"},[_c('nav-back'),_vm._v(\" \"+_vm._s(_vm.title)+\" \")],1),_c('div',{staticClass:\"story-page__header-right\"},[_c('ui-button',{class:{'story-page__save-button--disabled': !_vm.anyChanges},attrs:{\"color\":_vm.saveButtonColor},on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\" \"+_vm._s(_vm.saveButtonText)+\" \")])],1)]),_c('div',{staticClass:\"row mt-3 ml-1 font-weight-bold\",staticStyle:{\"position\":\"relative\",\"margin-bottom\":\"-20px\"}},[_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"story-page__story-id\",attrs:{\"title\":\"Скопировать\"},on:{\"click\":_vm.clipStoryId}},[_vm._v(\" ID истории: \"+_vm._s(_vm.intStoryId)+\" \")])]),_c('div',{staticClass:\"story-page__content d-flex\"},[_c('div',{staticClass:\"story-page__story-data d-flex\"},[_vm._m(0),_c('div',{staticClass:\"row page__input\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"page__input-title\",attrs:{\"for\":\"storyKeyInput\"}},[_vm._v(\"Ключ-идентификатор\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.key),expression:\"key\"}],staticClass:\"form-control\",class:{'data-changed': _vm.keyChanged},attrs:{\"type\":\"text\",\"id\":\"storyKeyInput\",\"aria-describedby\":\"storyKeyInput\",\"placeholder\":\"String_value\",\"disabled\":!_vm.isNewStory},domProps:{\"value\":(_vm.key)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.key=$event.target.value}}})])]),_c('div',{staticClass:\"row page__input\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"page__input-title\",attrs:{\"for\":\"storyTitleInput\"}},[_vm._v(\"Название\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"form-control\",class:{'data-changed': _vm.titleChanged},attrs:{\"type\":\"text\",\"id\":\"storyTitleInput\",\"aria-describedby\":\"storyTitleInput\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})])]),_c('div',{staticClass:\"row page__input\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"page__input-title\"},[_vm._v(\"Краткое описание\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",class:{'data-changed': _vm.descriptionChanged},attrs:{\"id\":\"storyDescriptionInput\",\"rows\":\"3\",\"placeholder\":\"Краткое описание\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}})])]),_c('div',{staticClass:\"row page__input\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"page__input-title\"},[_vm._v(\"Вес в рекомендованных\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.recommendedOrder),expression:\"recommendedOrder\",modifiers:{\"number\":true}}],staticClass:\"form-control\",class:{'data-changed': _vm.recommendedChanged},attrs:{\"type\":\"number\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.recommendedOrder)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.recommendedOrder=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),(!_vm.isNewStory)?[_c('label',{staticClass:\"story-page__label mt-4\",class:{'data-changed': _vm.lastChapterChanged}},[_vm._v(\" Последняя глава \")]),_c('b-form-select',{staticClass:\"form-control\",attrs:{\"options\":_vm.lastChapterOptions},model:{value:(_vm.lastChapterId),callback:function ($$v) {_vm.lastChapterId=$$v},expression:\"lastChapterId\"}})]:_vm._e(),_c('div',{staticClass:\"row story-page__sub-row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"page__input-title\"},[_vm._v(\"За кого можно играть\")]),_c('br'),_c('b-dropdown',{staticClass:\"m-md-2 stories-page__filter-dropdown\",class:{'data-changed': _vm.restrictionGenderChanged},attrs:{\"text\":_vm.restrictionGenderText,\"id\":\"storyCharacterRestriction\"}},_vm._l((_vm.restrictionsGender),function(restriction,i){return _c('b-dropdown-item',{key:i,attrs:{\"data-value\":i},on:{\"click\":_vm.onGenderRestrictionChanged}},[_vm._v(\" \"+_vm._s(restriction.name)+\" \")])}),1)],1)]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\",staticStyle:{\"margin-left\":\"20px\"}},[_c('label',{staticClass:\"page__input-title\"},[_vm._v(\"Возрастные ограничения\")]),_c('br'),_c('b-dropdown',{staticClass:\"m-md-2 stories-page__filter-dropdown\",class:{'data-changed': _vm.restrictionAgeChanged},attrs:{\"text\":_vm.restrictionAgeText,\"id\":\"storyAgeRestriction\"}},_vm._l((_vm.restrictionsAge),function(restriction,i){return _c('b-dropdown-item',{key:i,attrs:{\"data-value\":(\"\" + (restriction.isAdult))},on:{\"click\":_vm.onAgeRestrictionChanged}},[_vm._v(\" \"+_vm._s(restriction.name)+\" \")])}),1)],1)])]),_c('div',{staticClass:\"row page__input\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"page__input-title\",class:{'data-changed': _vm.categoriesChanged}},[_vm._v(\" Категории \")]),_c('br'),_vm._l((_vm.categoriesList),function(category,i){return _c('ui-button',{key:i,staticClass:\"story-page__category-button\",attrs:{\"color\":\"transparent\"},on:{\"clicked\":function($event){return _vm.onDeleteCategoryClick(category.id)}}},[_vm._v(\" \"+_vm._s(category.name)+\" \")])}),_c('ui-button',{staticClass:\"page__plus-button\",attrs:{\"color\":\"transparent\"},on:{\"clicked\":_vm.onAddCategoryClick}},[_vm._v(\" + \")])],2)]),_c('div',{staticClass:\"row page__input\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"page__input-title\",class:{'data-changed': _vm.genresChanged}},[_vm._v(\" Жанры \")]),_c('br'),_vm._l((_vm.genresList),function(genre,i){return _c('ui-button',{key:i,staticClass:\"story-page__category-button\",attrs:{\"color\":\"transparent\"},on:{\"clicked\":function($event){return _vm.onDeleteGenreClick(genre)}}},[_vm._v(\" \"+_vm._s(genre.name)+\" \")])}),_c('ui-button',{staticClass:\"page__plus-button\",attrs:{\"color\":\"transparent\"},on:{\"clicked\":_vm.onAddGenreClick}},[_vm._v(\" + \")])],2)]),_c('label',{staticClass:\"story-page__label mt-4\",class:{'data-changed': _vm.rewardsChanged},staticStyle:{\"box-shadow\":\"none !important\"}},[_vm._v(\" Награды за прохождение истории \")]),(!_vm.rewards.length)?_c('span',{staticClass:\"mb-3 mt-1\",staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"Отсутствуют\")]):_vm._e(),_vm._l((_vm.rewards),function(reward){return (typeof _vm.selectedRewardOptions[(\"currency-\" + (reward.currency_id))] !== undefined)?_c('div',{key:reward.currency_id,staticClass:\"mb-4\",on:{\"click\":_vm.onRewardsClick}},[_c('div',{staticClass:\"d-flex flex-row align-items-center\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('b-form-select',{staticClass:\"form-control story-page__reward-input\",attrs:{\"options\":_vm.currenciesOptions},model:{value:(_vm.selectedRewardOptions[(\"currency-\" + (reward.currency_id))]),callback:function ($$v) {_vm.$set(_vm.selectedRewardOptions, (\"currency-\" + (reward.currency_id)), $$v)},expression:\"selectedRewardOptions[`currency-${reward.currency_id}`]\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.rewardValues[(\"currency-\" + (reward.currency_id))]),expression:\"rewardValues[`currency-${reward.currency_id}`]\",modifiers:{\"number\":true}}],staticClass:\"form-control mt-2 story-page__reward-input\",attrs:{\"type\":\"number\",\"placeholder\":\"Количество\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.rewardValues[(\"currency-\" + (reward.currency_id))])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.rewardValues, (\"currency-\" + (reward.currency_id)), _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})],1),_c('div',{staticClass:\"d-flex flex-column\"},[(!_vm.isDefaultReward)?_c('svg',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bi bi-x-circle ml-4 story-page__reset-reward\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"32\",\"height\":\"32\",\"fill\":\"currentColor\",\"title\":\"Удалить награду\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":function($event){return _vm.deleteReward(reward.currency_id)}}},[_c('path',{attrs:{\"d\":\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"}}),_c('path',{attrs:{\"d\":\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"}})]):_vm._e()])])]):_vm._e()}),(_vm.getAvailableCurrencies().length)?_c('ui-button',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"290px\"},attrs:{\"color\":\"transparent\"},on:{\"clicked\":_vm.addReward}},[_vm._v(\" Добавить награду \")]):_vm._e(),(!_vm.isDefaultReward)?_c('ui-button',{staticStyle:{\"max-width\":\"290px\"},attrs:{\"color\":\"transparent\"},on:{\"clicked\":_vm.resetRewardToDefault}},[_vm._v(\" Сбросить награды на дефолт \")]):_vm._e()],2),(!_vm.isNewStory)?_c('div',{staticClass:\"story-page__chapters-data\"},[_c('div',{staticClass:\"story-page__chapters-title mt-4 ml-2\"},[_vm._v(\" Главы \")]),_c('ui-button',{staticClass:\"story-page__add-chapter-button ml-2\",on:{\"clicked\":_vm.onAddChapterClick}},[_vm._v(\" Добавить главу \")]),(_vm.sortedChapters.length)?_c('div',{staticClass:\"story-page__chapters-list\"},[_c('draggable',_vm._b({staticClass:\"list-group\",attrs:{\"tag\":\"ul\",\"move\":_vm.onChaptersMoved},on:{\"start\":function($event){_vm.chapterDragging = true},\"end\":function($event){_vm.chapterDragging = false}},model:{value:(_vm.sortedChapters),callback:function ($$v) {_vm.sortedChapters=$$v},expression:\"sortedChapters\"}},'draggable',_vm.chapterDragOptions,false),[_c('transition-group',{attrs:{\"type\":\"transition\",\"name\":!_vm.chapterDragging ? 'flip-list' : null}},_vm._l((_vm.sortedChapters),function(chapterData,i){return _c('li',{key:chapterData.id,staticClass:\"list-group-item story-page__chapter-item\"},[_c('chapter-item',{attrs:{\"chapter-id\":chapterData.id,\"chapter-number\":i + 1,\"story-id\":_vm.intStoryId,\"chapterData\":chapterData}})],1)}),0)],1)],1):_c('div',[_c('div',{staticClass:\"story-page__no-chapters\"},[_vm._v(\" Глав нет \")])])],1):_vm._e()])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row mb-4 mr-4\"},[_c('div',{staticClass:\"page-title row\"},[_vm._v(\"Описание истории\")])])}]\n\nexport { render, staticRenderFns }","export const RESTRICTIONS_GENDER = {\r\n    'M': {\r\n        name: 'Male',\r\n        isForMen: true,\r\n        isForWomen: false\r\n    },\r\n    'F': {\r\n        name: 'Female',\r\n        isForMen: false,\r\n        isForWomen: true\r\n    },\r\n    'F&M': {\r\n        name: 'Male & Female',\r\n        isForMen: true,\r\n        isForWomen: true\r\n    }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup add-story-category-modal\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onAddClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Добавление жанра \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('div',{staticClass:\"form-group\"},[_c('b-dropdown',{staticClass:\"m-md-2 add-story-category-modal__filter-dropdown\",attrs:{\"text\":_vm.selectedText}},_vm._l((_vm.availableCategories),function(category,i){return _c('b-dropdown-item',{key:i,attrs:{\"data-value\":category.id},on:{\"click\":_vm.onCategorySelect}},[_vm._v(\" \"+_vm._s(category.name)+\" \")])}),1)],1),_c('ui-button',{staticClass:\"mt-3 mb-2\",attrs:{\"disabled\":!_vm.availableCategories.length},on:{\"clicked\":_vm.onAddClick}},[_vm._v(\"Добавить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup add-story-category-modal\" @click=\"resetAlert\" @keyup.13=\"onAddClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Добавление жанра\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <b-dropdown :text=\"selectedText\" class=\"m-md-2 add-story-category-modal__filter-dropdown\">\r\n                <b-dropdown-item v-for=\"(category, i) of availableCategories\" :key=\"i\" @click=\"onCategorySelect\"\r\n                                 :data-value=\"category.id\">\r\n                    {{ category.name }}\r\n                </b-dropdown-item>\r\n            </b-dropdown>\r\n        </div>\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onAddClick\" :disabled=\"!availableCategories.length\">Добавить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters, mapMutations} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    props: {\r\n        storyId: Number,\r\n        tempCategories: Array\r\n    },\r\n    data: () => ({\r\n        name: '',\r\n        alert: '',\r\n        canReset: false,\r\n        selectedOption: 0\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n    },\r\n    computed: {\r\n        ...mapGetters('firebase', ['getStoryById']),\r\n        categories() {\r\n            return this.$store.state.firebase.config.Categories;\r\n        },\r\n        selectedText() {\r\n            if (!this.selectedOption) {\r\n                if (this.availableCategories.length) return this.availableCategories[0].name;\r\n                return '';\r\n            }\r\n\r\n            const config = this.availableCategories.find(c => c.id === this.selectedOption);\r\n            return config ? config.name : '';\r\n        },\r\n        availableCategories() {\r\n            const storyData = this.getStoryById(this.storyId);\r\n            if (!storyData) {\r\n                return this.categories.filter(category => {\r\n                    const config = this.tempCategories.find(g => g.id === category.id);\r\n                    return !config;\r\n                });\r\n            }\r\n            return this.categories.filter(categoryData => {\r\n                const requiredElement = storyData.categories.find(sc => sc.id === categoryData.id);\r\n                return !requiredElement;\r\n            });\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig']),\r\n        ...mapMutations('firebase', ['ADD_STORY_TO_CATEGORY']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        onCategorySelect(event) {\r\n            this.selectedOption = parseInt(event.currentTarget.dataset.value, 10);\r\n        },\r\n        onAddClick() {\r\n            if (!this.availableCategories.length)\r\n                return;\r\n\r\n            if (this.selectedOption === 0)\r\n                this.selectedOption = this.availableCategories[0].id;\r\n\r\n            this.ADD_STORY_TO_CATEGORY({storyId: this.storyId, categoryId: this.selectedOption});\r\n            bus.$emit('story-categories-changed', this.selectedOption);\r\n            this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('add-story-category-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../assets/scss/variables\";\r\n\r\n.add-story-category-modal {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: auto;\r\n\r\n    .modal-popup__title {\r\n        width: 100%;\r\n        text-align: center;\r\n    }\r\n\r\n    .form-group {\r\n        display: flex;\r\n        justify-self: flex-start;\r\n        align-items: flex-start;\r\n        flex-grow: 1;\r\n        margin-bottom: -4px;\r\n\r\n        .dropdown-toggle {\r\n            background: transparent !important;\r\n            color: $primaryColor !important;\r\n            border: 1px solid $primaryColor !important;\r\n            outline: none !important;\r\n            width: auto;\r\n            float: left;\r\n            min-width: 250px;\r\n        }\r\n    }\r\n\r\n    .ui-button {\r\n        margin: 0;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddStoryCategoryModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddStoryCategoryModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddStoryCategoryModal.vue?vue&type=template&id=08367432&\"\nimport script from \"./AddStoryCategoryModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddStoryCategoryModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddStoryCategoryModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport AddStoryCategoryModal from '@/components/modals/AddStoryCategoryModal';\r\n\r\nexport const openAddStoryCategoryModal = (storyId, tempCategories) => {\r\n    const popup = new Popup({\r\n        component: AddStoryCategoryModal,\r\n        props: {storyId, tempCategories},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'add-story-category-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openAddStoryCategoryModal};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup add-story-genre-modal\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onAddClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Добавление жанра \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('div',{staticClass:\"form-group\"},[_c('b-dropdown',{staticClass:\"m-md-2 add-story-category-modal__filter-dropdown\",attrs:{\"text\":_vm.selectedText}},_vm._l((_vm.availableGenres),function(genre,i){return _c('b-dropdown-item',{key:i,attrs:{\"data-value\":genre.id},on:{\"click\":_vm.onGenreSelect}},[_vm._v(\" \"+_vm._s(genre.name)+\" \")])}),1)],1),_c('ui-button',{staticClass:\"mt-3 mb-2\",attrs:{\"disabled\":!_vm.availableGenres.length},on:{\"clicked\":_vm.onAddClick}},[_vm._v(\"Добавить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup add-story-genre-modal\" @click=\"resetAlert\" @keyup.13=\"onAddClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Добавление жанра\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <b-dropdown :text=\"selectedText\" class=\"m-md-2 add-story-category-modal__filter-dropdown\">\r\n                <b-dropdown-item v-for=\"(genre, i) of availableGenres\" :key=\"i\" @click=\"onGenreSelect\"\r\n                                 :data-value=\"genre.id\">\r\n                    {{ genre.name }}\r\n                </b-dropdown-item>\r\n            </b-dropdown>\r\n        </div>\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onAddClick\" :disabled=\"!availableGenres.length\">Добавить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters, mapMutations} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    props: {\r\n        storyId: Number,\r\n        tempGenres: Array\r\n    },\r\n    data: () => ({\r\n        name: '',\r\n        alert: '',\r\n        canReset: false,\r\n        selectedOption: 0\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n    },\r\n    computed: {\r\n        ...mapGetters('firebase', ['getStoryById', 'getGenreById']),\r\n        genres() {\r\n            return this.$store.state.firebase.config.Genres || [];\r\n        },\r\n        selectedText() {\r\n            if (!this.selectedOption) {\r\n                if (this.availableGenres.length) {\r\n                    return this.availableGenres[0].name;\r\n                } else {\r\n                    return '';\r\n                }\r\n            }\r\n\r\n            const config = this.availableGenres.find(c => c.id === this.selectedOption);\r\n            return config.name || '';\r\n        },\r\n        availableGenres() {\r\n            const story = this.getStoryById(this.storyId);\r\n            if (!story) {\r\n                return this.genres.filter(genre => {\r\n                    const config = this.tempGenres.find(g => g.id === genre.id);\r\n                    return !config;\r\n                });\r\n            }\r\n\r\n            return this.genres.filter(genre => {\r\n                const index = story.genres.findIndex(g => g.id === genre.id);\r\n                return index === -1;\r\n            });\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig']),\r\n        ...mapMutations('firebase', ['ADD_STORY_GENRE']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        onGenreSelect(event) {\r\n            this.selectedOption = parseInt(event.currentTarget.dataset.value, 10);\r\n        },\r\n        onAddClick() {\r\n            if (!this.availableGenres.length) {\r\n                return;\r\n            }\r\n\r\n            if (this.selectedOption === 0) {\r\n                this.selectedOption = this.availableGenres[0].id;\r\n            }\r\n\r\n            const genreData = this.getGenreById(this.selectedOption);\r\n            this.ADD_STORY_GENRE({\r\n                storyId: this.storyId,\r\n                genreData\r\n            });\r\n            bus.$emit('story-genres-changed', this.selectedOption);\r\n            this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('add-story-genre-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../assets/scss/variables\";\r\n\r\n.add-story-genre-modal {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: auto;\r\n\r\n    .modal-popup__title {\r\n        width: 100%;\r\n        text-align: center;\r\n    }\r\n\r\n    .form-group {\r\n        display: flex;\r\n        justify-self: flex-start;\r\n        align-items: flex-start;\r\n        flex-grow: 1;\r\n        margin-bottom: -4px;\r\n\r\n        .dropdown-toggle {\r\n            background: transparent !important;\r\n            color: $primaryColor !important;\r\n            border: 1px solid $primaryColor !important;\r\n            outline: none !important;\r\n            width: auto;\r\n            float: left;\r\n            min-width: 250px;\r\n        }\r\n    }\r\n\r\n    .ui-button {\r\n        margin: 0;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddStoryGenreModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddStoryGenreModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddStoryGenreModal.vue?vue&type=template&id=1057cc77&\"\nimport script from \"./AddStoryGenreModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddStoryGenreModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddStoryGenreModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport AddStoryGenreModal from '@/components/modals/AddStoryGenreModal';\r\n\r\nexport const openAddStoryGenreModal = (storyId, tempGenres) => {\r\n    const popup = new Popup({\r\n        component: AddStoryGenreModal,\r\n        props: {storyId, tempGenres},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'add-story-genre-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openAddStoryGenreModal};\r\n","<template>\r\n    <div class=\"story-page page\" v-if=\"dataFetched\">\r\n        <div class=\"story-page__header d-flex\">\r\n            <div class=\"story-page__header-left\">\r\n                <nav-back/>\r\n                {{ title }}\r\n            </div>\r\n            <div class=\"story-page__header-right\">\r\n                <ui-button @clicked=\"onSaveClick\" :color=\"saveButtonColor\"\r\n                           :class=\"{'story-page__save-button--disabled': !anyChanges}\"\r\n                >\r\n                    {{ saveButtonText }}\r\n                </ui-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"row mt-3 ml-1 font-weight-bold\" style=\"position: relative; margin-bottom: -20px;\">\r\n            <div class=\"story-page__story-id\" v-b-tooltip.hover title=\"Скопировать\" @click=\"clipStoryId\">\r\n                ID истории: {{ intStoryId }}\r\n            </div>\r\n        </div>\r\n        <div class=\"story-page__content d-flex\">\r\n            <div class=\"story-page__story-data d-flex\">\r\n                <div class=\"row mb-4 mr-4\">\r\n                    <div class=\"page-title row\">Описание истории</div>\r\n                </div>\r\n                <div class=\"row page__input\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"storyKeyInput\" class=\"page__input-title\">Ключ-идентификатор</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"storyKeyInput\" aria-describedby=\"storyKeyInput\"\r\n                               placeholder=\"String_value\" v-model=\"key\" :disabled=\"!isNewStory\"\r\n                               :class=\"{'data-changed': keyChanged}\"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                <div class=\"row page__input\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"storyTitleInput\" class=\"page__input-title\">Название</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"storyTitleInput\" aria-describedby=\"storyTitleInput\"\r\n                               placeholder=\"Название\" v-model=\"title\"\r\n                               :class=\"{'data-changed': titleChanged}\"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                <div class=\"row page__input\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"page__input-title\">Краткое описание</label>\r\n                        <textarea class=\"form-control\" id=\"storyDescriptionInput\" rows=\"3\"\r\n                                  placeholder=\"Краткое описание\" v-model=\"description\"\r\n                                  :class=\"{'data-changed': descriptionChanged}\"\r\n                        ></textarea>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row page__input\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"page__input-title\">Вес в рекомендованных</label>\r\n                        <input type=\"number\" v-model.number=\"recommendedOrder\"\r\n                               :class=\"{'data-changed': recommendedChanged}\"\r\n                               class=\"form-control\"\r\n                               min=0 oninput=\"validity.valid||(value=0)\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <template v-if=\"!isNewStory\">\r\n                    <label class=\"story-page__label mt-4\" :class=\"{'data-changed': lastChapterChanged}\">\r\n                        Последняя глава\r\n                    </label>\r\n                    <b-form-select v-model=\"lastChapterId\" :options=\"lastChapterOptions\"\r\n                                   class=\"form-control\"/>\r\n                </template>\r\n\r\n                <div class=\"row story-page__sub-row\">\r\n                    <div class=\"col\">\r\n                        <div class=\"form-group\">\r\n                            <label class=\"page__input-title\">За кого можно играть</label><br/>\r\n                            <b-dropdown :text=\"restrictionGenderText\" id=\"storyCharacterRestriction\"\r\n                                        class=\"m-md-2 stories-page__filter-dropdown\"\r\n                                        :class=\"{'data-changed': restrictionGenderChanged}\"\r\n                            >\r\n                                <b-dropdown-item v-for=\"(restriction, i) of restrictionsGender\" :key=\"i\"\r\n                                                 :data-value=\"i\"\r\n                                                 @click=\"onGenderRestrictionChanged\"\r\n                                >\r\n                                    {{ restriction.name }}\r\n                                </b-dropdown-item>\r\n                            </b-dropdown>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <div class=\"form-group\" style=\"margin-left: 20px;\">\r\n                            <label class=\"page__input-title\">Возрастные ограничения</label><br/>\r\n                            <b-dropdown :text=\"restrictionAgeText\" id=\"storyAgeRestriction\"\r\n                                        class=\"m-md-2 stories-page__filter-dropdown\"\r\n                                        :class=\"{'data-changed': restrictionAgeChanged}\"\r\n                            >\r\n                                <b-dropdown-item v-for=\"(restriction, i) of restrictionsAge\" :key=\"i\"\r\n                                                 :data-value=\"`${restriction.isAdult}`\"\r\n                                                 @click=\"onAgeRestrictionChanged\"\r\n                                >\r\n                                    {{ restriction.name }}\r\n                                </b-dropdown-item>\r\n                            </b-dropdown>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row page__input\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"page__input-title\"\r\n                               :class=\"{'data-changed': categoriesChanged}\"\r\n                        >\r\n                            Категории\r\n                        </label><br/>\r\n                        <ui-button v-for=\"(category, i) of categoriesList\" :key=\"i\" color=\"transparent\"\r\n                                   class=\"story-page__category-button\" @clicked=\"onDeleteCategoryClick(category.id)\">\r\n                            {{ category.name }}\r\n                        </ui-button>\r\n                        <ui-button color=\"transparent\" class=\"page__plus-button\" @clicked=\"onAddCategoryClick\">\r\n                            +\r\n                        </ui-button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row page__input\">\r\n                    <div class=\"form-group\">\r\n                        <label class=\"page__input-title\"\r\n                               :class=\"{'data-changed': genresChanged}\"\r\n                        >\r\n                            Жанры\r\n                        </label><br/>\r\n                        <ui-button v-for=\"(genre, i) of genresList\" :key=\"i\" color=\"transparent\"\r\n                                   class=\"story-page__category-button\" @clicked=\"onDeleteGenreClick(genre)\">\r\n                            {{ genre.name }}\r\n                        </ui-button>\r\n                        <ui-button color=\"transparent\" class=\"page__plus-button\" @clicked=\"onAddGenreClick\">\r\n                            +\r\n                        </ui-button>\r\n                    </div>\r\n                </div>\r\n\r\n                <label class=\"story-page__label mt-4\" style=\"box-shadow: none !important;\"\r\n                       :class=\"{'data-changed': rewardsChanged}\">\r\n                    Награды за прохождение истории\r\n                </label>\r\n                <span v-if=\"!rewards.length\" class=\"mb-3 mt-1\" style=\"font-size: 16px;\">Отсутствуют</span>\r\n                <div v-for=\"(reward) of rewards\" :key=\"reward.currency_id\" class=\"mb-4\" @click=\"onRewardsClick\"\r\n                     v-if=\"typeof selectedRewardOptions[`currency-${reward.currency_id}`] !== undefined\"\r\n                >\r\n                    <div class=\"d-flex flex-row align-items-center\">\r\n                        <div class=\"d-flex flex-column\">\r\n                            <b-form-select v-model=\"selectedRewardOptions[`currency-${reward.currency_id}`]\"\r\n                                           :options=\"currenciesOptions\"\r\n                                           class=\"form-control story-page__reward-input\"/>\r\n                            <input type=\"number\" placeholder=\"Количество\"\r\n                                   class=\"form-control mt-2 story-page__reward-input\"\r\n                                   v-model.number=\"rewardValues[`currency-${reward.currency_id}`]\"\r\n                                   min=0 oninput=\"validity.valid||(value=0)\"\r\n                            >\r\n                        </div>\r\n                        <div class=\"d-flex flex-column\">\r\n                            <svg v-if=\"!isDefaultReward\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\"\r\n                                 v-b-tooltip.hover title=\"Удалить награду\"\r\n                                 @click=\"deleteReward(reward.currency_id)\"\r\n                                 class=\"bi bi-x-circle ml-4 story-page__reset-reward\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n                                <path\r\n                                    d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <ui-button color=\"transparent\" @clicked=\"addReward\" class=\"mb-2\" style=\"max-width: 290px;\"\r\n                           v-if=\"getAvailableCurrencies().length\"\r\n                >\r\n                    Добавить награду\r\n                </ui-button>\r\n                <ui-button v-if=\"!isDefaultReward\" color=\"transparent\" @clicked=\"resetRewardToDefault\"\r\n                           style=\"max-width: 290px;\"\r\n                >\r\n                    Сбросить награды на дефолт\r\n                </ui-button>\r\n            </div>\r\n            <div v-if=\"!isNewStory\" class=\"story-page__chapters-data\">\r\n                <div class=\"story-page__chapters-title mt-4 ml-2\">\r\n                    Главы\r\n                </div>\r\n                <ui-button class=\"story-page__add-chapter-button ml-2\" @clicked=\"onAddChapterClick\">\r\n                    Добавить главу\r\n                </ui-button>\r\n                <div v-if=\"sortedChapters.length\" class=\"story-page__chapters-list\">\r\n                    <draggable\r\n                        class=\"list-group\"\r\n                        tag=\"ul\"\r\n                        v-model=\"sortedChapters\"\r\n                        v-bind=\"chapterDragOptions\"\r\n                        @start=\"chapterDragging = true\"\r\n                        @end=\"chapterDragging = false\"\r\n                        :move=\"onChaptersMoved\"\r\n                    >\r\n                        <transition-group type=\"transition\" :name=\"!chapterDragging ? 'flip-list' : null\">\r\n                            <li\r\n                                class=\"list-group-item story-page__chapter-item\"\r\n                                v-for=\"(chapterData, i) in sortedChapters\"\r\n                                :key=\"chapterData.id\"\r\n                            >\r\n                                <chapter-item :chapter-id=\"chapterData.id\" :chapter-number=\"i + 1\"\r\n                                              :story-id=\"intStoryId\" :chapterData=\"chapterData\"/>\r\n                            </li>\r\n                        </transition-group>\r\n                    </draggable>\r\n                </div>\r\n                <div v-else>\r\n                    <div class=\"story-page__no-chapters\">\r\n                        Глав нет\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters, mapMutations, mapState} from 'vuex';\r\nimport {RESTRICTIONS_GENDER} from '@/configs/restrictions';\r\nimport {openAddStoryCategoryModal} from '@/modals/addStoryCategoryModal';\r\nimport {openAddStoryGenreModal} from '@/modals/addStoryGenreModal';\r\nimport bus from '@/plugins/bus';\r\nimport draggable from \"vuedraggable\";\r\n\r\nconst getGenderRestriction = (isForMen, isForWomen) => {\r\n    let res;\r\n\r\n    Object.entries(RESTRICTIONS_GENDER).forEach(([key, value]) => {\r\n        if (value.isForMen === isForMen && value.isForWomen === isForWomen) {\r\n            res = key;\r\n        }\r\n    });\r\n\r\n    return res;\r\n};\r\n\r\nfunction DuplicateRewardException(currencyId) {\r\n    this.currencyId = currencyId;\r\n}\r\n\r\nexport default {\r\n    props: ['storyId'],\r\n    data: () => ({\r\n        pageIsReady: false,\r\n        intStoryId: 0,\r\n        isNewStory: false,\r\n        key: '',\r\n        title: 'Новая история',\r\n        description: 'Краткое описание',\r\n        availableOnProduction: false,\r\n        restrictionGenderOption: 'F&M',\r\n        restrictionAgeOption: false,\r\n        isAdult: false,\r\n        rewards: [],\r\n        recommendedOrder: 0,\r\n\r\n        anyChanges: false,\r\n        dataFetched: false,\r\n\r\n        storyData: Object,\r\n\r\n        // data changes\r\n        keyChanged: false,\r\n        titleChanged: false,\r\n        descriptionChanged: false,\r\n        restrictionGenderChanged: false,\r\n        restrictionAgeChanged: false,\r\n        categoriesChanged: false,\r\n        genresChanged: false,\r\n        skillsChanged: false,\r\n        publishVariantChanged: false,\r\n        publishDayChanged: false,\r\n        storyStatusChanged: false,\r\n        rewardsChanged: false,\r\n        lastChapterChanged: false,\r\n        recommendedChanged: false,\r\n        chapterDragging: false,\r\n\r\n        restrictionsAge: [\r\n            {isAdult: false, name: 'Без ограничений'},\r\n            {isAdult: true, name: '18+'},\r\n        ],\r\n\r\n        tempGenres: [],\r\n        tempCategories: [],\r\n\r\n        chaptersDragLocked: false,\r\n\r\n        currenciesOptions: [\r\n            {\r\n                value: 0,\r\n                text: 'Ожидание'\r\n            }\r\n        ],\r\n        selectedRewardOptions: {},\r\n        rewardValues: {},\r\n        isDefaultReward: true,\r\n        lastChapterId: null\r\n    }),\r\n    components: {\r\n        draggable,\r\n        NavBack: () => import('../../components/navigation/NavBack'),\r\n        UiButton: () => import('../../components/ui/UiButton'),\r\n        ChapterItem: () => import('../../components/stories/ChapterItem'),\r\n    },\r\n    computed: {\r\n        ...mapState('firebase', ['chaptersSortingOrder']),\r\n        ...mapGetters('firebase', ['getCategoryById', 'getStoryCategories', 'getStoryChapters', 'getChapterById',\r\n            'getGenreById', 'getNewStoryID', 'getDefaultStoryReward', 'getStoryGenres']),\r\n        economyConfig() {\r\n            return this.$store.state.firebase.config.EconomyConfig || {};\r\n        },\r\n        stories() {\r\n            return this.$store.state.firebase.config.Stories.stories;\r\n        },\r\n        genres() {\r\n            return this.$store.state.firebase.config.Genres || [];\r\n        },\r\n        categories() {\r\n            return this.$store.state.firebase.config.Categories.categories;\r\n        },\r\n        currencies() {\r\n            return this.$store.state.firebase.config.Currencies || [];\r\n        },\r\n        lastChapterOptions() {\r\n            const chapters = this.getStoryChapters(this.intStoryId);\r\n            return [{text: 'Не установлена', value: 0}, ...chapters.map(chapter => {\r\n                return {\r\n                    text: chapter.title,\r\n                    value: chapter.id\r\n                };\r\n            })];\r\n        },\r\n        sortedChapters: {\r\n            get() {\r\n                const chapters = this.getStoryChapters(this.intStoryId);\r\n                if (!chapters || !chapters.length) return [];\r\n\r\n                let order = this.chaptersSortingOrder[this.intStoryId] || false;\r\n                if (!order) {\r\n                    order = chapters.map(chapter => chapter.id);\r\n                    this.$store.commit('firebase/UPDATE_CHAPTERS_SORTING_ORDER', {storyId: this.intStoryId, order});\r\n                }\r\n\r\n                let sortedChapters = [];\r\n                order.forEach(chapterId => {\r\n                    const config = this.getChapterById(this.intStoryId, chapterId);\r\n                    if (config) sortedChapters.push(config);\r\n                });\r\n\r\n                return sortedChapters;\r\n            },\r\n            async set(value) {\r\n                const order = value.map(chapter => chapter.id);\r\n                this.chaptersDragLocked = true;\r\n                this.UPDATE_CHAPTERS_SORTING_ORDER({\r\n                    storyId: this.intStoryId,\r\n                    order\r\n                });\r\n                this.chaptersDragLocked = false;\r\n                this.anyChanges = true;\r\n                bus.$emit('show-notification-message', 'Нужно сохранить историю для сортировки');\r\n            }\r\n        },\r\n        chapterDragOptions() {\r\n            return {\r\n                animation: 0,\r\n                group: \"description\",\r\n                disabled: false,\r\n                ghostClass: \"ghost\"\r\n            };\r\n        },\r\n        saveButtonText() {\r\n            return this.anyChanges ? 'Сохранить' : 'Сохранено';\r\n        },\r\n        saveButtonColor() {\r\n            return this.anyChanges ? 'blue' : 'transparent';\r\n        },\r\n        restrictionsGender() {\r\n            return RESTRICTIONS_GENDER;\r\n        },\r\n        restrictionAgeText() {\r\n            const config = this.restrictionsAge.find(restriction => restriction.isAdult === this.restrictionAgeOption);\r\n            return config ? config.name : '';\r\n        },\r\n        restrictionGenderText() {\r\n            const config = RESTRICTIONS_GENDER[this.restrictionGenderOption];\r\n            return config ? config.name : '';\r\n        },\r\n        genresList() {\r\n            return this.isNewStory ? this.tempGenres : this.getStoryGenres(this.intStoryId);\r\n        },\r\n        categoriesList() {\r\n            return this.isNewStory ? this.tempCategories : this.getStoryCategories(this.intStoryId);\r\n        },\r\n    },\r\n    watch: {\r\n        lastChapterId() {\r\n            this.changesCommonHandler('lastChapter');\r\n        },\r\n        key() {\r\n            this.changesCommonHandler('key');\r\n        },\r\n        title: {\r\n            handler() {\r\n                this.changesCommonHandler('title');\r\n            }\r\n        },\r\n        description: {\r\n            handler() {\r\n                this.changesCommonHandler('description');\r\n            }\r\n        },\r\n        restrictionGenderOption: {\r\n            handler() {\r\n                this.changesCommonHandler('restrictionGender');\r\n            }\r\n        },\r\n        restrictionAgeOption: {\r\n            handler() {\r\n                this.changesCommonHandler('restrictionAge');\r\n            }\r\n        },\r\n        recommendedOrder() {\r\n            this.changesCommonHandler('recommended');\r\n        }\r\n    },\r\n    created() {\r\n        bus.$off('story-genres-changed').$on('story-genres-changed', this.onGenresChanged);\r\n        bus.$off('story-categories-changed').$on('story-categories-changed', this.onCategoriesChanged);\r\n    },\r\n    mounted() {\r\n        this.fetchData();\r\n    },\r\n    beforeDestroy() {\r\n        bus.$off('story-categories-changed');\r\n        bus.$off('story-genres-changed');\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'saveStory']),\r\n        ...mapMutations('firebase', ['DELETE_STORY_FROM_CATEGORY', 'DELETE_STORY_GENRE', 'UPDATE_CHAPTERS_SORTING_ORDER']),\r\n        validateKey() {\r\n            if (!this.key.length) {\r\n                bus.$emit('show-notification-message', 'Необходимо ввести ключ-идентификатор');\r\n                return false;\r\n            } else if (!/^[a-zA-Z0-9_]+$/.test(this.key)) {\r\n                bus.$emit('show-notification-message', 'Ключ должен состоять из латиницы и прочерков');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        async fetchData() {\r\n            await this.getConfig();\r\n            this.fetchStories();\r\n            this.fillSelects();\r\n            setTimeout(() => {\r\n                this.dataFetched = true;\r\n            }, 250);\r\n        },\r\n        fillSelects() {\r\n            this.currenciesOptions = this.currencies\r\n                .filter(currency => currency.id > 0)\r\n                .map(currency => {\r\n                    return {\r\n                        value: currency.id,\r\n                        text: currency.name\r\n                    };\r\n                });\r\n\r\n            if (this.rewards.length && !this.isDefaultReward) {\r\n                this.rewards.forEach(reward => {\r\n                    this.selectedRewardOptions[`currency-${reward.currency_id}`] = reward.currency_id;\r\n                    this.rewardValues[`currency-${reward.currency_id}`] = reward.value;\r\n                });\r\n            } else if (this.isDefaultReward) {\r\n                this.rewards = [{\r\n                    currency_id: this.economyConfig.story_reward_currency_id,\r\n                    value: this.economyConfig.story_reward_currency_value\r\n                }];\r\n                this.selectedRewardOptions[`currency-${this.economyConfig.story_reward_currency_id}`] = this.economyConfig.story_reward_currency_id;\r\n                this.rewardValues[`currency-${this.economyConfig.story_reward_currency_id}`] = this.economyConfig.story_reward_currency_value;\r\n            }\r\n\r\n            this.lastChapterId = this.storyData.last_chapter_id || 0;\r\n        },\r\n        onGenresChanged(genreId) {\r\n            if (this.isNewStory)\r\n                this.tempGenres.push(this.getGenreById(genreId));\r\n            this.anyChanges = true;\r\n            this.genresChanged = true;\r\n        },\r\n        onCategoriesChanged(categoryId) {\r\n            if (this.isNewStory)\r\n                this.tempCategories.push(this.getCategoryById(categoryId));\r\n            this.anyChanges = true;\r\n            this.categoriesChanged = true;\r\n        },\r\n        changesCommonHandler(fieldName) {\r\n            if (!this.dataFetched)\r\n                return;\r\n            this.anyChanges = true;\r\n            this[`${fieldName}Changed`] = true;\r\n        },\r\n        fetchStories() {\r\n            if (this.storyId) {\r\n                this.intStoryId = parseInt(this.storyId, 10);\r\n                this.storyData = this.stories.find(storyData => storyData.id === this.intStoryId);\r\n                this.title = this.storyData.title;\r\n                this.key = this.storyData.key;\r\n                this.description = this.storyData.description;\r\n                this.restrictionAgeOption = this.storyData.is_adult;\r\n                this.restrictionGenderOption = getGenderRestriction(this.storyData.is_man, this.storyData.is_woman);\r\n                this.rewards = this.storyData.rewards || this.getDefaultStoryReward;\r\n                this.isDefaultReward = this.storyData.reward_default;\r\n                this.recommendedOrder = this.storyData.order_recommended || 0;\r\n            } else {\r\n                this.isNewStory = true;\r\n                this.intStoryId = this.getNewStoryID;\r\n                this.setDefaultReward();\r\n            }\r\n        },\r\n        onAgeRestrictionChanged(event) {\r\n            this.restrictionAgeOption = event.currentTarget.dataset.value === 'true';\r\n        },\r\n        onGenderRestrictionChanged(event) {\r\n            this.restrictionGenderOption = event.currentTarget.dataset.value;\r\n        },\r\n        async onSaveClick() {\r\n            if (!this.anyChanges) return false;\r\n            if (!this.validateKey()) return false;\r\n\r\n            const genderConfig = RESTRICTIONS_GENDER[this.restrictionGenderOption];\r\n\r\n            const storyData = {\r\n                id: this.intStoryId,\r\n                title: this.title,\r\n                description: this.description,\r\n                is_man: genderConfig.isForMen,\r\n                is_woman: genderConfig.isForWomen,\r\n                is_adult: this.restrictionAgeOption,\r\n                order_recommended: this.recommendedOrder,\r\n                chapters: this.sortedChapters.length ? this.sortedChapters : [],\r\n                last_chapter_id: this.lastChapterId || null,\r\n                key: this.key,\r\n                categories: this.isNewStory ? this.tempCategories : this.getStoryCategories(this.intStoryId),\r\n                genres: this.isNewStory ? this.tempGenres : this.getStoryGenres(this.intStoryId)\r\n            };\r\n\r\n            storyData.is_published = storyData.last_chapter_id != null;\r\n\r\n            if (this.isNewStory)\r\n                storyData.created_at = new Date().toISOString();\r\n\r\n            if (this.rewardsChanged) {\r\n                const rewardsCounter = {};\r\n\r\n                storyData.rewards = [];\r\n                Object.entries(this.selectedRewardOptions).forEach(([key, currencyId]) => {\r\n                    storyData.rewards.push({\r\n                        currency_id: currencyId,\r\n                        value: parseInt(this.rewardValues[key], 10)\r\n                    });\r\n\r\n                    if (!rewardsCounter[currencyId])\r\n                        rewardsCounter[currencyId] = 1;\r\n                    else\r\n                        rewardsCounter[currencyId]++;\r\n                });\r\n\r\n                try {\r\n                    Object.entries(rewardsCounter).forEach(([currencyId, count]) => {\r\n                        if (count > 1)\r\n                            throw new DuplicateRewardException(parseInt(currencyId), 10);\r\n                    });\r\n                } catch (e) {\r\n                    if (!e.currencyId) {\r\n                        throw e;\r\n                    } else {\r\n                        const currency = this.currencies.find(c => c.id === e.currencyId);\r\n                        bus.$emit('show-notification-message', `Дублирующаяся награда: ${currency.name}`);\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                storyData.reward_default = this.isDefaultReward = false;\r\n            } else if (this.isNewStory) {\r\n                storyData.rewards = this.getDefaultStoryReward;\r\n                storyData.reward_default = true;\r\n            }\r\n\r\n            // дописываем то, что раньше подставлял бэкенд\r\n            Object.keys(this.storyData).forEach(key => !storyData.hasOwnProperty(key) && (storyData[key] = this.storyData[key]));\r\n\r\n            const res = await this.saveStory({storyData, isNewStory: this.isNewStory});\r\n\r\n            if (!res.error) {\r\n                bus.$emit('show-notification-message', 'Сохранено');\r\n\r\n                this.anyChanges = false;\r\n                this.resetChangedFlags();\r\n\r\n                if (res.redirectStory)\r\n                    await this.$router.push(`/story/${res.redirectStory}`);\r\n            } else {\r\n                bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n            }\r\n        },\r\n        deleteReward(currencyId) {\r\n            this.rewards = this.rewards.filter(r => r.currency_id !== currencyId);\r\n            delete this.selectedRewardOptions[`currency-${currencyId}`];\r\n            delete this.rewardValues[`currency-${currencyId}`];\r\n            !this.rewards.length && this.isDefaultReward && this.setDefaultReward();\r\n        },\r\n        setDefaultReward() {\r\n            this.rewards = [{\r\n                currency_id: this.economyConfig.story_reward_currency_id,\r\n                value: this.economyConfig.story_reward_currency_value,\r\n            }];\r\n            this.selectedRewardOptions = {\r\n                [`currency-${this.economyConfig.story_reward_currency_id}`]: this.economyConfig.story_reward_currency_id\r\n            };\r\n            this.rewardValues = {\r\n                [`currency-${this.economyConfig.story_reward_currency_id}`]: this.economyConfig.story_reward_currency_value\r\n            };\r\n            this.isDefaultReward = true;\r\n        },\r\n        addReward() {\r\n            const availableCurrencies = this.getAvailableCurrencies();\r\n\r\n            if (!availableCurrencies.length)\r\n                return;\r\n\r\n            this.rewards.push({\r\n                currency_id: availableCurrencies[0].id,\r\n                value: 0\r\n            });\r\n            this.selectedRewardOptions[`currency-${availableCurrencies[0].id}`] = availableCurrencies[0].id;\r\n            this.rewardValues[`currency-${availableCurrencies[0].id}`] = 0;\r\n\r\n            this.isDefaultReward = false;\r\n        },\r\n        async resetRewardToDefault() {\r\n            const res = await this.saveStory({\r\n                id: this.intStoryId,\r\n                rewards: this.getDefaultStoryReward,\r\n                reward_default: true\r\n            });\r\n\r\n            if (!res.error) {\r\n                bus.$emit('show-notification-message', 'Награда сброшена на дефолт');\r\n\r\n                this.setDefaultReward();\r\n                this.rewardsChanged = false;\r\n            } else {\r\n                bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n            }\r\n        },\r\n        resetChangedFlags() {\r\n            this.titleChanged = false;\r\n            this.descriptionChanged = false;\r\n            this.restrictionGenderChanged = false;\r\n            this.restrictionAgeChanged = false;\r\n            this.genresChanged = false;\r\n            this.rewardsChanged = false;\r\n            this.lastChapterChanged = false;\r\n            this.categoriesChanged = false;\r\n            this.keyChanged = false;\r\n        },\r\n        async onAddChapterClick() {\r\n            await this.$router.push({\r\n                name: 'chapters',\r\n                params: {chapterId: 0, storyId: this.intStoryId, chapterData: null},\r\n            });\r\n        },\r\n        onAddCategoryClick() {\r\n            openAddStoryCategoryModal(this.intStoryId, this.tempCategories);\r\n        },\r\n        onDeleteCategoryClick(categoryId) {\r\n            this.DELETE_STORY_FROM_CATEGORY({\r\n                storyId: this.intStoryId,\r\n                categoryId\r\n            });\r\n            this.categoriesChanged = true;\r\n            this.anyChanges = true;\r\n        },\r\n        onAddGenreClick() {\r\n            openAddStoryGenreModal(this.intStoryId, this.tempGenres);\r\n        },\r\n        onDeleteGenreClick(genre) {\r\n            if (this.tempGenres.length) {\r\n                const index = this.tempGenres.findIndex(g => g.id === genre.id);\r\n                if (index > -1) this.tempGenres.splice(index, 1);\r\n            }\r\n\r\n            this.DELETE_STORY_GENRE({storyId: this.intStoryId, genreId: genre.id});\r\n            this.genresChanged = true;\r\n            this.anyChanges = true;\r\n        },\r\n        onChaptersMoved() {\r\n            return !this.chaptersDragLocked;\r\n        },\r\n\r\n        getAvailableCurrencies() {\r\n            const usedCurrencies = Object.keys(this.selectedRewardOptions)\r\n                .map(c => parseInt(c.split('currency-')[1], 10));\r\n            return this.currencies.filter(c => usedCurrencies.indexOf(c.id) === -1 && c.id > 0);\r\n        },\r\n        onRewardsClick() {\r\n            this.anyChanges = true;\r\n            this.rewardsChanged = true;\r\n        },\r\n        clipStoryId() {\r\n            this.$clipboard(this.intStoryId);\r\n            bus.$emit('show-notification-message', 'ID скопирован в буфер обмена');\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../assets/scss/variables\";\r\n@import \"../../assets/scss/mixins\";\r\n\r\n.story-page {\r\n    &__story-id {\r\n        font-size: 16px;\r\n        user-select: text;\r\n        text-decoration: underline;\r\n        cursor: pointer;\r\n    }\r\n\r\n    &__header {\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        //height: 80px;\r\n        padding: 12px 0;\r\n        position: relative;\r\n        background: transparent;\r\n\r\n        &:after {\r\n            content: '';\r\n            width: 200vw;\r\n            height: 1px;\r\n            background: #9AAABC;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: -100vw;\r\n        }\r\n    }\r\n\r\n    &__label {\r\n        font-size: 16px;\r\n    }\r\n\r\n    &__content {\r\n        padding-top: 16px;\r\n        text-align: left;\r\n        font-weight: 700;\r\n        font-size: 24px;\r\n    }\r\n\r\n    &__story-data {\r\n        flex-direction: column;\r\n        width: 60vw;\r\n        padding-bottom: 175px;\r\n\r\n        .row {\r\n            font-size: 24px;\r\n            margin: 12px 0 0;\r\n        }\r\n\r\n        .col {\r\n            padding: 0;\r\n            font-size: 16px;\r\n            max-width: 270px;\r\n        }\r\n    }\r\n\r\n    &__chapters-data {\r\n        width: 40vw;\r\n        margin-left: 66px;\r\n\r\n        .dropdown-toggle {\r\n            width: auto;\r\n            min-width: 212px;\r\n        }\r\n\r\n        .page__input-title {\r\n            margin: 24px 0 16px 0;\r\n            font-size: 16px;\r\n        }\r\n    }\r\n\r\n    &__chapter-item {\r\n        border: 0;\r\n    }\r\n\r\n    &__header-left,\r\n    &__header-right {\r\n        //max-width: 556px; todo check for troubles\r\n        text-align: left;\r\n    }\r\n\r\n    &__header-left {\r\n        font-size: 32px;\r\n        font-style: normal;\r\n        font-weight: 700;\r\n        line-height: 44px;\r\n        text-align: left;\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n\r\n    &__header-right {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        .btn {\r\n            background: transparent;\r\n            color: $primaryColor;\r\n            font-size: 16px;\r\n            border: 1px solid $primaryColor;\r\n            margin-right: 12px;\r\n\r\n            &:focus {\r\n                outline: none !important;\r\n                box-shadow: none !important;\r\n            }\r\n        }\r\n    }\r\n\r\n    &__status-text {\r\n        font-weight: 700;\r\n        font-size: 16px;\r\n        margin-right: 12px;\r\n    }\r\n\r\n    .form-control {\r\n        width: 560px;\r\n        border-color: $primaryColor;\r\n        color: $primaryColor;\r\n    }\r\n\r\n    &__input-title {\r\n        font-size: 16px;\r\n    }\r\n\r\n    &__sub-row {\r\n        .col {\r\n            width: 50%;\r\n        }\r\n\r\n        .form-control {\r\n            width: 272px;\r\n        }\r\n    }\r\n\r\n    &__delete-button {\r\n        width: 212px;\r\n        height: 40px;\r\n    }\r\n\r\n    &__add-chapter-button {\r\n        width: 197px;\r\n        height: 40px;\r\n        margin-top: 54px;\r\n        text-transform: uppercase;\r\n    }\r\n\r\n    &__no-chapters {\r\n        font-size: 14px;\r\n        margin-top: 48px;\r\n        position: relative;\r\n\r\n        &:after {\r\n            content: '';\r\n            display: block;\r\n            position: absolute;\r\n            bottom: -25px;\r\n            left: 0;\r\n            width: 100%;\r\n            height: 1px;\r\n            background: $primaryColor;\r\n\r\n        }\r\n    }\r\n\r\n    &__chapters-list {\r\n        margin-top: 36px;\r\n    }\r\n\r\n    &__category-button {\r\n        margin-right: 8px;\r\n        margin-top: 8px;\r\n    }\r\n\r\n    &__status-dropdown {\r\n        .dropdown-toggle {\r\n            width: auto;\r\n            min-width: 120px;\r\n        }\r\n    }\r\n\r\n    .dropdown-toggle {\r\n        padding-right: 24px;\r\n    }\r\n\r\n    &__filter-dropdown {\r\n        .btn {\r\n            border: 1px solid $primaryColor;\r\n            border-color: $primaryColor !important;\r\n        }\r\n    }\r\n\r\n    &__save-button {\r\n        &--disabled {\r\n            pointer-events: none;\r\n        }\r\n    }\r\n\r\n    &__reward-input {\r\n        max-width: 270px;\r\n    }\r\n\r\n    &__reset-reward {\r\n        cursor: pointer;\r\n    }\r\n}\r\n\r\n.data-changed {\r\n    #story-page-status-dropdown__BV_toggle_ {\r\n        border: 0 !important;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Story.vue?vue&type=template&id=636aaacc&\"\nimport script from \"./Story.vue?vue&type=script&lang=js&\"\nexport * from \"./Story.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Story.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import VueJSModal from \"vue-js-modal\";\r\n\r\nexport default class Popup {\r\n    constructor({component, props = {}, params = {}, events = {}}) {\r\n        this.component = component;\r\n        this.props = props;\r\n        this.params = params;\r\n        this.events = {\r\n            'opened': () => {\r\n                Object.assign(component, {modalName: params.name});\r\n            },\r\n            'closed': () => {\r\n            }\r\n        };\r\n        \r\n        Object.assign(this.events, events);\r\n    }\r\n    \r\n    show() {\r\n        VueJSModal.rootInstance.$modal.show(this.component, this.props, this.params, this.events);\r\n    }\r\n    \r\n    hide() {\r\n        VueJSModal.rootInstance.$emit('close');\r\n    }\r\n};\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddStoryCategoryModal.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Story.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddStoryGenreModal.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}