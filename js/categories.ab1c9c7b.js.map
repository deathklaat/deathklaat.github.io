{"version":3,"sources":["webpack:///./src/views/Firebase/Categories.vue?ebf5","webpack:///./src/components/modals/AddCategoryModal.vue?b19a","webpack:///src/components/modals/AddCategoryModal.vue","webpack:///./src/components/modals/AddCategoryModal.vue?5278","webpack:///./src/components/modals/AddCategoryModal.vue","webpack:///./src/modals/addCategoryModal.js","webpack:///./src/components/modals/EditCategoryModal.vue?4c0f","webpack:///src/components/modals/EditCategoryModal.vue","webpack:///./src/components/modals/EditCategoryModal.vue?86a6","webpack:///./src/components/modals/EditCategoryModal.vue","webpack:///./src/modals/editCategoryModal.js","webpack:///src/views/Firebase/Categories.vue","webpack:///./src/views/Firebase/Categories.vue?3425","webpack:///./src/views/Firebase/Categories.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/lib/Popup.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","onAddClick","_m","_l","category","i","key","_s","id","name","directives","rawName","modifiers","$event","onEditClick","staticRenderFns","resetAlert","type","indexOf","keyCode","apply","arguments","close","value","expression","ref","domProps","target","composing","alert","_e","component","openAddCategoryModal","popup","Popup","AddCategoryModal","props","params","transition","width","height","classes","show","onSaveClick","openEditCategoryModal","EditCategoryModal","_classCallCheck","instance","Constructor","TypeError","_defineProperties","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","prototype","events","assign","modalName","VueJSModal","rootInstance","$modal","$emit"],"mappings":"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","file":"js/categories.ab1c9c7b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Список категорий \"),_c('ui-button',{staticClass:\"page__add-button\",attrs:{\"color\":\"blue\"},on:{\"clicked\":_vm.onAddClick}},[_vm._v(\" Добавить \")])],1),_c('table',{staticClass:\"users-list table table-striped\"},[_vm._m(0),_c('tbody',_vm._l((_vm.categories),function(category,i){return _c('tr',{key:i},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(category.id))]),_c('td',[_vm._v(_vm._s(category.name))]),_c('td',[_c('svg',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bi bi-pencil page__active-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"title\":\"Редактировать\"},on:{\"click\":function($event){return _vm.onEditClick(category)}}},[_c('path',{attrs:{\"d\":\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"}})])])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"ID\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Название\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Действия\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onAddClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Добавление категории \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"input\",staticClass:\"form-control mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('ui-button',{staticClass:\"mt-3 mb-2\",on:{\"clicked\":_vm.onAddClick}},[_vm._v(\"Добавить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @click=\"resetAlert\" @keyup.13=\"onAddClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Добавление категории\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <input type=\"text\" class=\"form-control mb-2\" placeholder=\"Название\" v-model=\"name\" ref=\"input\">\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onAddClick\">Добавить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex';\r\n\r\nexport default {\r\n    data: () => ({\r\n        name: '',\r\n        alert: '',\r\n        canReset: false\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    computed: {\r\n        ...mapGetters('firebase', ['getNewEntityID'])\r\n    },\r\n    mounted() {\r\n        this.$refs.input.focus();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['saveCategory']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onAddClick() {\r\n            if (this.name === '') {\r\n                this.setAlert('Необходимо ввести название');\r\n                return;\r\n            }\r\n\r\n            const res = await this.saveCategory({id: this.getNewEntityID('Categories'), name: this.name});\r\n\r\n            if (res.error)\r\n                this.setAlert(`Ошибка: ${res.error.toString()}`);\r\n            else\r\n                this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('add-category-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCategoryModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCategoryModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCategoryModal.vue?vue&type=template&id=767b5062&\"\nimport script from \"./AddCategoryModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCategoryModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport AddCategoryModal from '@/components/modals/AddCategoryModal';\r\n\r\nexport const openAddCategoryModal = () => {\r\n    const popup = new Popup({\r\n        component: AddCategoryModal,\r\n        props: {},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'add-category-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openAddCategoryModal};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onSaveClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Редактирование категории \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"input\",staticClass:\"form-control mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('ui-button',{staticClass:\"mt-3 mb-2\",on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @keyup.13=\"onSaveClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Редактирование категории\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <input type=\"text\" class=\"form-control mb-2\" placeholder=\"Название\" v-model=\"name\" ref=\"input\">\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onSaveClick\">Сохранить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    props: ['category'],\r\n    data: () => ({\r\n        name: '',\r\n        alert: ''\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    mounted() {\r\n        this.name = this.category.name;\r\n        this.$refs.input.focus();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['saveCategory']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onSaveClick() {\r\n            if (this.name === '') {\r\n                this.setAlert('Необходимо ввести название');\r\n                return;\r\n            }\r\n\r\n            const response = await this.saveCategory({id: this.category.id, name: this.name});\r\n\r\n            if (response.error)\r\n                bus.$emit('show-notification-message', `Ошибка: ${response.error.toString()}`);\r\n            else\r\n                this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('edit-category-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategoryModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCategoryModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCategoryModal.vue?vue&type=template&id=3246a4a6&\"\nimport script from \"./EditCategoryModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCategoryModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport EditCategoryModal from '@/components/modals/EditCategoryModal';\r\n\r\nexport const openEditCategoryModal = category => {\r\n    const popup = new Popup({\r\n        component: EditCategoryModal,\r\n        props: {category},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'edit-category-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openEditCategoryModal};\r\n","<template>\r\n    <div class=\"page\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Список категорий\r\n            <ui-button color=\"blue\" class=\"page__add-button\" @clicked=\"onAddClick\">\r\n                Добавить\r\n            </ui-button>\r\n        </div>\r\n        <table class=\"users-list table table-striped\">\r\n            <thead>\r\n            <tr>\r\n                <th scope=\"col\">ID</th>\r\n                <th scope=\"col\">Название</th>\r\n                <th scope=\"col\">Действия</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(category, i) of categories\" :key=\"i\">\r\n                <th scope=\"row\">{{ category.id }}</th>\r\n                <td>{{ category.name }}</td>\r\n                <td>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                         class=\"bi bi-pencil page__active-icon\" viewBox=\"0 0 16 16\"\r\n                         @click=\"onEditClick(category)\" v-b-tooltip.hover title=\"Редактировать\"\r\n                    >\r\n                        <path\r\n                            d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\r\n                    </svg>\r\n                </td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nimport {openAddCategoryModal} from '@/modals/addCategoryModal';\r\nimport {openEditCategoryModal} from '@/modals/editCategoryModal';\r\n\r\nexport default {\r\n    components: {\r\n        UiButton: () => import('../../components/ui/UiButton'),\r\n        NavBack: () => import('../../components/navigation/NavBack'),\r\n    },\r\n    computed: {\r\n        categories() {\r\n            return this.$store.state.firebase.config.Categories;\r\n        },\r\n    },\r\n    created() {\r\n        this.getConfig();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig']),\r\n        onEditClick(category) {\r\n            openEditCategoryModal(category);\r\n        },\r\n        onAddClick() {\r\n            openAddCategoryModal();\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Categories.vue?vue&type=template&id=c03e30a6&\"\nimport script from \"./Categories.vue?vue&type=script&lang=js&\"\nexport * from \"./Categories.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import VueJSModal from \"vue-js-modal\";\r\n\r\nexport default class Popup {\r\n    constructor({component, props = {}, params = {}, events = {}}) {\r\n        this.component = component;\r\n        this.props = props;\r\n        this.params = params;\r\n        this.events = {\r\n            'opened': () => {\r\n                Object.assign(component, {modalName: params.name});\r\n            },\r\n            'closed': () => {\r\n            }\r\n        };\r\n        \r\n        Object.assign(this.events, events);\r\n    }\r\n    \r\n    show() {\r\n        VueJSModal.rootInstance.$modal.show(this.component, this.props, this.params, this.events);\r\n    }\r\n    \r\n    hide() {\r\n        VueJSModal.rootInstance.$emit('close');\r\n    }\r\n};\r\n"],"sourceRoot":""}