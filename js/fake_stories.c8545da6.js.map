{"version":3,"sources":["webpack:///./src/views/FakeStories.vue?a6b9","webpack:///src/views/FakeStories.vue","webpack:///./src/views/FakeStories.vue?a737","webpack:///./src/views/FakeStories.vue","webpack:///./src/views/FakeStories.vue?1674"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","statusText","_l","status","i","key","value","on","onStatusSelect","_s","name","directives","rawName","expression","modifiers","domProps","$event","target","composing","chaptersCount","_n","$forceUpdate","staticStyle","onSaveClick","_e","staticRenderFns","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAYJ,EAAIO,GAAG,uBAAuB,GAAIP,EAAe,YAAE,CAACI,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,aAAaH,EAAG,aAAa,CAACI,MAAM,CAAC,KAAOR,EAAIS,aAAaT,EAAIU,GAAIV,EAAiB,eAAE,SAASW,EAAOC,GAAG,OAAOR,EAAG,kBAAkB,CAACS,IAAID,EAAEJ,MAAM,CAAC,aAAaG,EAAOG,OAAOC,GAAG,CAAC,MAAQf,EAAIgB,iBAAiB,CAAChB,EAAIO,GAAG,IAAIP,EAAIiB,GAAGN,EAAOO,MAAM,UAAS,IAAI,GAAGd,EAAG,MAAM,CAACE,YAAY,6CAA6C,CAACF,EAAG,QAAQ,CAACE,YAAY,4BAA4B,CAACN,EAAIO,GAAG,kBAAkBH,EAAG,QAAQ,CAACe,WAAW,CAAC,CAACD,KAAK,QAAQE,QAAQ,iBAAiBN,MAAOd,EAAiB,cAAEqB,WAAW,gBAAgBC,UAAU,CAAC,QAAS,KAAQhB,YAAY,iDAAiDE,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,QAAU,6BAA6Be,SAAS,CAAC,MAASvB,EAAiB,eAAGe,GAAG,CAAC,MAAQ,SAASS,GAAWA,EAAOC,OAAOC,YAAqB1B,EAAI2B,cAAc3B,EAAI4B,GAAGJ,EAAOC,OAAOX,SAAQ,KAAO,SAASU,GAAQ,OAAOxB,EAAI6B,mBAAmBzB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACe,WAAW,CAAC,CAACD,KAAK,YAAYE,QAAQ,oBAAoBE,UAAU,CAAC,OAAQ,KAAQhB,YAAY,qBAAqBwB,YAAY,CAAC,OAAS,WAAWtB,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,eAAe,QAAU,YAAY,MAAQ,aAAaO,GAAG,CAAC,MAAQf,EAAI+B,cAAc,CAAC3B,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,qJAAqJJ,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,qKAAqKR,EAAIgC,MAAM,IACh6DC,EAAkB,G,wHC0CtB,GACE,KAAF,WAAI,MAAJ,CACM,aAAN,EACM,cAAN,EACM,WAAN,GACM,aAAN,EACM,cAAN,CACA,CAAQ,MAAR,EAAQ,KAAR,YACA,CAAQ,MAAR,EAAQ,KAAR,gBAGE,WAAF,CACI,SAAJ,WAAM,OAAN,iDACI,QAAJ,WAAM,OAAN,kDAEE,SAAF,CACI,OADJ,WAEM,OAAN,kDAGE,QApBF,WAoBI,IAAJ,OAAI,OAAJ,sJACA,cADA,OAEA,iDACA,wDACA,uFACA,iBALA,8CAOE,QAAF,iCACA,8DADA,IAEI,eAFJ,SAEA,GAAM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,iFACA,mDADA,SAGA,+DAHA,OAGA,EAHA,OAKA,QAIA,iFAHA,uFACA,6DAPA,8CAWI,YAbJ,WAaM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,mEADA,OACA,EADA,OAGA,QAGA,gFAFA,sDAJA,iDCnFqV,I,wBCQjVC,EAAY,eACd,EACAnC,EACAkC,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,2CCnBf","file":"js/fake_stories.c8545da6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page fake-stories-page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Фейковые истории \")],1),(_vm.pageIsReady)?[_c('div',{staticClass:\"fake-stories-page__status\"},[_c('label',{staticClass:\"my-0\"},[_vm._v(\"Статус:\")]),_c('b-dropdown',{attrs:{\"text\":_vm.statusText}},_vm._l((_vm.statusOptions),function(status,i){return _c('b-dropdown-item',{key:i,attrs:{\"data-value\":status.value},on:{\"click\":_vm.onStatusSelect}},[_vm._v(\" \"+_vm._s(status.name)+\" \")])}),1)],1),_c('div',{staticClass:\"form-group fake-stories-page__input-block\"},[_c('label',{staticClass:\"fake-stories-page__label\"},[_vm._v(\"Кол-во глав:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.chaptersCount),expression:\"chaptersCount\",modifiers:{\"number\":true}}],staticClass:\"form-control fake-stories-page__chapters-value\",attrs:{\"type\":\"number\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.chaptersCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.chaptersCount=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"ml-2\"},[_c('svg',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bi bi-check-square\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"title\":\"Сохранить\"},on:{\"click\":_vm.onSaveClick}},[_c('path',{attrs:{\"d\":\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"}}),_c('path',{attrs:{\"d\":\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z\"}})])])])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page fake-stories-page\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Фейковые истории\r\n        </div>\r\n        <template v-if=\"pageIsReady\">\r\n            <div class=\"fake-stories-page__status\">\r\n                <label class=\"my-0\">Статус:</label>\r\n                <b-dropdown :text=\"statusText\">\r\n                    <b-dropdown-item v-for=\"(status, i) of statusOptions\" :key=\"i\" @click=\"onStatusSelect\"\r\n                                     :data-value=\"status.value\">\r\n                        {{ status.name }}\r\n                    </b-dropdown-item>\r\n                </b-dropdown>\r\n            </div>\r\n            <div class=\"form-group fake-stories-page__input-block\">\r\n                <label class=\"fake-stories-page__label\">Кол-во глав:</label>\r\n                <input type=\"number\" v-model.number=\"chaptersCount\"\r\n                       class=\"form-control fake-stories-page__chapters-value\"\r\n                       min=0 oninput=\"validity.valid||(value=0)\"\r\n                >\r\n                <div class=\"ml-2\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\"\r\n                         class=\"bi bi-check-square\" viewBox=\"0 0 16 16\" v-b-tooltip.hover title=\"Сохранить\"\r\n                         @click=\"onSaveClick\" style=\"cursor: pointer;\"\r\n                    >\r\n                        <path\r\n                            d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n                        <path\r\n                            d=\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z\"/>\r\n                    </svg>\r\n                </div>\r\n\r\n            </div>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/plugins/bus';\r\nimport {mapActions} from 'vuex';\r\n\r\nexport default {\r\n    data: () => ({\r\n        pageIsReady: false,\r\n        chaptersCount: 0,\r\n        statusText: '',\r\n        statusOption: 1,\r\n        statusOptions: [\r\n            {value: 1, name: 'Включено'},\r\n            {value: 0, name: 'Выключено'},\r\n        ]\r\n    }),\r\n    components: {\r\n        UiButton: () => import('../components/ui/UiButton'),\r\n        NavBack: () => import('../components/navigation/NavBack'),\r\n    },\r\n    computed: {\r\n        config() {\r\n            return this.$store.state.firebase.config.EconomyConfig;\r\n        }\r\n    },\r\n    async mounted() {\r\n        await this.getConfig();\r\n        this.statusOption = this.config.fake_stories_enabled ? 1 : 0;\r\n        this.chaptersCount = this.config.fake_stories_chapters_count || 0;\r\n        this.statusText = this.statusOptions.find(status => status.value === this.statusOption).name;\r\n        this.pageIsReady = true;\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'updateFakeStories']),\r\n        async onStatusSelect(event) {\r\n            this.statusOption = parseInt(event.target.dataset.value, 10);\r\n\r\n            const response = await this.updateFakeStories({fake_stories_enabled: this.statusOption === 1});\r\n\r\n            if (!response.error) {\r\n                this.statusText = this.statusOptions.find(status => status.value === this.statusOption).name;\r\n                bus.$emit('show-notification-message', 'Статус обновлен');\r\n            } else\r\n                bus.$emit('show-notification-message', `Ошибка: ${response.error.toString()}`);\r\n        },\r\n        async onSaveClick() {\r\n            const response = await this.updateFakeStories({fake_stories_chapters_count: this.chaptersCount});\r\n\r\n            if (!response.error)\r\n                bus.$emit('show-notification-message', 'Обновлено');\r\n            else\r\n                bus.$emit('show-notification-message', `Ошибка: ${response.error.toString()}`);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fake-stories-page {\r\n    &__status {\r\n        display: grid;\r\n        grid-template-columns: 100px 100px;\r\n        align-items: center;\r\n        margin-bottom: 8px;\r\n        text-align: left;\r\n    }\r\n\r\n    &__input-block {\r\n        display: flex;\r\n        align-items: baseline;\r\n\r\n        * {\r\n            flex: 1 1 100%;\r\n            text-align: left;\r\n        }\r\n    }\r\n\r\n    &__label {\r\n        max-width: 100px;\r\n    }\r\n\r\n    &__chapters-value {\r\n        max-width: 240px;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FakeStories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FakeStories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FakeStories.vue?vue&type=template&id=d6b41462&\"\nimport script from \"./FakeStories.vue?vue&type=script&lang=js&\"\nexport * from \"./FakeStories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FakeStories.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FakeStories.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}