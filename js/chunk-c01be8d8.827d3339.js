(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c01be8d8"],{5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),i=a("5899"),n="["+i+"]",s=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"78d2":function(t,e,a){"use strict";a("b7af")},a9e3:function(t,e,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),u=a("7156"),l=a("c04e"),d=a("d039"),p=a("7c73"),f=a("241c").f,v=a("06cf").f,h=a("9bf2").f,m=a("58a8").trim,g="Number",b=i[g],k=b.prototype,_=c(p(k))==g,w=function(t){var e,a,r,i,n,s,o,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(n=u.slice(2),s=n.length,o=0;o<s;o++)if(c=n.charCodeAt(o),c<48||c>i)return NaN;return parseInt(n,r)}return+u};if(n(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var N,C=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof C&&(_?d((function(){k.valueOf.call(a)})):c(a)!=g)?u(new b(w(e)),a,C):w(e)},I=r?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;I.length>x;x++)o(b,N=I[x])&&!o(C,N)&&h(C,N,v(b,N));C.prototype=k,k.constructor=C,s(i,g,C)}},b7af:function(t,e,a){},cf4a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"packs-list mb-4"},[a("div",{staticClass:"packs-list__title mb-2"},[t._v(t._s(t.name))]),t.packsList.length?a("table",{staticClass:"table table-striped packs-list__table"},[t._m(0),t._l(t.packsList,(function(e,r){return a("tr",{key:r},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.google_id,expression:"pack.google_id"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.google_id},on:{input:function(a){a.target.composing||t.$set(e,"google_id",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.apple_id,expression:"pack.apple_id"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.apple_id},on:{input:function(a){a.target.composing||t.$set(e,"apple_id",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.rewards[0].value,expression:"pack.rewards[0].value",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",oninput:"validity.valid||(value=0)"},domProps:{value:e.rewards[0].value},on:{input:function(a){a.target.composing||t.$set(e.rewards[0],"value",t._n(a.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("td",[a("input",{staticClass:"form-control",attrs:{type:"number",min:"0",oninput:"validity.valid||(value=0)"},domProps:{value:t.firstBonus[e.id]},on:{change:function(a){return t.onFirstBonusChange(e.id,a)}}})]),a("td",[a("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-check-square",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",title:"Сохранить"},on:{click:function(a){return t.onSavePackClick(e)}}},[a("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),a("path",{attrs:{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"}})]),a("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-trash ms-3 ml-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",title:"Удалить"},on:{click:function(a){return t.onDeletePackClick(e.id)}}},[a("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])])})),a("tbody")],2):t._e(),a("ui-button",{staticClass:"packs-list__add-button",on:{clicked:t.onAddPackClick}},[t._v("Добавить товар")])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("ID Google")]),a("th",{attrs:{scope:"col"}},[t._v("ID Apple")]),a("th",{attrs:{scope:"col"}},[t._v("Кол-во")]),a("th",{attrs:{scope:"col"}},[t._v("Бонус покупки %")]),a("th",{attrs:{scope:"col"}},[t._v("Действия")])])])}],n=a("1da1"),s=a("5530"),o=(a("96cf"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("4de4"),a("25f0"),a("2f62")),c=a("a70a"),u={props:{id:Number,name:String,packs:Array},data:function(){return{packsList:[],firstBonus:{}}},components:{UiButton:function(){return a.e("chunk-7a628425").then(a.bind(null,"832a"))}},created:function(){var t=this;this.packsList=this.packs||[],this.packsList.forEach((function(e){return t.firstBonus[e.id]=Math.max(e.first_bonus,0)}))},computed:Object(s["a"])(Object(s["a"])({},Object(o["c"])("firebase",["getNewProductID"])),{},{nextOrder:function(){var t=0;return this.packsList.forEach((function(e){return e.order>t&&(t=e.order+1)})),t}}),methods:Object(s["a"])(Object(s["a"])({},Object(o["b"])("firebase",["saveProduct","deleteProduct"])),{},{onAddPackClick:function(){this.packsList.push({id:this.getNewProductID,google_id:"",apple_id:"",rewards:[{id:this.id,value:0}],order:this.nextOrder})},onSavePackClick:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={id:t.id,google_id:t.google_id,apple_id:t.apple_id,first_bonus:e.firstBonus[t.id],rewards:[{id:e.id,value:t.rewards[0].value}]},a.next=3,e.saveProduct(r);case 3:i=a.sent,i.error?c["a"].$emit("show-notification-message","Ошибка: ".concat(i.error.toString())):(c["a"].$emit("show-notification-message","Обновлено"),t.id||(e.packsList.push(i),e.packsList=e.packsList.filter((function(t){return 0!==t.id}))));case 5:case"end":return a.stop()}}),a)})))()},onDeletePackClick:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(confirm("Подтвердите удаление")){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,e.deleteProduct(t);case 4:r=a.sent,r.error?c["a"].$emit("show-notification-message","Ошибка: ".concat(r.error.toString())):(c["a"].$emit("show-notification-message","Удалено"),e.packsList=e.packsList.filter((function(e){return e.id!==t})));case 6:case"end":return a.stop()}}),a)})))()},onFirstBonusChange:function(t,e){var a=parseInt(e.target.value,10);isNaN(a)&&(a=0),this.firstBonus[t]=a}})},l=u,d=(a("78d2"),a("2877")),p=Object(d["a"])(l,r,i,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-c01be8d8.827d3339.js.map