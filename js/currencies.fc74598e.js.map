{"version":3,"sources":["webpack:///./src/lib/Popup.js","webpack:///./src/views/Firebase/Currencies.vue?0f9e","webpack:///./src/components/modals/AddCurrencyModal.vue?5b56","webpack:///src/components/modals/AddCurrencyModal.vue","webpack:///./src/components/modals/AddCurrencyModal.vue?c14c","webpack:///./src/components/modals/AddCurrencyModal.vue","webpack:///./src/modals/addCurrencyModal.js","webpack:///./src/components/modals/EditCurrencyModal.vue?c78a","webpack:///src/components/modals/EditCurrencyModal.vue","webpack:///./src/components/modals/EditCurrencyModal.vue?2c8c","webpack:///./src/components/modals/EditCurrencyModal.vue","webpack:///./src/modals/editCurrencyModal.js","webpack:///src/views/Firebase/Currencies.vue","webpack:///./src/views/Firebase/Currencies.vue?fbed","webpack:///./src/views/Firebase/Currencies.vue"],"names":["Popup","component","props","params","events","this","Object","assign","modalName","name","VueJSModal","rootInstance","$modal","show","$emit","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","on","onAddClick","_m","_l","currency","i","key","_s","id","greed","start_value","directives","rawName","modifiers","$event","onEditClick","staticRenderFns","staticStyle","resetAlert","type","indexOf","keyCode","apply","arguments","close","value","expression","ref","domProps","target","composing","_n","$forceUpdate","alert","_e","openAddCurrencyModal","popup","AddCurrencyModal","transition","width","height","classes","onSaveClick","openEditCurrencyModal","EditCurrencyModal"],"mappings":"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","file":"js/currencies.fc74598e.js","sourcesContent":["import VueJSModal from \"vue-js-modal\";\r\n\r\nexport default class Popup {\r\n    constructor({component, props = {}, params = {}, events = {}}) {\r\n        this.component = component;\r\n        this.props = props;\r\n        this.params = params;\r\n        this.events = {\r\n            'opened': () => {\r\n                Object.assign(component, {modalName: params.name});\r\n            },\r\n            'closed': () => {\r\n            }\r\n        };\r\n        \r\n        Object.assign(this.events, events);\r\n    }\r\n    \r\n    show() {\r\n        VueJSModal.rootInstance.$modal.show(this.component, this.props, this.params, this.events);\r\n    }\r\n    \r\n    hide() {\r\n        VueJSModal.rootInstance.$emit('close');\r\n    }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Список валют \"),_c('ui-button',{staticClass:\"page__add-button\",attrs:{\"color\":\"blue\"},on:{\"clicked\":_vm.onAddClick}},[_vm._v(\" Добавить \")])],1),_c('table',{staticClass:\"users-list table table-striped\"},[_vm._m(0),_c('tbody',_vm._l((_vm.currencies),function(currency,i){return _c('tr',{key:i},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(currency.id))]),_c('td',[_vm._v(_vm._s(currency.name))]),_c('td',[(currency.id > 0)?_c('span',[_vm._v(_vm._s(currency.greed))]):_c('span',[_vm._v(\"-\")])]),_c('td',[(currency.id > 0)?_c('span',[_vm._v(_vm._s(currency.start_value))]):_c('span',[_vm._v(\"-\")])]),_c('td',[(currency.id > 0)?_c('svg',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bi bi-pencil page__active-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"title\":\"Редактировать\"},on:{\"click\":function($event){return _vm.onEditClick(currency)}}},[_c('path',{attrs:{\"d\":\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"}})]):_c('span',[_vm._v(\"-\")])])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"ID\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Название\")]),_c('th',{staticStyle:{\"max-width\":\"50px\"},attrs:{\"scope\":\"col\"}},[_vm._v(\"Повышенная жадность\")]),_c('th',{staticStyle:{\"max-width\":\"50px\"},attrs:{\"scope\":\"col\"}},[_vm._v(\"Стартовый баланс\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Действия\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onAddClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Добавление валюты \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"input\",staticClass:\"form-control mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('label',{staticClass:\"modal-popup__label\"},[_vm._v(\"Повышенная жадность\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.greed),expression:\"greed\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"placeholder\":\"Повышенная жадность\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.greed)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.greed=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{staticClass:\"modal-popup__label\"},[_vm._v(\"Стартовый баланс\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.value),expression:\"value\",modifiers:{\"number\":true}}],staticClass:\"form-control mb-2\",attrs:{\"type\":\"number\",\"placeholder\":\"Стартовый баланс\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('ui-button',{staticClass:\"mt-3 mb-2\",on:{\"clicked\":_vm.onAddClick}},[_vm._v(\"Добавить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @click=\"resetAlert\" @keyup.13=\"onAddClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Добавление валюты\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <input type=\"text\" class=\"form-control mb-2\" placeholder=\"Название\" v-model=\"name\" ref=\"input\">\r\n        <label class=\"modal-popup__label\">Повышенная жадность</label>\r\n        <input type=\"number\" class=\"form-control\" v-model.number=\"greed\" placeholder=\"Повышенная жадность\"\r\n               min=0 oninput=\"validity.valid||(value=0)\">\r\n        <label class=\"modal-popup__label\">Стартовый баланс</label>\r\n        <input type=\"number\" class=\"form-control mb-2\" placeholder=\"Стартовый баланс\" v-model.number=\"value\"\r\n               min=0 oninput=\"validity.valid||(value=0)\"\r\n        >\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onAddClick\">Добавить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex';\r\n\r\nexport default {\r\n    data: () => ({\r\n        name: '',\r\n        value: 0,\r\n        greed: 1,\r\n        alert: '',\r\n        canReset: false\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    computed: {\r\n        ...mapGetters('firebase', ['getNewEntityID'])\r\n    },\r\n    mounted() {\r\n        this.$refs.input.focus();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['saveCurrency']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onAddClick() {\r\n            if (this.name === '') {\r\n                this.setAlert('Необходимо ввести название');\r\n                return;\r\n            }\r\n\r\n            const response = await this.saveCurrency({\r\n                id: this.getNewEntityID('Currencies'),\r\n                name: this.name,\r\n                greed: this.greed,\r\n                start_value: this.value\r\n            });\r\n\r\n            if (response.error)\r\n                this.setAlert(`Ошибка: ${response.error.toString()}`);\r\n            else\r\n                this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('add-currency-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCurrencyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCurrencyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCurrencyModal.vue?vue&type=template&id=28740c43&\"\nimport script from \"./AddCurrencyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCurrencyModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport AddCurrencyModal from '@/components/modals/AddCurrencyModal';\r\n\r\nexport const openAddCurrencyModal = () => {\r\n    const popup = new Popup({\r\n        component: AddCurrencyModal,\r\n        props: {},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'add-currency-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openAddCurrencyModal};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onSaveClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Редактирование валюты \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],ref:\"input\",staticClass:\"form-control mb-2\",attrs:{\"type\":\"text\",\"placeholder\":\"Название\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_c('label',{staticClass:\"modal-popup__label\"},[_vm._v(\"Повышенная жадность\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.greed),expression:\"greed\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"placeholder\":\"Повышенная жадность\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.greed)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.greed=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{staticClass:\"modal-popup__label\"},[_vm._v(\"Стартовый баланс\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.value),expression:\"value\",modifiers:{\"number\":true}}],staticClass:\"form-control mb-2\",attrs:{\"type\":\"number\",\"placeholder\":\"Стартовый баланс\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('ui-button',{staticClass:\"mt-3 mb-2\",on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")]),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @keyup.13=\"onSaveClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Редактирование валюты\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <input type=\"text\" class=\"form-control mb-2\" placeholder=\"Название\" v-model=\"name\" ref=\"input\">\r\n        <label class=\"modal-popup__label\">Повышенная жадность</label>\r\n        <input type=\"number\" class=\"form-control\" v-model.number=\"greed\" placeholder=\"Повышенная жадность\"\r\n               min=0 oninput=\"validity.valid||(value=0)\">\r\n        <label class=\"modal-popup__label\">Стартовый баланс</label>\r\n        <input type=\"number\" class=\"form-control mb-2\" placeholder=\"Стартовый баланс\" v-model.number=\"value\"\r\n               min=0 oninput=\"validity.valid||(value=0)\"\r\n        >\r\n        <ui-button class=\"mt-3 mb-2\" @clicked=\"onSaveClick\">Сохранить</ui-button>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    props: ['currency'],\r\n    data: () => ({\r\n        name: '',\r\n        value: 0,\r\n        greed: 0,\r\n        alert: ''\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    mounted() {\r\n        this.name = this.currency.name;\r\n        this.greed = this.currency.greed;\r\n        this.value = this.currency.start_value;\r\n        this.$refs.input.focus();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['saveCurrency']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onSaveClick() {\r\n            if (this.name === '') {\r\n                this.setAlert('Необходимо ввести название');\r\n                return;\r\n            }\r\n\r\n            const data = {\r\n                id: this.currency.id,\r\n                name: this.name,\r\n                greed: parseInt(this.greed, 10),\r\n                start_value: parseInt(this.value, 10)\r\n            };\r\n\r\n            const res = await this.saveCurrency(data);\r\n\r\n            if (res.error)\r\n                bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n            else\r\n                this.close();\r\n        },\r\n        close() {\r\n            this.$modal.hide('edit-currency-modal');\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCurrencyModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCurrencyModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCurrencyModal.vue?vue&type=template&id=bbd73698&\"\nimport script from \"./EditCurrencyModal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCurrencyModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport EditCurrencyModal from '@/components/modals/EditCurrencyModal';\r\n\r\nexport const openEditCurrencyModal = currency => {\r\n    const popup = new Popup({\r\n        component: EditCurrencyModal,\r\n        props: {currency},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'edit-currency-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openEditCurrencyModal};\r\n","<template>\r\n    <div class=\"page\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Список валют\r\n            <ui-button color=\"blue\" class=\"page__add-button\" @clicked=\"onAddClick\">\r\n                Добавить\r\n            </ui-button>\r\n        </div>\r\n        <table class=\"users-list table table-striped\">\r\n            <thead>\r\n            <tr>\r\n                <th scope=\"col\">ID</th>\r\n                <th scope=\"col\">Название</th>\r\n                <th scope=\"col\" style=\"max-width: 50px;\">Повышенная жадность</th>\r\n                <th scope=\"col\" style=\"max-width: 50px;\">Стартовый баланс</th>\r\n                <th scope=\"col\">Действия</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(currency, i) of currencies\" :key=\"i\">\r\n                <th scope=\"row\">{{ currency.id }}</th>\r\n                <td>{{ currency.name }}</td>\r\n                <td>\r\n                    <span v-if=\"currency.id > 0\">{{ currency.greed }}</span>\r\n                    <span v-else>-</span>\r\n                </td>\r\n                <td>\r\n                    <span v-if=\"currency.id > 0\">{{ currency.start_value }}</span>\r\n                    <span v-else>-</span>\r\n                </td>\r\n                <td>\r\n                    <svg v-if=\"currency.id > 0\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\r\n                         fill=\"currentColor\"\r\n                         class=\"bi bi-pencil page__active-icon\" viewBox=\"0 0 16 16\"\r\n                         @click=\"onEditClick(currency)\" v-b-tooltip.hover title=\"Редактировать\"\r\n                    >\r\n                        <path\r\n                            d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\r\n                    </svg>\r\n                    <span v-else>-</span>\r\n                </td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\nimport {openAddCurrencyModal} from '@/modals/addCurrencyModal';\r\nimport {openEditCurrencyModal} from '@/modals/editCurrencyModal';\r\n\r\nexport default {\r\n    components: {\r\n        UiButton: () => import('../../components/ui/UiButton'),\r\n        NavBack: () => import('../../components/navigation/NavBack'),\r\n    },\r\n    computed: {\r\n        currencies() {\r\n            return this.$store.state.firebase.config.Currencies;\r\n        }\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig']),\r\n        onEditClick(currency) {\r\n            openEditCurrencyModal(currency);\r\n        },\r\n        onAddClick() {\r\n            openAddCurrencyModal();\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Currencies.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Currencies.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Currencies.vue?vue&type=template&id=0f557e9c&\"\nimport script from \"./Currencies.vue?vue&type=script&lang=js&\"\nexport * from \"./Currencies.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}