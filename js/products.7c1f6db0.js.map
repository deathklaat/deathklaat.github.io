{"version":3,"sources":["webpack:///./src/components/modals/AddMultiPackModal.vue?828a","webpack:///src/components/modals/AddMultiPackModal.vue","webpack:///./src/components/modals/AddMultiPackModal.vue?ef0d","webpack:///./src/components/modals/AddMultiPackModal.vue","webpack:///./src/modals/addMultiPackModal.js","webpack:///./src/components/modals/AddMultiPackModal.vue?5041","webpack:///./src/views/Firebase/Products.vue?d201","webpack:///./src/components/modals/ProductsSortingModal.vue?426f","webpack:///src/components/modals/ProductsSortingModal.vue","webpack:///./src/components/modals/ProductsSortingModal.vue?47cd","webpack:///./src/components/modals/ProductsSortingModal.vue","webpack:///./src/modals/productsSortingModal.js","webpack:///src/views/Firebase/Products.vue","webpack:///./src/views/Firebase/Products.vue?64c0","webpack:///./src/views/Firebase/Products.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/lib/Popup.js","webpack:///./src/views/Firebase/RecommendedStories.vue?52d6","webpack:///src/views/Firebase/RecommendedStories.vue","webpack:///./src/views/Firebase/RecommendedStories.vue?9e53","webpack:///./src/views/Firebase/RecommendedStories.vue","webpack:///./src/views/Firebase/Products.vue?ad29","webpack:///./src/components/modals/ProductsSortingModal.vue?0e5c","webpack:///./src/views/Firebase/RecommendedStories.vue?d5d3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","close","staticStyle","directives","name","rawName","value","expression","domProps","$event","target","composing","googleID","appleID","modifiers","firstBonus","_n","$forceUpdate","_l","_","i","currenciesOptions","model","selectedCurrencies","callback","$$v","$set","rewards","onDeleteRewardClick","onAddRewardClick","onSaveClick","alert","_s","_e","staticRenderFns","id","component","openMultiPackModal","popup","Popup","AddMultiPackModal","props","params","transition","width","height","classes","show","onSortingButtonClick","multiPacksList","Object","keys","singlePacksList","currencyId","_b","key","getCurrencyData","parseInt","length","onAddSinglePackClick","resetAlert","type","indexOf","keyCode","apply","arguments","productsOptions","productsList","class","alertClass","openProductsSortingModal","ProductsSortingModal","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","events","assign","modalName","VueJSModal","rootInstance","$modal","$emit","onStoryMoved","dragging","onOrderChanged","storiesList","dragOptions","story","order_recommended","title"],"mappings":"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","file":"js/products.7c1f6db0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\"},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Добавление пака \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('div',{staticClass:\"input-group\"},[_c('label',{staticClass:\"modal-popup__label text-left\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Google ID\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.googleID),expression:\"googleID\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.googleID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.googleID=$event.target.value}}})]),_c('div',{staticClass:\"input-group mb-3\"},[_c('label',{staticClass:\"modal-popup__label text-left\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Apple ID\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.appleID),expression:\"appleID\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.appleID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.appleID=$event.target.value}}})]),_c('div',{staticClass:\"input-group mb-3\"},[_c('label',{staticClass:\"modal-popup__label text-left\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Бонус первой покупки %\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.firstBonus),expression:\"firstBonus\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.firstBonus)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.firstBonus=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._l((_vm.rewards),function(_,i){return _c('div',{staticClass:\"input-group mb-3 align-items-center\"},[_c('b-form-select',{staticClass:\"form-control\",attrs:{\"options\":_vm.currenciesOptions},model:{value:(_vm.selectedCurrencies[i]),callback:function ($$v) {_vm.$set(_vm.selectedCurrencies, i, $$v)},expression:\"selectedCurrencies[i]\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.rewards[i].value),expression:\"rewards[i].value\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.rewards[i].value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.rewards[i], \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('svg',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bi bi-trash ms-3 ml-2\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"title\":\"Удалить\"},on:{\"click\":function($event){return _vm.onDeleteRewardClick(i)}}},[_c('path',{attrs:{\"d\":\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"}}),_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"}})])],1)}),_c('div',{staticClass:\"d-flex justify-content-center\",staticStyle:{\"width\":\"100%\"}},[_c('ui-button',{staticClass:\"mt-3 mb-2 d-flex\",staticStyle:{\"width\":\"200px\"},on:{\"clicked\":_vm.onAddRewardClick}},[_vm._v(\" Добавить валюту \")])],1),_c('div',{staticClass:\"d-flex justify-content-center\",staticStyle:{\"width\":\"100%\"}},[_c('ui-button',{staticClass:\"mt-3 mb-2\",staticStyle:{\"width\":\"200px\"},on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")])],1),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Добавление пака\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <label class=\"modal-popup__label text-left\" style=\"width: 100%;\">Google ID</label>\r\n            <input type=\"text\" v-model=\"googleID\" class=\"form-control\"/>\r\n        </div>\r\n        <div class=\"input-group mb-3\">\r\n            <label class=\"modal-popup__label text-left\" style=\"width: 100%;\">Apple ID</label>\r\n            <input type=\"text\" v-model=\"appleID\" class=\"form-control\"/>\r\n        </div>\r\n        <div class=\"input-group mb-3\">\r\n            <label class=\"modal-popup__label text-left\" style=\"width: 100%;\">Бонус первой покупки %</label>\r\n            <input type=\"number\" v-model.number=\"firstBonus\" class=\"form-control\"\r\n                   min=0 oninput=\"validity.valid||(value=0)\"/>\r\n        </div>\r\n        <div class=\"input-group mb-3 align-items-center\" v-for=\"(_, i) of rewards\">\r\n            <b-form-select class=\"form-control\" v-model=\"selectedCurrencies[i]\"\r\n                           :options=\"currenciesOptions\"/>\r\n            <input type=\"number\" class=\"form-control\" v-model.number=\"rewards[i].value\"\r\n                   min=1 oninput=\"validity.valid||(value=0)\"\r\n            />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\"\r\n                 class=\"bi bi-trash ms-3 ml-2\" viewBox=\"0 0 16 16\" v-b-tooltip.hover title=\"Удалить\"\r\n                 style=\"cursor: pointer;\"\r\n                 @click=\"onDeleteRewardClick(i)\"\r\n            >\r\n                <path\r\n                    d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n                <path fill-rule=\"evenodd\"\r\n                      d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n            </svg>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\"width: 100%;\">\r\n            <ui-button class=\"mt-3 mb-2 d-flex\" style=\"width: 200px;\" @clicked=\"onAddRewardClick\">\r\n                Добавить валюту\r\n            </ui-button>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\"width: 100%;\">\r\n            <ui-button class=\"mt-3 mb-2\" style=\"width: 200px;\" @clicked=\"onSaveClick\">Сохранить</ui-button>\r\n        </div>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    data: () => ({\r\n        alert: '',\r\n        canReset: false,\r\n        currenciesOptions: [],\r\n        selectedCurrencies: [],\r\n        rewards: [],\r\n        googleID: '',\r\n        appleID: '',\r\n        firstBonus: 0\r\n    }),\r\n    computed: {\r\n        ...mapGetters('firebase', ['getNewProductID']),\r\n        currencies() {\r\n            return this.$store.state.firebase.config.Currencies;\r\n        }\r\n    },\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    async mounted() {\r\n        await this.getConfig();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'saveProduct']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(_ => this.canReset = true, 250);\r\n        },\r\n        fillSelects() {\r\n            this.currenciesOptions = this.currencies\r\n                .filter(currency => currency.id > 0)\r\n                .map(currency => {\r\n                    return {value: currency.id, text: currency.name};\r\n                });\r\n        },\r\n        async onSaveClick() {\r\n            if (!this.googleID.length) {\r\n                this.setAlert('Необходимо указать Google ID товара');\r\n                return;\r\n            }\r\n\r\n            if (!this.appleID.length) {\r\n                this.setAlert('Необходимо указать Apple ID товара');\r\n                return;\r\n            }\r\n\r\n            if (!this.rewards.length) {\r\n                this.setAlert('Необходимо задать хотя бы 1 валюту');\r\n                return;\r\n            }\r\n\r\n            const currenciesEntries = {};\r\n            const rewards = [];\r\n\r\n            for (let i = 0; i < this.rewards.length; i++) {\r\n                if (!this.rewards[i].value) {\r\n                    this.setAlert('Не должно быть нулевых значений валют');\r\n                    return;\r\n                }\r\n\r\n                if (currenciesEntries[this.selectedCurrencies[i]]) {\r\n                    const currencyConfig = this.currencies.find(c => c.id === this.selectedCurrencies[i]);\r\n                    this.setAlert(`Найдены дубликаты наград: ${currencyConfig.name}`);\r\n                    return;\r\n                } else\r\n                    currenciesEntries[this.selectedCurrencies[i]] = 1;\r\n\r\n                rewards.push({\r\n                    id: this.selectedCurrencies[i],\r\n                    value: this.rewards[i].value\r\n                });\r\n            }\r\n\r\n            const response = await this.saveProduct({\r\n                id: this.getNewProductID,\r\n                google_id: this.googleID,\r\n                apple_id: this.appleID,\r\n                first_bonus: this.firstBonus,\r\n                rewards\r\n            });\r\n\r\n            if (response.error)\r\n                this.setAlert('Ошибка добавления');\r\n            else {\r\n                if (response.rewards.length > 1)\r\n                    bus.$emit('products-list-updated', response);\r\n                this.close();\r\n            }\r\n        },\r\n        onAddRewardClick() {\r\n            this.rewards.push({id: 1, value: 1});\r\n            this.selectedCurrencies.push(1);\r\n            this.fillSelects();\r\n        },\r\n        close() {\r\n            this.$modal.hide('add-multi-pack-modal');\r\n        },\r\n        onDeleteRewardClick(index) {\r\n            this.rewards.splice(index, 1);\r\n            this.selectedCurrencies.splice(index, 1);\r\n            this.fillSelects();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.v--modal-overlay[data-modal=\"add-multi-pack-modal\"] {\r\n    position: absolute;\r\n    height: auto;\r\n\r\n    .modal-popup__overlay {\r\n        min-height: 100vh !important;\r\n        padding-bottom: 30vh;\r\n        height: auto !important;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMultiPackModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMultiPackModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddMultiPackModal.vue?vue&type=template&id=fd96c30a&\"\nimport script from \"./AddMultiPackModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddMultiPackModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddMultiPackModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport AddMultiPackModal from '@/components/modals/AddMultiPackModal';\r\n\r\nexport const openMultiPackModal = () => {\r\n    const popup = new Popup({\r\n        component: AddMultiPackModal,\r\n        props: {},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'add-multi-pack-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openMultiPackModal};\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMultiPackModal.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.pageIsReady)?_c('div',{staticClass:\"page products-page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Список товаров \"),_c('ui-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"},on:{\"clicked\":_vm.onSortingButtonClick}},[_vm._v(\"Сортировка\")])],1),_c('h1',[_vm._v(\"Мульти-паки\")]),(_vm.pageIsReady)?_c('multi-packs-list',{attrs:{\"packs\":_vm.multiPacksList}}):_vm._e(),_c('h1',[_vm._v(\"Одиночные паки\")]),_vm._l((Object.keys(_vm.singlePacksList)),function(currencyId){return (_vm.pageIsReady)?_c('packs-list',_vm._b({key:currencyId,attrs:{\"packs\":_vm.singlePacksList[currencyId]}},'packs-list',_vm.getCurrencyData(parseInt(currencyId, 10)),false)):_vm._e()}),(!Object.keys(_vm.singlePacksList).length)?[_c('ui-button',{staticClass:\"products-page__add-single-pack-button\",on:{\"clicked\":_vm.onAddSinglePackClick}},[_vm._v(\" Добавить товар \")])]:_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onSaveClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Порядок вывода товаров \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),(_vm.popupIsReady)?_c('div',{staticClass:\"products-sorting-modal__selects-group\"},_vm._l((_vm.productsList),function(_,i){return _c('b-form-select',{key:i,staticClass:\"form-control\",attrs:{\"options\":_vm.productsOptions},model:{value:(_vm.productsList[i]),callback:function ($$v) {_vm.$set(_vm.productsList, i, $$v)},expression:\"productsList[i]\"}})}),1):_vm._e(),_c('ui-button',{staticClass:\"mb-2\",on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")]),(_vm.alert.length)?_c('div',{class:['alert', _vm.alertClass],attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @click=\"resetAlert\" @keyup.13=\"onSaveClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Порядок вывода товаров\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <div v-if=\"popupIsReady\" class=\"products-sorting-modal__selects-group\">\r\n            <b-form-select class=\"form-control\" v-for=\"(_, i) of productsList\" :key=\"i\"\r\n                           v-model=\"productsList[i]\" :options=\"productsOptions\"/>\r\n        </div>\r\n        <ui-button @clicked=\"onSaveClick\" class=\"mb-2\">Сохранить</ui-button>\r\n        <div v-if=\"alert.length\" :class=\"['alert', alertClass]\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\n\r\nexport default {\r\n    data: () => ({\r\n        alert: '',\r\n        alertClass: '',\r\n        canReset: false,\r\n\r\n        productsOptions: [],\r\n        productsList: [],\r\n        popupIsReady: false\r\n    }),\r\n    components: {\r\n        UiButton: () => import('../ui/UiButton')\r\n    },\r\n    computed: {\r\n        products() {\r\n            return this.$store.state.firebase.config.Products.products;\r\n        }\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n        this.fillSelects();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'updateProductsOrder']),\r\n        close() {\r\n            this.$modal.hide('products-sorting-modal');\r\n        },\r\n        fillSelects() {\r\n            this.productsOptions = Object.values(this.products).map(product => {\r\n                return {\r\n                    text: product.google_id,\r\n                    value: product.id\r\n                };\r\n            });\r\n            for (let i = 0; i < this.productsOptions.length; i++)\r\n                this.productsList[i] = this.productsOptions[i].value;\r\n            this.popupIsReady = true;\r\n        },\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message, isError = true) {\r\n            this.alert = message;\r\n            this.alertClass = isError ? 'alert-danger' : 'alert-success';\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onSaveClick() {\r\n            const idsEntries = {};\r\n            for (let i = 0; i < this.productsList.length; i++) {\r\n                if (idsEntries[this.productsList[i]]) {\r\n                    const productConfig = this.products.find(product => product.id === this.productsList[i]);\r\n                    this.setAlert(`Найден дубликат товара: ${productConfig.google_id}`);\r\n                    return;\r\n                } else\r\n                    idsEntries[this.productsList[i]] = 1;\r\n            }\r\n            const response = await this.updateProductsOrder(this.productsList);\r\n\r\n            if (response.error)\r\n                this.setAlert('Ошибка обновления');\r\n            else\r\n                this.setAlert('Успешно сохранено', false);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.products-sorting-modal {\r\n    &__selects-group {\r\n        flex-direction: column;\r\n        align-items: center;\r\n\r\n        .custom-select {\r\n            margin-bottom: 8px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsSortingModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsSortingModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductsSortingModal.vue?vue&type=template&id=fe939262&\"\nimport script from \"./ProductsSortingModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductsSortingModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductsSortingModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport ProductsSortingModal from '@/components/modals/ProductsSortingModal';\r\n\r\nexport const openProductsSortingModal = _ => {\r\n    const popup = new Popup({\r\n        component: ProductsSortingModal,\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'products-sorting-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openProductsSortingModal};\r\n","<template>\r\n    <div class=\"page products-page\" v-if=\"pageIsReady\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Список товаров\r\n            <ui-button style=\"position: absolute;right: 0;\" @clicked=\"onSortingButtonClick\">Сортировка</ui-button>\r\n        </div>\r\n        <h1>Мульти-паки</h1>\r\n        <multi-packs-list v-if=\"pageIsReady\" v-bind:packs=\"multiPacksList\"/>\r\n        <h1>Одиночные паки</h1>\r\n        <packs-list v-if=\"pageIsReady\" v-for=\"currencyId in Object.keys(singlePacksList)\" :key=\"currencyId\"\r\n                    v-bind=\"getCurrencyData(parseInt(currencyId, 10))\"\r\n                    v-bind:packs=\"singlePacksList[currencyId]\"/>\r\n        <template v-if=\"!Object.keys(singlePacksList).length\">\r\n            <ui-button class=\"products-page__add-single-pack-button\" @clicked=\"onAddSinglePackClick\">\r\n                Добавить товар\r\n            </ui-button>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex';\r\nimport {openProductsSortingModal} from '@/modals/productsSortingModal';\r\nimport {openMultiPackModal} from '@/modals/addMultiPackModal';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    data: () => ({\r\n        pageIsReady: false\r\n    }),\r\n    components: {\r\n        NavBack: () => import('../../components/navigation/NavBack'),\r\n        UiButton: () => import('../../components/ui/UiButton'),\r\n        PacksList: () => import('../../components/products/PacksList'),\r\n        MultiPacksList: () => import('../../components/products/MultiPacksList'),\r\n    },\r\n    computed: {\r\n        ...mapGetters('firebase', ['getCurrencyById', 'getMultiProductsList', 'getSingleProductsList']),\r\n        currencies() {\r\n            return this.$store.state.firebase.config.Currencies.filter(currency => currency.id !== 0);\r\n        },\r\n        singlePacksList() {\r\n            return this.getSingleProductsList;\r\n        },\r\n        multiPacksList() {\r\n            return this.getMultiProductsList;\r\n        }\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n        bus.$off('products-list-updated').$on('products-list-updated', this.onProductsUpdated);\r\n        this.pageIsReady = true;\r\n    },\r\n    beforeDestroy() {\r\n        bus.$off('products-list-updated', this.onProductsUpdated);\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig']),\r\n        onSortingButtonClick() {\r\n            openProductsSortingModal();\r\n        },\r\n        onProductsUpdated() {\r\n            this.$forceUpdate();\r\n        },\r\n        onAddSinglePackClick() {\r\n            openMultiPackModal();\r\n        },\r\n        getCurrencyData(currencyId) {\r\n            return this.getCurrencyById(currencyId);\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.products-page {\r\n    svg {\r\n        cursor: pointer;\r\n    }\r\n\r\n    &__add-single-pack-button {\r\n        max-width: 200px;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=a3f02e3a&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import VueJSModal from \"vue-js-modal\";\r\n\r\nexport default class Popup {\r\n    constructor({component, props = {}, params = {}, events = {}}) {\r\n        this.component = component;\r\n        this.props = props;\r\n        this.params = params;\r\n        this.events = {\r\n            'opened': () => {\r\n                Object.assign(component, {modalName: params.name});\r\n            },\r\n            'closed': () => {\r\n            }\r\n        };\r\n        \r\n        Object.assign(this.events, events);\r\n    }\r\n    \r\n    show() {\r\n        VueJSModal.rootInstance.$modal.show(this.component, this.props, this.params, this.events);\r\n    }\r\n    \r\n    hide() {\r\n        VueJSModal.rootInstance.$emit('close');\r\n    }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page recommended-stories-page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Порядок рекомендованных историй \")],1),_c('div',{staticClass:\"recommended-stories-page__list\"},[_c('draggable',_vm._b({staticClass:\"list-group\",attrs:{\"tag\":\"ul\",\"move\":_vm.onStoryMoved},on:{\"start\":function($event){_vm.dragging = true},\"end\":function($event){_vm.dragging = false},\"change\":_vm.onOrderChanged},model:{value:(_vm.storiesList),callback:function ($$v) {_vm.storiesList=$$v},expression:\"storiesList\"}},'draggable',_vm.dragOptions,false),[_c('transition-group',{staticClass:\"d-flex flex-wrap\",attrs:{\"type\":\"transition\",\"name\":\"flip-list\"}},_vm._l((_vm.storiesList),function(story){return _c('li',{key:story.id,staticClass:\"list-group-item recommended-stories-page__story-item\"},[_vm._v(\" \"+_vm._s(story.order_recommended || 0)+\": \"+_vm._s(story.title)+\" (ID: \"+_vm._s(story.id)+\") \")])}),0)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page recommended-stories-page\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Порядок рекомендованных историй\r\n        </div>\r\n        <div class=\"recommended-stories-page__list\">\r\n            <draggable\r\n                class=\"list-group\"\r\n                tag=\"ul\"\r\n                v-model=\"storiesList\"\r\n                v-bind=\"dragOptions\"\r\n                @start=\"dragging = true\"\r\n                @end=\"dragging = false\"\r\n                @change=\"onOrderChanged\"\r\n                :move=\"onStoryMoved\"\r\n            >\r\n                <transition-group type=\"transition\" name=\"flip-list\" class=\"d-flex flex-wrap\">\r\n                    <li\r\n                        class=\"list-group-item recommended-stories-page__story-item\"\r\n                        v-for=\"story in storiesList\"\r\n                        :key=\"story.id\"\r\n                    >\r\n                        {{ story.order_recommended || 0 }}: {{ story.title }} (ID: {{ story.id }})\r\n                    </li>\r\n                </transition-group>\r\n            </draggable>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from \"vuedraggable\";\r\nimport {mapActions} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\nimport {sortByAttrDesc} from '@/utils';\r\n\r\nexport default {\r\n    data: () => ({\r\n        dragging: false,\r\n        storiesList: [],\r\n        dragLocked: false\r\n    }),\r\n    components: {\r\n        draggable,\r\n        NavBack: () => import('../../components/navigation/NavBack')\r\n    },\r\n    computed: {\r\n        stories() {\r\n            return this.$store.state.firebase.config.Stories.stories;\r\n        },\r\n        dragOptions() {\r\n            return {\r\n                animation: 0,\r\n                group: 'description',\r\n                disabled: false,\r\n                ghostClass: 'ghost'\r\n            };\r\n        },\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'updateStoriesRecommendedOrder']),\r\n        ...mapActions('stories', ['']),\r\n        onStoryMoved() {\r\n            return !this.dragLocked;\r\n        },\r\n        async onOrderChanged() {\r\n            this.dragLocked = true;\r\n            this.storiesList.forEach((story, index) => story.order_recommended = this.storiesList.length - index);\r\n            this.storiesList = sortByAttrDesc(this.storiesList, 'order_recommended');\r\n\r\n            const sortOrder = {};\r\n            this.storiesList.forEach(story => sortOrder[story.id] = story.order_recommended);\r\n\r\n            const response = await this.updateStoriesRecommendedOrder(sortOrder);\r\n            this.dragLocked = false;\r\n\r\n            if (!response.error)\r\n                bus.$emit('show-notification-message', 'Порядок обновлен');\r\n            else\r\n                bus.$emit('show-notification-message', `Ошибка: ${response.error.toString()}`);\r\n        }\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n        this.storiesList = this.stories.map(story => {\r\n            return {\r\n                id: story.id,\r\n                title: story.title,\r\n                order_recommended: story.order_recommended\r\n            };\r\n        });\r\n        this.storiesList = sortByAttrDesc(this.storiesList, 'order_recommended');\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.recommended-stories-page {\r\n    &__list {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .list-group {\r\n        span {\r\n            flex-direction: column;\r\n\r\n            li {\r\n                text-align: left;\r\n                margin: 4px 0;\r\n                border: 1px solid #867e7e;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendedStories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendedStories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecommendedStories.vue?vue&type=template&id=7df6fcde&\"\nimport script from \"./RecommendedStories.vue?vue&type=script&lang=js&\"\nexport * from \"./RecommendedStories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecommendedStories.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsSortingModal.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendedStories.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}