(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["categories"],{"8c89":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"page__title"},[a("nav-back"),t._v(" Список категорий "),a("ui-button",{staticClass:"page__add-button",attrs:{color:"blue"},on:{clicked:t.onAddClick}},[t._v(" Добавить ")])],1),a("table",{staticClass:"users-list table table-striped"},[t._m(0),a("tbody",t._l(t.categories,(function(e,n){return a("tr",{key:n},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),a("td",[a("svg",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"bi bi-pencil page__active-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",title:"Редактировать"},on:{click:function(a){return t.onEditClick(e)}}},[a("path",{attrs:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}})])])])})),0)])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("ID")]),a("th",{attrs:{scope:"col"}},[t._v("Название")]),a("th",{attrs:{scope:"col"}},[t._v("Действия")])])])}],s=a("5530"),i=(a("d3b7"),a("3ca3"),a("ddb0"),a("2f62")),r=a("bc87"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-popup",on:{click:t.resetAlert,keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.onAddClick.apply(null,arguments):null}}},[a("div",{staticClass:"mb-3 modal-popup__title"},[t._v(" Добавление категории "),a("svg",{staticClass:"bi bi-x-lg modal-popup__close",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#2D4C70",viewBox:"0 0 16 16"},on:{click:t.close}},[a("path",{attrs:{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"input",staticClass:"form-control mb-2",attrs:{type:"text",placeholder:"Название"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("ui-button",{staticClass:"mt-3 mb-2",on:{clicked:t.onAddClick}},[t._v("Добавить")]),t.alert.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.alert))]):t._e()],1)},l=[],u=a("1da1"),d=(a("96cf"),a("b0c0"),a("25f0"),{data:function(){return{name:"",alert:"",canReset:!1}},components:{UiButton:function(){return a.e("chunk-7a628425").then(a.bind(null,"832a"))}},computed:Object(s["a"])({},Object(i["c"])("firebase",["getNewEntityID"])),mounted:function(){this.$refs.input.focus()},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])("firebase",["saveCategory"])),{},{resetAlert:function(){this.canReset&&(this.alert="",this.canReset=!1)},setAlert:function(t){var e=this;this.alert=t,setTimeout((function(){e.canReset=!0}),250)},onAddClick:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.name){e.next=3;break}return t.setAlert("Необходимо ввести название"),e.abrupt("return");case 3:return e.next=5,t.saveCategory({id:t.getNewEntityID("Categories"),name:t.name});case 5:a=e.sent,a.error?t.setAlert("Ошибка: ".concat(a.error.toString())):t.close();case 7:case"end":return e.stop()}}),e)})))()},close:function(){this.$modal.hide("add-category-modal")}})}),p=d,m=a("2877"),h=Object(m["a"])(p,c,l,!1,null,null,null),v=h.exports,f=function(){var t=new r["a"]({component:v,props:{},params:{transition:"scale",name:"add-category-modal",width:"100%",height:"100%",classes:"modal-popup__overlay"}});t.show()},b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-popup",on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.onSaveClick.apply(null,arguments):null}}},[a("div",{staticClass:"mb-3 modal-popup__title"},[t._v(" Редактирование категории "),a("svg",{staticClass:"bi bi-x-lg modal-popup__close",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#2D4C70",viewBox:"0 0 16 16"},on:{click:t.close}},[a("path",{attrs:{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"input",staticClass:"form-control mb-2",attrs:{type:"text",placeholder:"Название"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("ui-button",{staticClass:"mt-3 mb-2",on:{clicked:t.onSaveClick}},[t._v("Сохранить")]),t.alert.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.alert))]):t._e()],1)},g=[],_=a("a70a"),w={props:["category"],data:function(){return{name:"",alert:""}},components:{UiButton:function(){return a.e("chunk-7a628425").then(a.bind(null,"832a"))}},mounted:function(){this.name=this.category.name,this.$refs.input.focus()},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])("firebase",["saveCategory"])),{},{resetAlert:function(){this.canReset&&(this.alert="",this.canReset=!1)},setAlert:function(t){var e=this;this.alert=t,setTimeout((function(){e.canReset=!0}),250)},onSaveClick:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.name){e.next=3;break}return t.setAlert("Необходимо ввести название"),e.abrupt("return");case 3:return e.next=5,t.saveCategory({id:t.category.id,name:t.name});case 5:a=e.sent,a.error?_["a"].$emit("show-notification-message","Ошибка: ".concat(a.error.toString())):t.close();case 7:case"end":return e.stop()}}),e)})))()},close:function(){this.$modal.hide("edit-category-modal")}})},C=w,k=Object(m["a"])(C,b,g,!1,null,null,null),y=k.exports,x=function(t){var e=new r["a"]({component:y,props:{category:t},params:{transition:"scale",name:"edit-category-modal",width:"100%",height:"100%",classes:"modal-popup__overlay"}});e.show()},O={components:{UiButton:function(){return a.e("chunk-7a628425").then(a.bind(null,"832a"))},NavBack:function(){return a.e("chunk-49c533a1").then(a.bind(null,"e019"))}},computed:{categories:function(){return this.$store.state.firebase.config.Categories}},created:function(){this.getConfig()},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])("firebase",["getConfig"])),{},{onEditClick:function(t){x(t)},onAddClick:function(){f()}})},j=O,A=Object(m["a"])(j,n,o,!1,null,null,null);e["default"]=A.exports},bc87:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("d4ec"),o=a("bee2"),s=(a("b0c0"),a("1881")),i=a.n(s),r=function(){function t(e){var a=e.component,o=e.props,s=void 0===o?{}:o,i=e.params,r=void 0===i?{}:i,c=e.events,l=void 0===c?{}:c;Object(n["a"])(this,t),this.component=a,this.props=s,this.params=r,this.events={opened:function(){Object.assign(a,{modalName:r.name})},closed:function(){}},Object.assign(this.events,l)}return Object(o["a"])(t,[{key:"show",value:function(){i.a.rootInstance.$modal.show(this.component,this.props,this.params,this.events)}},{key:"hide",value:function(){i.a.rootInstance.$emit("close")}}]),t}()}}]);
//# sourceMappingURL=categories.f0db3976.js.map