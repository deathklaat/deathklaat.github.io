{"version":3,"sources":["webpack:///./src/components/modals/AddMultiPackModal.vue?828a","webpack:///src/components/modals/AddMultiPackModal.vue","webpack:///./src/components/modals/AddMultiPackModal.vue?ef0d","webpack:///./src/components/modals/AddMultiPackModal.vue","webpack:///./src/modals/addMultiPackModal.js","webpack:///./src/views/Backend/Players.vue?bb90","webpack:///./src/components/modals/AddMultiPackModal.vue?5041","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/Firebase/Products.vue?d201","webpack:///./src/components/modals/ProductsSortingModal.vue?426f","webpack:///src/components/modals/ProductsSortingModal.vue","webpack:///./src/components/modals/ProductsSortingModal.vue?47cd","webpack:///./src/components/modals/ProductsSortingModal.vue","webpack:///./src/modals/productsSortingModal.js","webpack:///src/views/Firebase/Products.vue","webpack:///./src/views/Firebase/Products.vue?64c0","webpack:///./src/views/Firebase/Products.vue","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/lib/Popup.js","webpack:///./src/views/Backend/Players.vue?f783","webpack:///./src/components/modals/SetUserChapterModal.vue?0012","webpack:///src/components/modals/SetUserChapterModal.vue","webpack:///./src/components/modals/SetUserChapterModal.vue?a0aa","webpack:///./src/components/modals/SetUserChapterModal.vue","webpack:///./src/modals/setUserChapterModal.js","webpack:///src/views/Backend/Players.vue","webpack:///./src/views/Backend/Players.vue?ba4f","webpack:///./src/views/Backend/Players.vue","webpack:///./src/views/Firebase/RecommendedStories.vue?52d6","webpack:///src/views/Firebase/RecommendedStories.vue","webpack:///./src/views/Firebase/RecommendedStories.vue?9e53","webpack:///./src/views/Firebase/RecommendedStories.vue","webpack:///./src/views/Firebase/Products.vue?ad29","webpack:///./src/components/modals/ProductsSortingModal.vue?0e5c","webpack:///./src/views/Firebase/RecommendedStories.vue?d5d3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","close","staticStyle","directives","name","rawName","value","expression","domProps","$event","target","composing","googleID","appleID","modifiers","firstBonus","_n","$forceUpdate","_l","_","i","currenciesOptions","model","selectedCurrencies","callback","$$v","$set","rewards","onDeleteRewardClick","onAddRewardClick","onSaveClick","alert","_s","_e","staticRenderFns","id","component","openMultiPackModal","popup","Popup","AddMultiPackModal","props","params","transition","width","height","classes","show","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","onSortingButtonClick","multiPacksList","Object","keys","singlePacksList","currencyId","_b","key","getCurrencyData","parseInt","length","onAddSinglePackClick","resetAlert","type","indexOf","keyCode","apply","arguments","productsOptions","productsList","class","alertClass","openProductsSortingModal","ProductsSortingModal","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","slice","NumberWrapper","dummy","valueOf","call","split","j","constructor","events","assign","modalName","VueJSModal","rootInstance","$modal","$emit","findPlayer","playerData","onSetChapterClick","onResetPlayerClick","Array","isArray","is_tester","_i","$$a","$$el","$$c","checked","$$i","concat","onTesterFlagChanged","registrationDate","adult","setUserCurrency","money","getCurrencyName","recommendedStoryData","title","activeStoryData","last_chapter","activeStoryChapterNumber","_m","storyData","completedChapters","socialName","profile_type","getSocialLink","profile_id","socialOptions","selectedSocialOption","socialId","progressData","pageIsReady","storiesOptions","selectedStoryId","chapterOptions","selectedChapterId","nodeOptions","selectedProgressId","needToResetChapter","pendingRequest","openSetUserChapterModal","playerId","SetUserChapterModal","bus","res","error","onStoryMoved","dragging","onOrderChanged","storiesList","dragOptions","story","order_recommended"],"mappings":"8JAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,qBAAqBH,EAAG,MAAM,CAACE,YAAY,gCAAgCE,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,UAAU,QAAU,aAAaC,GAAG,CAAC,MAAQT,EAAIU,QAAQ,CAACN,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,8MAA8MJ,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACE,YAAY,+BAA+BK,YAAY,CAAC,MAAQ,SAAS,CAACX,EAAIO,GAAG,eAAeH,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAY,SAAEgB,WAAW,aAAaV,YAAY,eAAeE,MAAM,CAAC,KAAO,QAAQS,SAAS,CAAC,MAASjB,EAAY,UAAGS,GAAG,CAAC,MAAQ,SAASS,GAAWA,EAAOC,OAAOC,YAAqBpB,EAAIqB,SAASH,EAAOC,OAAOJ,aAAYX,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACE,YAAY,+BAA+BK,YAAY,CAAC,MAAQ,SAAS,CAACX,EAAIO,GAAG,cAAcH,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAW,QAAEgB,WAAW,YAAYV,YAAY,eAAeE,MAAM,CAAC,KAAO,QAAQS,SAAS,CAAC,MAASjB,EAAW,SAAGS,GAAG,CAAC,MAAQ,SAASS,GAAWA,EAAOC,OAAOC,YAAqBpB,EAAIsB,QAAQJ,EAAOC,OAAOJ,aAAYX,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACE,YAAY,+BAA+BK,YAAY,CAAC,MAAQ,SAAS,CAACX,EAAIO,GAAG,4BAA4BH,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBC,MAAOf,EAAc,WAAEgB,WAAW,aAAaO,UAAU,CAAC,QAAS,KAAQjB,YAAY,eAAeE,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,QAAU,6BAA6BS,SAAS,CAAC,MAASjB,EAAc,YAAGS,GAAG,CAAC,MAAQ,SAASS,GAAWA,EAAOC,OAAOC,YAAqBpB,EAAIwB,WAAWxB,EAAIyB,GAAGP,EAAOC,OAAOJ,SAAQ,KAAO,SAASG,GAAQ,OAAOlB,EAAI0B,qBAAqB1B,EAAI2B,GAAI3B,EAAW,SAAE,SAAS4B,EAAEC,GAAG,OAAOzB,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,gBAAgB,CAACE,YAAY,eAAeE,MAAM,CAAC,QAAUR,EAAI8B,mBAAmBC,MAAM,CAAChB,MAAOf,EAAIgC,mBAAmBH,GAAII,SAAS,SAAUC,GAAMlC,EAAImC,KAAKnC,EAAIgC,mBAAoBH,EAAGK,IAAMlB,WAAW,2BAA2BZ,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBC,MAAOf,EAAIoC,QAAQP,GAAQ,MAAEb,WAAW,mBAAmBO,UAAU,CAAC,QAAS,KAAQjB,YAAY,eAAeE,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,QAAU,6BAA6BS,SAAS,CAAC,MAASjB,EAAIoC,QAAQP,GAAQ,OAAGpB,GAAG,CAAC,MAAQ,SAASS,GAAWA,EAAOC,OAAOC,WAAqBpB,EAAImC,KAAKnC,EAAIoC,QAAQP,GAAI,QAAS7B,EAAIyB,GAAGP,EAAOC,OAAOJ,SAAS,KAAO,SAASG,GAAQ,OAAOlB,EAAI0B,mBAAmBtB,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,oBAAoBS,UAAU,CAAC,OAAQ,KAAQjB,YAAY,wBAAwBK,YAAY,CAAC,OAAS,WAAWH,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,eAAe,QAAU,YAAY,MAAQ,WAAWC,GAAG,CAAC,MAAQ,SAASS,GAAQ,OAAOlB,EAAIqC,oBAAoBR,MAAM,CAACzB,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,qKAAqKJ,EAAG,OAAO,CAACI,MAAM,CAAC,YAAY,UAAU,EAAI,mPAAmP,MAAKJ,EAAG,MAAM,CAACE,YAAY,gCAAgCK,YAAY,CAAC,MAAQ,SAAS,CAACP,EAAG,YAAY,CAACE,YAAY,mBAAmBK,YAAY,CAAC,MAAQ,SAASF,GAAG,CAAC,QAAUT,EAAIsC,mBAAmB,CAACtC,EAAIO,GAAG,wBAAwB,GAAGH,EAAG,MAAM,CAACE,YAAY,gCAAgCK,YAAY,CAAC,MAAQ,SAAS,CAACP,EAAG,YAAY,CAACE,YAAY,YAAYK,YAAY,CAAC,MAAQ,SAASF,GAAG,CAAC,QAAUT,EAAIuC,cAAc,CAACvC,EAAIO,GAAG,gBAAgB,GAAIP,EAAIwC,MAAY,OAAEpC,EAAG,MAAM,CAACE,YAAY,qBAAqBE,MAAM,CAAC,KAAO,UAAU,CAACR,EAAIO,GAAGP,EAAIyC,GAAGzC,EAAIwC,UAAUxC,EAAI0C,MAAM,IAC5uIC,EAAkB,G,wJC2DtB,GACE,KAAF,WAAI,MAAJ,CACM,MAAN,GACM,UAAN,EACM,kBAAN,GACM,mBAAN,GACM,QAAN,GACM,SAAN,GACM,QAAN,GACM,WAAN,IAEE,SAAF,iCACA,gDADA,IAEI,WAFJ,WAGM,OAAN,gDAGE,WAAF,CACI,SAAJ,WAAM,OAAN,kDAEE,QApBF,WAoBI,IAAJ,OAAI,OAAJ,sJACA,cADA,8CAGE,QAAF,iCACA,wDADA,IAEI,WAFJ,WAGA,gBACQ,KAAR,SACQ,KAAR,cAGI,SARJ,SAQA,GAAM,IAAN,OACM,KAAN,QACM,YAAN,YAAQ,OAAR,sBAEI,YAZJ,WAaM,KAAN,kCACA,oBAAQ,OAAR,UACA,iBACQ,MAAR,CAAU,MAAV,KAAU,KAAV,YAGI,YAnBJ,WAmBM,IAAN,OAAM,OAAN,qDAAQ,IAAR,YAAQ,OAAR,6EACA,kBADA,uBAEgB,EAAhB,gDAFA,6BAMA,iBANA,uBAOgB,EAAhB,+CAPA,6BAWA,iBAXA,uBAYgB,EAAhB,+CAZA,0BAgBA,KACA,KAjBA,WAmBA,GACA,uBAEoB,OADA,EAApB,kDACA,WAGA,+BACoB,IAApB,0EAEoB,OADA,EAApB,sDACA,WAEA,6BAEA,QACoBC,GAAI,EAAxB,sBACoB7B,MAAO,EAA3B,oBAfA,IAnBA,aAmBA,oBAnBA,wBAmBA,GAnBA,oFAmBA,IAnBA,yCAsCA,eACA,qBACA,qBACA,mBACA,yBACA,YA3CA,QAsCA,EAtCA,OA8CA,QACA,iCAEA,oBACA,wCACA,WAnDA,+CAsDI,iBAzEJ,WA0EM,KAAN,cAAQ,GAAR,EAAQ,MAAR,IACM,KAAN,2BACM,KAAN,eAEI,MA9EJ,WA+EM,KAAN,qCAEI,oBAjFJ,SAiFA,GACM,KAAN,oBACM,KAAN,+BACM,KAAN,kBCvK0W,I,wBCQtW8B,EAAY,eACd,EACA9C,EACA4C,GACA,EACA,KACA,KACA,MAIa,EAAAE,E,QChBFC,EAAqB,WAC9B,IAAMC,EAAQ,IAAIC,OAAM,CACpBH,UAAWI,EACXC,MAAO,GACPC,OAAQ,CACJC,WAAY,QACZvC,KAAM,uBACNwC,MAAO,OACPC,OAAQ,OACRC,QAAS,0BAIjBR,EAAMS,S,oCChBV,W,6DCAA,W,mBCCAC,EAAOC,QAAU,iD,uBCDjB,IAAIC,EAAyB,EAAQ,QACjCC,EAAc,EAAQ,QAEtBC,EAAa,IAAMD,EAAc,IACjCE,EAAQC,OAAO,IAAMF,EAAaA,EAAa,KAC/CG,EAAQD,OAAOF,EAAaA,EAAa,MAGzCI,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAAIC,EAASC,OAAOV,EAAuBQ,IAG3C,OAFW,EAAPD,IAAUE,EAASA,EAAOE,QAAQR,EAAO,KAClC,EAAPI,IAAUE,EAASA,EAAOE,QAAQN,EAAO,KACtCI,IAIXX,EAAOC,QAAU,CAGfa,MAAON,EAAa,GAGpBO,IAAKP,EAAa,GAGlBQ,KAAMR,EAAa,K,yCC1BrB,IAAIlE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAYJ,EAAIO,GAAG,oBAAoBH,EAAG,YAAY,CAACO,YAAY,CAAC,SAAW,WAAW,MAAQ,KAAKF,GAAG,CAAC,QAAUT,EAAI0E,uBAAuB,CAAC1E,EAAIO,GAAG,iBAAiB,GAAGH,EAAG,KAAK,CAACJ,EAAIO,GAAG,iBAAkBP,EAAe,YAAEI,EAAG,mBAAmB,CAACI,MAAM,CAAC,MAAQR,EAAI2E,kBAAkB3E,EAAI0C,KAAKtC,EAAG,KAAK,CAACJ,EAAIO,GAAG,oBAAoBP,EAAI2B,GAAIiD,OAAOC,KAAK7E,EAAI8E,kBAAkB,SAASC,GAAY,OAAQ/E,EAAe,YAAEI,EAAG,aAAaJ,EAAIgF,GAAG,CAACC,IAAIF,EAAWvE,MAAM,CAAC,MAAQR,EAAI8E,gBAAgBC,KAAc,aAAa/E,EAAIkF,gBAAgBC,SAASJ,EAAY,MAAK,IAAQ/E,EAAI0C,QAASkC,OAAOC,KAAK7E,EAAI8E,iBAAiBM,OAAqJpF,EAAI0C,KAAjJ,CAACtC,EAAG,YAAY,CAACE,YAAY,wCAAwCG,GAAG,CAAC,QAAUT,EAAIqF,uBAAuB,CAACrF,EAAIO,GAAG,wBAAiC,GAAGP,EAAI0C,MACn9BC,EAAkB,G,oGCDlB,EAAS,WAAa,IAAI3C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAcG,GAAG,CAAC,MAAQT,EAAIsF,WAAW,MAAQ,SAASpE,GAAQ,OAAIA,EAAOqE,KAAKC,QAAQ,QAAyB,KAAjBtE,EAAOuE,QAAoCzF,EAAIuC,YAAYmD,MAAM,KAAMC,WAA1C,QAAwD,CAACvF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,4BAA4BH,EAAG,MAAM,CAACE,YAAY,gCAAgCE,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,UAAU,QAAU,aAAaC,GAAG,CAAC,MAAQT,EAAIU,QAAQ,CAACN,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,8MAA+MR,EAAgB,aAAEI,EAAG,MAAM,CAACE,YAAY,yCAAyCN,EAAI2B,GAAI3B,EAAgB,cAAE,SAAS4B,EAAEC,GAAG,OAAOzB,EAAG,gBAAgB,CAAC6E,IAAIpD,EAAEvB,YAAY,eAAeE,MAAM,CAAC,QAAUR,EAAI4F,iBAAiB7D,MAAM,CAAChB,MAAOf,EAAI6F,aAAahE,GAAII,SAAS,SAAUC,GAAMlC,EAAImC,KAAKnC,EAAI6F,aAAchE,EAAGK,IAAMlB,WAAW,wBAAuB,GAAGhB,EAAI0C,KAAKtC,EAAG,YAAY,CAACE,YAAY,OAAOG,GAAG,CAAC,QAAUT,EAAIuC,cAAc,CAACvC,EAAIO,GAAG,eAAgBP,EAAIwC,MAAY,OAAEpC,EAAG,MAAM,CAAC0F,MAAM,CAAC,QAAS9F,EAAI+F,YAAYvF,MAAM,CAAC,KAAO,UAAU,CAACR,EAAIO,GAAGP,EAAIyC,GAAGzC,EAAIwC,UAAUxC,EAAI0C,MAAM,IACj2C,EAAkB,G,YCyBtB,G,8BAAA,CACE,KAAF,WAAI,MAAJ,CACM,MAAN,GACM,WAAN,GACM,UAAN,EAEM,gBAAN,GACM,aAAN,GACM,cAAN,IAEE,WAAF,CACI,SAAJ,WAAM,OAAN,kDAEE,SAAF,CACI,SADJ,WAEM,OAAN,sDAGE,QAlBF,WAkBI,IAAJ,OAAI,OAAJ,sJACA,cADA,OAEA,gBAFA,8CAIE,QAAF,iCACA,gEADA,IAEI,MAFJ,WAGM,KAAN,uCAEI,YALJ,WAMM,KAAN,8DACQ,MAAR,CACU,KAAV,YACU,MAAV,SAGM,IAAN,0CACQ,KAAR,8CACM,KAAN,iBAEI,WAhBJ,WAiBA,gBACQ,KAAR,SACQ,KAAR,cAGI,SAtBJ,SAsBA,GAAM,IAAN,oEACM,KAAN,QACM,KAAN,4CACM,YAAN,WACQ,EAAR,cACA,MAEI,YA7BJ,WA6BM,IAAN,OAAM,OAAN,qDAAQ,IAAR,UAAQ,OAAR,0EACA,KADA,WAEA,GACA,yBACoB,IAApB,kEAEoB,OADA,EAApB,yDACA,WAEA,wBANA,IAFA,YAEA,yBAFA,wBAEA,GAFA,kFAEA,IAFA,wCAUA,sCAVA,QAUA,EAVA,OAYA,QACA,gCAEA,mCAfA,mDC7E6W,I,wBCQzWG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QChBFmD,EAA2B,SAAApE,GACpC,IAAMmB,EAAQ,IAAIC,OAAM,CACpBH,UAAWoD,EACX9C,OAAQ,CACJC,WAAY,QACZvC,KAAM,yBACNwC,MAAO,OACPC,OAAQ,OACRC,QAAS,0BAIjBR,EAAMS,Q,wBCYV,GACE,KAAF,WAAI,MAAJ,CACM,aAAN,IAEE,WAAF,CACI,QAAJ,WAAM,OAAN,iDACI,SAAJ,WAAM,OAAN,iDACI,UAAJ,WAAM,OAAN,iDACI,eAAJ,WAAM,OAAN,kDAEE,SAAF,iCACA,+FADA,IAEI,WAFJ,WAGM,OAAN,iEAAQ,OAAR,aAEI,gBALJ,WAMM,OAAN,4BAEI,eARJ,WASM,OAAN,6BAGE,QAtBF,WAsBI,IAAJ,OAAI,OAAJ,sJACA,cADA,OAEA,sFACA,iBAHA,8CAKE,cA3BF,WA4BI,EAAJ,2DAEE,QAAF,iCACA,0CADA,IAEI,qBAFJ,WAGM,KAEF,kBALJ,WAMM,KAAN,gBAEI,qBARJ,WASM,OAAN,OAAM,IAEF,gBAXJ,SAWA,GACM,OAAN,4BCrEiW,ICQ7V,G,UAAY,eACd,EACAzD,EACA4C,GACA,EACA,KACA,KACA,OAIa,e,2CClBf,IAAIuD,EAAc,EAAQ,QACtBC,EAAS,EAAQ,QACjBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAM,EAAQ,QACdC,EAAU,EAAQ,QAClBC,EAAoB,EAAQ,QAC5BC,EAAc,EAAQ,QACtBC,EAAQ,EAAQ,QAChBC,EAAS,EAAQ,QACjBC,EAAsB,EAAQ,QAA8CC,EAC5EC,EAA2B,EAAQ,QAAmDD,EACtFE,EAAiB,EAAQ,QAAuCF,EAChEpC,EAAO,EAAQ,QAA4BA,KAE3CuC,EAAS,SACTC,EAAed,EAAOa,GACtBE,EAAkBD,EAAaE,UAG/BC,EAAiBb,EAAQI,EAAOO,KAAqBF,EAIrDK,EAAW,SAAUC,GACvB,IACIC,EAAOC,EAAOC,EAAOC,EAASC,EAAQvC,EAAQwC,EAAOC,EADrDC,EAAKrB,EAAYa,GAAU,GAE/B,GAAiB,iBAANQ,GAAkBA,EAAG1C,OAAS,EAGvC,GAFA0C,EAAKrD,EAAKqD,GACVP,EAAQO,EAAGC,WAAW,GACR,KAAVR,GAA0B,KAAVA,GAElB,GADAC,EAAQM,EAAGC,WAAW,GACR,KAAVP,GAA0B,MAAVA,EAAe,OAAOQ,SACrC,GAAc,KAAVT,EAAc,CACvB,OAAQO,EAAGC,WAAW,IACpB,KAAK,GAAI,KAAK,GAAIN,EAAQ,EAAGC,EAAU,GAAI,MAC3C,KAAK,GAAI,KAAK,IAAKD,EAAQ,EAAGC,EAAU,GAAI,MAC5C,QAAS,OAAQI,EAInB,IAFAH,EAASG,EAAGG,MAAM,GAClB7C,EAASuC,EAAOvC,OACXwC,EAAQ,EAAGA,EAAQxC,EAAQwC,IAI9B,GAHAC,EAAOF,EAAOI,WAAWH,GAGrBC,EAAO,IAAMA,EAAOH,EAAS,OAAOM,IACxC,OAAO7C,SAASwC,EAAQF,GAE5B,OAAQK,GAKZ,GAAI1B,EAASY,GAASC,EAAa,UAAYA,EAAa,QAAUA,EAAa,SAAU,CAS3F,IARA,IAgBqBhC,EAhBjBiD,EAAgB,SAAgBnH,GAClC,IAAI+G,EAAKnC,UAAUP,OAAS,EAAI,EAAIrE,EAChCoH,EAAQlI,KACZ,OAAOkI,aAAiBD,IAElBd,EAAiBV,GAAM,WAAcQ,EAAgBkB,QAAQC,KAAKF,MAAa5B,EAAQ4B,IAAUnB,GACjGR,EAAkB,IAAIS,EAAaI,EAASS,IAAMK,EAAOD,GAAiBb,EAASS,IAElFjD,EAAOqB,EAAcU,EAAoBK,GAAgB,8LAQhEqB,MAAM,KAAMC,EAAI,EAAQ1D,EAAKO,OAASmD,EAAGA,IACrCjC,EAAIW,EAAchC,EAAMJ,EAAK0D,MAAQjC,EAAI4B,EAAejD,IAC1D8B,EAAemB,EAAejD,EAAK6B,EAAyBG,EAAchC,IAG9EiD,EAAcf,UAAYD,EAC1BA,EAAgBsB,YAAcN,EAC9B7B,EAASF,EAAQa,EAAQkB,K,wJC5ENlF,E,WACjB,cAA+D,IAAlDH,EAAkD,EAAlDA,UAAkD,IAAvCK,aAAuC,MAA/B,GAA+B,MAA3BC,cAA2B,MAAlB,GAAkB,MAAdsF,cAAc,MAAL,GAAK,yBAC3DxI,KAAK4C,UAAYA,EACjB5C,KAAKiD,MAAQA,EACbjD,KAAKkD,OAASA,EACdlD,KAAKwI,OAAS,CACV,OAAU,WACN7D,OAAO8D,OAAO7F,EAAW,CAAC8F,UAAWxF,EAAOtC,QAEhD,OAAU,cAId+D,OAAO8D,OAAOzI,KAAKwI,OAAQA,G,2CAG/B,WACIG,IAAWC,aAAaC,OAAOtF,KAAKvD,KAAK4C,UAAW5C,KAAKiD,MAAOjD,KAAKkD,OAAQlD,KAAKwI,U,kBAGtF,WACIG,IAAWC,aAAaE,MAAM,a,+CCvBtC,IAAIhJ,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoBG,GAAG,CAAC,MAAQ,SAASS,GAAQ,OAAIA,EAAOqE,KAAKC,QAAQ,QAAyB,KAAjBtE,EAAOuE,QAAoCzF,EAAIgJ,WAAWtD,MAAM,KAAMC,WAAzC,QAAuD,CAACvF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAYJ,EAAIO,GAAG,IAAIP,EAAIyC,GAAGzC,EAAIiJ,WAAc,qBAAwBjJ,EAAIiJ,WAAa,GAAK,gBAAgB,KAAK7I,EAAG,MAAM,CAACO,YAAY,CAAC,SAAW,WAAW,MAAQ,MAAM,CAAEX,EAAc,WAAEI,EAAG,YAAY,CAACE,YAAY,kCAAkCG,GAAG,CAAC,QAAUT,EAAIkJ,oBAAoB,CAAClJ,EAAIO,GAAG,0BAA0BP,EAAI0C,KAAM1C,EAAc,WAAEI,EAAG,YAAY,CAACE,YAAY,6BAA6BG,GAAG,CAAC,QAAUT,EAAImJ,qBAAqB,CAACnJ,EAAIO,GAAG,uBAAuBP,EAAI0C,KAAM1C,EAAc,WAAEI,EAAG,YAAY,CAACE,YAAY,kCAAkCG,GAAG,CAAC,QAAU,SAASS,GAAQlB,EAAIiJ,WAAa,QAAQ,CAACjJ,EAAIO,GAAG,aAAaP,EAAI0C,MAAM,IAAI,GAAK1C,EAAIiJ,WAA+5B,CAAC7I,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIO,GAAG,iBAAiBH,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAIiJ,WAAoB,UAAEjI,WAAW,yBAAyBR,MAAM,CAAC,KAAO,YAAYS,SAAS,CAAC,QAAUmI,MAAMC,QAAQrJ,EAAIiJ,WAAWK,WAAWtJ,EAAIuJ,GAAGvJ,EAAIiJ,WAAWK,UAAU,OAAO,EAAGtJ,EAAIiJ,WAAoB,WAAGxI,GAAG,CAAC,OAAS,CAAC,SAASS,GAAQ,IAAIsI,EAAIxJ,EAAIiJ,WAAWK,UAAUG,EAAKvI,EAAOC,OAAOuI,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAItH,EAAI,KAAK0H,EAAI5J,EAAIuJ,GAAGC,EAAItH,GAAQuH,EAAKE,QAASC,EAAI,GAAI5J,EAAImC,KAAKnC,EAAIiJ,WAAY,YAAaO,EAAIK,OAAO,CAAC3H,KAAa0H,GAAK,GAAI5J,EAAImC,KAAKnC,EAAIiJ,WAAY,YAAaO,EAAIvB,MAAM,EAAE2B,GAAKC,OAAOL,EAAIvB,MAAM2B,EAAI,UAAY5J,EAAImC,KAAKnC,EAAIiJ,WAAY,YAAaS,IAAO,SAASxI,GAAQ,OAAOlB,EAAI8J,oBAAoB5I,YAAiBd,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIO,GAAG,qBAAqBP,EAAIyC,GAAGzC,EAAI+J,uBAAuB3J,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIO,GAAG,0BAA0BP,EAAIyC,GAAGzC,EAAIiJ,WAAWe,MAAQ,WAAa,YAAY,SAAS5J,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACN,EAAIO,GAAG,YAAYH,EAAG,YAAY,CAACE,YAAY,OAAOG,GAAG,CAAC,QAAUT,EAAIiK,kBAAkB,CAACjK,EAAIO,GAAG,eAAe,GAAGH,EAAG,MAAM,CAACE,YAAY,sBAAsBN,EAAI2B,GAAI3B,EAAIiJ,WAAiB,QAAE,SAASiB,EAAMrI,GAAG,OAAOzB,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACN,EAAIO,GAAGP,EAAIyC,GAAGzC,EAAImK,gBAAgBD,EAAMtH,KAAK,OAAOxC,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBC,MAAOmJ,EAAW,MAAElJ,WAAW,cAAcO,UAAU,CAAC,QAAS,KAAQjB,YAAY,eAAeE,MAAM,CAAC,IAAM,IAAI,QAAU,6BAA6BS,SAAS,CAAC,MAASiJ,EAAW,OAAGzJ,GAAG,CAAC,MAAQ,SAASS,GAAWA,EAAOC,OAAOC,WAAqBpB,EAAImC,KAAK+H,EAAO,QAASlK,EAAIyB,GAAGP,EAAOC,OAAOJ,SAAS,KAAO,SAASG,GAAQ,OAAOlB,EAAI0B,0BAAyB,KAAM1B,EAAwB,qBAAEI,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIO,GAAG,6BAA6BH,EAAG,IAAI,CAACI,MAAM,CAAC,KAAQ,UAAaR,EAAIoK,qBAAuB,GAAG,OAAS,WAAW,CAACpK,EAAIO,GAAG,KAAKP,EAAIyC,GAAGzC,EAAIoK,qBAAqBxH,IAAI,IAAI5C,EAAIyC,GAAGzC,EAAIoK,qBAAqBC,OAAO,WAAWrK,EAAI0C,KAAM1C,EAAmB,gBAAEI,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIO,GAAG,oBAAoBH,EAAG,IAAI,CAACI,MAAM,CAAC,KAAQ,UAAaR,EAAIsK,gBAAkB,GAAG,OAAS,WAAW,CAACtK,EAAIO,GAAG,KAAKP,EAAIyC,GAAGzC,EAAIsK,gBAAgB1H,IAAI,IAAI5C,EAAIyC,GAAGzC,EAAIsK,gBAAgBD,OAAO,OAAOrK,EAAIO,GAAG,OAAOH,EAAG,IAAI,CAACI,MAAM,CAAC,KAAQ,YAAeR,EAAIiJ,WAAWsB,aAAe,GAAG,OAAS,WAAW,CAACvK,EAAIO,GAAG,UAAUP,EAAIyC,GAAGzC,EAAIwK,0BAA0B,WAAWxK,EAAI0C,KAAKtC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACN,EAAIO,GAAG,mBAAmBH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,QAAQ,CAACE,YAAY,uBAAuB,CAACN,EAAIyK,GAAG,GAAGrK,EAAG,QAAQJ,EAAI2B,GAAI3B,EAAkB,gBAAE,SAAS0K,EAAU7I,GAAG,OAAOzB,EAAG,KAAK,CAAC6E,IAAIpD,GAAG,CAACzB,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIyC,GAAGiI,EAAU9H,OAAOxC,EAAG,KAAK,CAACA,EAAG,IAAI,CAACI,MAAM,CAAC,KAAQ,UAAakK,EAAY,GAAG,OAAS,WAAW,CAAC1K,EAAIO,GAAGP,EAAIyC,GAAGiI,EAAUL,YAAYjK,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIyC,GAAGiI,EAAUC,2BAA0B,SAASvK,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACN,EAAIO,GAAG,qBAAqBH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,QAAQ,CAACE,YAAY,iCAAiC,CAACN,EAAIyK,GAAG,GAAGrK,EAAG,QAAQJ,EAAI2B,GAAI3B,EAAa,WAAE,SAAS4K,GAAY,OAAOxK,EAAG,KAAK,CAAC6E,IAAI2F,GAAY,CAACxK,EAAG,KAAK,CAACO,YAAY,CAAC,MAAQ,QAAQ,CAACX,EAAIO,GAAGP,EAAIyC,GAAGmI,MAAexK,EAAG,KAAK,CAACO,YAAY,CAAC,cAAc,SAAS,CAACX,EAAIO,GAAG,IAAIP,EAAIyC,GAAGzC,EAAIiJ,WAAW4B,eAAiBD,EAAa5K,EAAI8K,cAAcF,EAAY5K,EAAIiJ,WAAW8B,YAAc,KAAK,YAAW,UAA3zJ,CAAC3K,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAACF,EAAG,QAAQ,CAACE,YAAY,uBAAuB,CAACN,EAAIO,GAAG,eAAeH,EAAG,gBAAgB,CAACE,YAAY,2BAA2BE,MAAM,CAAC,QAAUR,EAAIgL,eAAejJ,MAAM,CAAChB,MAAOf,EAAwB,qBAAEiC,SAAS,SAAUC,GAAMlC,EAAIiL,qBAAqB/I,GAAKlB,WAAW,2BAA2B,GAAGZ,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAACF,EAAG,QAAQ,CAACE,YAAY,uBAAuB,CAACN,EAAIO,GAAG,QAAQH,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAY,SAAEgB,WAAW,aAAaV,YAAY,wCAAwCE,MAAM,CAAC,KAAO,QAAQS,SAAS,CAAC,MAASjB,EAAY,UAAGS,GAAG,CAAC,MAAQ,SAASS,GAAWA,EAAOC,OAAOC,YAAqBpB,EAAIkL,SAAShK,EAAOC,OAAOJ,aAAYX,EAAG,YAAY,CAACE,YAAY,4BAA4BG,GAAG,CAAC,QAAUT,EAAIgJ,aAAa,CAAChJ,EAAIO,GAAG,aAA+7H,IAC9yLoC,EAAkB,CAAC,WAAa,IAAI3C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACR,EAAIO,GAAG,QAAQH,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACR,EAAIO,GAAG,cAAcH,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACR,EAAIO,GAAG,yBAAyB,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACR,EAAIO,GAAG,eAAeH,EAAG,KAAK,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACR,EAAIO,GAAG,c,4KCDze,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAcG,GAAG,CAAC,MAAQT,EAAIsF,WAAW,MAAQ,SAASpE,GAAQ,OAAIA,EAAOqE,KAAKC,QAAQ,QAAyB,KAAjBtE,EAAOuE,QAAoCzF,EAAIuC,YAAYmD,MAAM,KAAMC,WAA1C,QAAwD,CAACvF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,wBAAwBH,EAAG,MAAM,CAACE,YAAY,gCAAgCE,MAAM,CAAC,MAAQ,6BAA6B,MAAQ,KAAK,OAAS,KAAK,KAAO,UAAU,QAAU,aAAaC,GAAG,CAAC,MAAQT,EAAIU,QAAQ,CAACN,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,8MAA+MR,EAAImL,aAAa/F,OAAS,GAAKpF,EAAIoL,YAAa,CAAChL,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,gBAAgBH,EAAG,gBAAgB,CAACE,YAAY,2BAA2BE,MAAM,CAAC,QAAUR,EAAIqL,gBAAgBtJ,MAAM,CAAChB,MAAOf,EAAmB,gBAAEiC,SAAS,SAAUC,GAAMlC,EAAIsL,gBAAgBpJ,GAAKlB,WAAW,sBAAsB,GAAGZ,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,cAAcH,EAAG,gBAAgB,CAACE,YAAY,2BAA2BE,MAAM,CAAC,QAAUR,EAAIuL,gBAAgBxJ,MAAM,CAAChB,MAAOf,EAAqB,kBAAEiC,SAAS,SAAUC,GAAMlC,EAAIwL,kBAAkBtJ,GAAKlB,WAAW,wBAAwB,GAAGZ,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,aAAaH,EAAG,gBAAgB,CAACE,YAAY,2BAA2BE,MAAM,CAAC,QAAUR,EAAIyL,aAAa1J,MAAM,CAAChB,MAAOf,EAAsB,mBAAEiC,SAAS,SAAUC,GAAMlC,EAAI0L,mBAAmBxJ,GAAKlB,WAAW,yBAAyB,GAAGZ,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAsB,mBAAEgB,WAAW,uBAAuBV,YAAY,OAAOE,MAAM,CAAC,KAAO,WAAW,GAAK,sBAAsBS,SAAS,CAAC,QAAUmI,MAAMC,QAAQrJ,EAAI2L,oBAAoB3L,EAAIuJ,GAAGvJ,EAAI2L,mBAAmB,OAAO,EAAG3L,EAAsB,oBAAGS,GAAG,CAAC,OAAS,SAASS,GAAQ,IAAIsI,EAAIxJ,EAAI2L,mBAAmBlC,EAAKvI,EAAOC,OAAOuI,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAItH,EAAI,KAAK0H,EAAI5J,EAAIuJ,GAAGC,EAAItH,GAAQuH,EAAKE,QAASC,EAAI,IAAI5J,EAAI2L,mBAAmBnC,EAAIK,OAAO,CAAC3H,KAAY0H,GAAK,IAAI5J,EAAI2L,mBAAmBnC,EAAIvB,MAAM,EAAE2B,GAAKC,OAAOL,EAAIvB,MAAM2B,EAAI,UAAW5J,EAAI2L,mBAAmBjC,MAAStJ,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,uBAAuB,CAACR,EAAIO,GAAG,+BAA+BH,EAAG,YAAY,CAACE,YAAY,YAAYE,MAAM,CAAC,SAAWR,EAAI4L,gBAAgBnL,GAAG,CAAC,QAAUT,EAAIuC,cAAc,CAACvC,EAAIO,GAAG,gBAAgB,CAACH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,8CAA+CP,EAAIwC,MAAY,OAAEpC,EAAG,MAAM,CAACE,YAAY,qBAAqBE,MAAM,CAAC,KAAO,UAAU,CAACR,EAAIO,GAAGP,EAAIyC,GAAGzC,EAAIwC,UAAUxC,EAAI0C,MAAM,IACp8F,EAAkB,GCoDtB,G,wCAAA,CACE,MAAF,4BACE,KAAF,WAAI,MAAJ,CACM,QAAN,OACM,UAAN,OACM,OAAN,OACM,oBAAN,EACM,MAAN,GACM,UAAN,EACM,gBAAN,EACM,aAAN,EAEM,gBAAN,EACM,eAAN,GAEM,kBAAN,EACM,eAAN,GAEM,mBAAN,EACM,YAAN,GAEM,kBAAN,GACM,oBAAN,GACM,kBAAN,GACM,UAAN,KAEE,WAAF,CACI,SAAJ,WAAM,OAAN,kDAEE,QA7BF,WA6BI,IAAJ,OAAI,OAAJ,yIACA,+CACA,sBAFA,iEAGA,cAHA,OAIA,gBAJA,8CAME,MAAF,CACI,gBADJ,SACA,GAAM,IAAN,OACM,KAAN,sDAAQ,OAAR,iBACM,KAAN,mEAAQ,OAAR,iBACM,KAAN,2DAAQ,OAAR,WAEM,KAAN,2DAAQ,OAAR,sCACA,iBACQ,MAAR,CACU,KAAV,QACU,MAAV,SAGM,KAAN,gDAEI,kBAfJ,SAeA,GACM,KAAN,sEAAQ,OAAR,oBACM,KAAN,4DACQ,MAAR,CACU,KAAV,OACU,MAAV,kBAGM,KAAN,+CAGE,QAAF,gDACA,+CACA,0CAFA,IAGI,YAHJ,WAIM,IAAN,qCAAQ,OAAR,cACM,KAAN,8CACA,oBAAQ,OAAR,oBACA,iBACQ,MAAR,CACU,MAAV,KACU,KAAV,YAGM,KAAN,6CACM,KAAN,gBAEI,WAhBJ,WAiBA,gBACQ,KAAR,SACQ,KAAR,cAGI,SAtBJ,SAsBA,GAAM,IAAN,OACM,KAAN,QACM,YAAN,WACQ,EAAR,cACA,MAEI,YA5BJ,WA4BM,IAAN,OAAM,OAAN,qDAAQ,IAAR,IAAQ,OAAR,iFACA,GACA,2BACA,+BACA,2DACA,+BAGA,oBARA,SAUA,mBACA,oBACA,aAZA,OAUA,EAVA,OAeA,oBAEA,QAIA,iFAHA,sDACA,WAnBA,8CAuBI,MAnDJ,WAoDM,KAAN,uCAEI,gBAtDJ,SAsDA,GAAM,IAAN,OACM,KAAN,oDACM,KAAN,wDAAQ,OAAR,qCC1K4W,I,YCOxWG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCfFgJ,EAA0B,SAACC,EAAUX,GAC9C,IAAMpI,EAAQ,IAAIC,OAAM,CACpBH,UAAWkJ,EACX7I,MAAO,CAAC4I,WAAUX,gBAClBhI,OAAQ,CACJC,WAAY,QACZvC,KAAM,yBACNwC,MAAO,OACPC,OAAQ,OACRC,QAAS,0BAIjBR,EAAMS,QCsIV,GACE,KAAF,WAAI,MAAJ,CACM,WAAN,EACM,WAAN,KACM,UAAN,sCACM,cAAN,GACM,qBAAN,EACM,SAAN,GACM,aAAN,KAEE,SAAF,CACI,iBADJ,WAEM,OAAN,6DAEI,eAJJ,WAIM,IAAN,OACM,IAAN,wBACM,IAAN,KAiBM,OAhBA,KAAN,gDAIQ,IAHA,IAAR,gDAAU,OAAV,qBACA,IAEA,4BACU,GAAV,iCACY,EAAZ,EACY,MAGJ,EAAR,MACU,GAAV,KACU,MAAV,QACU,kBAAV,OAGA,GAEI,gBAzBJ,WAyBM,IAAN,OACM,QAAN,iCACA,iDAAQ,OAAR,8CAEI,qBA7BJ,WA6BM,IAAN,OACM,GAAN,sFACM,IAAN,mDAAQ,OAAR,4CACM,OAAN,IAAQ,GAAR,qCAAQ,MAAR,+BAEI,yBAlCJ,WAmCM,IAAN,8BACM,IAAN,mDACQ,GAAR,sEACA,WACM,OAAN,IAGE,WAAF,CACI,SAAJ,WAAM,OAAN,iDACI,QAAJ,WAAM,OAAN,kDAEE,QAxDF,WAwDI,IAAJ,OAAI,OAAJ,sJACA,cADA,OAEA,+CACA,0BAGA,eANA,8CAQE,QAAF,gDACA,yFACA,0CAFA,IAGI,WAHJ,WAGM,IAAN,OAAM,OAAN,qDAAQ,IAAR,MAAQ,OAAR,8EACA,aADA,oDAGA,kBAHA,uBAIgBwI,EAAhB,kFAJA,0CAQA,wEARA,UAQA,EARA,OAUA,QAVA,iBAWgB,EAAhB,aAXA,qCAaA,wBAbA,QAaA,SAbA,sBAeA,wBAfA,OAgBA,MAhBA,gCAiBgB,EAAhB,kBAjBA,oCAoBgB,EAAhB,yDApBA,6BAuBgB,EAAhB,6DAvBA,wBAyBgB,EAAhB,8EAzBA,yBA6BA,mCA7BA,QA6BA,eA7BA,sDA+BI,gBAlCJ,SAkCA,GACM,OAAN,oDAAQ,OAAR,kBAEI,cArCJ,SAqCA,KACM,OAAN,GACQ,IAAR,WACU,MAAV,oCACQ,QACE,OAAV,IAGI,mBA7CJ,WA6CM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,8EACA,mDADA,gCAEA,+BAFA,OAEgB,EAFhB,OAIqBC,EAAIC,MAGzB,gFAFA,eALA,8CAUI,oBAvDJ,SAuDA,GAAM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,sEADA,OACA,EADA,OAGA,QAGA,gFAFA,eAJA,8CAQI,kBA/DJ,WAgEM,EAAN,uCAEI,gBAlEJ,WAkEM,IAAN,OAAM,OAAN,qDAAQ,IAAR,EAAQ,OAAR,0FACA,2EADA,OACA,EADA,OAGA,QAIA,iFAHA,sDACA,uBALA,iDCxRgW,ICQ5V,G,UAAY,eACd,EACAnM,EACA4C,GACA,EACA,KACA,KACA,OAIa,e,kDCnBf,IAAI5C,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAYJ,EAAIO,GAAG,sCAAsC,GAAGH,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,YAAYJ,EAAIgF,GAAG,CAAC1E,YAAY,aAAaE,MAAM,CAAC,IAAM,KAAK,KAAOR,EAAImM,cAAc1L,GAAG,CAAC,MAAQ,SAASS,GAAQlB,EAAIoM,UAAW,GAAM,IAAM,SAASlL,GAAQlB,EAAIoM,UAAW,GAAO,OAASpM,EAAIqM,gBAAgBtK,MAAM,CAAChB,MAAOf,EAAe,YAAEiC,SAAS,SAAUC,GAAMlC,EAAIsM,YAAYpK,GAAKlB,WAAW,gBAAgB,YAAYhB,EAAIuM,aAAY,GAAO,CAACnM,EAAG,mBAAmB,CAACE,YAAY,mBAAmBE,MAAM,CAAC,KAAO,aAAa,KAAO,cAAcR,EAAI2B,GAAI3B,EAAe,aAAE,SAASwM,GAAO,OAAOpM,EAAG,KAAK,CAAC6E,IAAIuH,EAAM5J,GAAGtC,YAAY,wDAAwD,CAACN,EAAIO,GAAG,IAAIP,EAAIyC,GAAG+J,EAAMC,mBAAqB,GAAG,KAAKzM,EAAIyC,GAAG+J,EAAMnC,OAAO,SAASrK,EAAIyC,GAAG+J,EAAM5J,IAAI,WAAU,IAAI,IAAI,MAC3/BD,EAAkB,G,yJCoCtB,GACE,KAAF,WAAI,MAAJ,CACM,UAAN,EACM,YAAN,GACM,YAAN,IAEE,WAAF,CACI,UAAJ,IACI,QAAJ,WAAM,OAAN,kDAEE,SAAF,CACI,QADJ,WAEM,OAAN,mDAEI,YAJJ,WAKM,MAAN,CACQ,UAAR,EACQ,MAAR,cACQ,UAAR,EACQ,WAAR,WAIE,QAAF,gDACA,0EACA,gCAFA,IAGI,aAHJ,WAIM,OAAN,iBAEI,eANJ,WAMM,IAAN,OAAM,OAAN,qDAAQ,IAAR,IAAQ,OAAR,iFACA,gBACA,0FACA,gEAEA,KACA,yEANA,SAQA,mCARA,OAQA,EARA,OASA,gBAEA,QAGA,gFAFA,6DAZA,iDAiBE,QA9CF,WA8CI,IAAJ,OAAI,OAAJ,sJACA,cADA,OAEA,yCACA,OACA,QACA,cACA,0CAGA,gEATA,+CCnF2W,I,wBCQvWE,EAAY,eACd,EACA9C,EACA4C,GACA,EACA,KACA,KACA,MAIa,aAAAE,E,2CCnBf,W,gFCAA,W,kCCAA,W","file":"js/products.8f92d65f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\"},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Добавление пака \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),_c('div',{staticClass:\"input-group\"},[_c('label',{staticClass:\"modal-popup__label text-left\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Google ID\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.googleID),expression:\"googleID\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.googleID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.googleID=$event.target.value}}})]),_c('div',{staticClass:\"input-group mb-3\"},[_c('label',{staticClass:\"modal-popup__label text-left\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Apple ID\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.appleID),expression:\"appleID\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.appleID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.appleID=$event.target.value}}})]),_c('div',{staticClass:\"input-group mb-3\"},[_c('label',{staticClass:\"modal-popup__label text-left\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\"Бонус первой покупки %\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.firstBonus),expression:\"firstBonus\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.firstBonus)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.firstBonus=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._l((_vm.rewards),function(_,i){return _c('div',{staticClass:\"input-group mb-3 align-items-center\"},[_c('b-form-select',{staticClass:\"form-control\",attrs:{\"options\":_vm.currenciesOptions},model:{value:(_vm.selectedCurrencies[i]),callback:function ($$v) {_vm.$set(_vm.selectedCurrencies, i, $$v)},expression:\"selectedCurrencies[i]\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.rewards[i].value),expression:\"rewards[i].value\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"1\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(_vm.rewards[i].value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.rewards[i], \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('svg',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"bi bi-trash ms-3 ml-2\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\",\"title\":\"Удалить\"},on:{\"click\":function($event){return _vm.onDeleteRewardClick(i)}}},[_c('path',{attrs:{\"d\":\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"}}),_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"}})])],1)}),_c('div',{staticClass:\"d-flex justify-content-center\",staticStyle:{\"width\":\"100%\"}},[_c('ui-button',{staticClass:\"mt-3 mb-2 d-flex\",staticStyle:{\"width\":\"200px\"},on:{\"clicked\":_vm.onAddRewardClick}},[_vm._v(\" Добавить валюту \")])],1),_c('div',{staticClass:\"d-flex justify-content-center\",staticStyle:{\"width\":\"100%\"}},[_c('ui-button',{staticClass:\"mt-3 mb-2\",staticStyle:{\"width\":\"200px\"},on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")])],1),(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Добавление пака\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <div class=\"input-group\">\r\n            <label class=\"modal-popup__label text-left\" style=\"width: 100%;\">Google ID</label>\r\n            <input type=\"text\" v-model=\"googleID\" class=\"form-control\"/>\r\n        </div>\r\n        <div class=\"input-group mb-3\">\r\n            <label class=\"modal-popup__label text-left\" style=\"width: 100%;\">Apple ID</label>\r\n            <input type=\"text\" v-model=\"appleID\" class=\"form-control\"/>\r\n        </div>\r\n        <div class=\"input-group mb-3\">\r\n            <label class=\"modal-popup__label text-left\" style=\"width: 100%;\">Бонус первой покупки %</label>\r\n            <input type=\"number\" v-model.number=\"firstBonus\" class=\"form-control\"\r\n                   min=0 oninput=\"validity.valid||(value=0)\"/>\r\n        </div>\r\n        <div class=\"input-group mb-3 align-items-center\" v-for=\"(_, i) of rewards\">\r\n            <b-form-select class=\"form-control\" v-model=\"selectedCurrencies[i]\"\r\n                           :options=\"currenciesOptions\"/>\r\n            <input type=\"number\" class=\"form-control\" v-model.number=\"rewards[i].value\"\r\n                   min=1 oninput=\"validity.valid||(value=0)\"\r\n            />\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\"\r\n                 class=\"bi bi-trash ms-3 ml-2\" viewBox=\"0 0 16 16\" v-b-tooltip.hover title=\"Удалить\"\r\n                 style=\"cursor: pointer;\"\r\n                 @click=\"onDeleteRewardClick(i)\"\r\n            >\r\n                <path\r\n                    d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n                <path fill-rule=\"evenodd\"\r\n                      d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n            </svg>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\"width: 100%;\">\r\n            <ui-button class=\"mt-3 mb-2 d-flex\" style=\"width: 200px;\" @clicked=\"onAddRewardClick\">\r\n                Добавить валюту\r\n            </ui-button>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center\" style=\"width: 100%;\">\r\n            <ui-button class=\"mt-3 mb-2\" style=\"width: 200px;\" @clicked=\"onSaveClick\">Сохранить</ui-button>\r\n        </div>\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    data: () => ({\r\n        alert: '',\r\n        canReset: false,\r\n        currenciesOptions: [],\r\n        selectedCurrencies: [],\r\n        rewards: [],\r\n        googleID: '',\r\n        appleID: '',\r\n        firstBonus: 0\r\n    }),\r\n    computed: {\r\n        ...mapGetters('firebase', ['getNewProductID']),\r\n        currencies() {\r\n            return this.$store.state.firebase.config.Currencies;\r\n        }\r\n    },\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    async mounted() {\r\n        await this.getConfig();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'saveProduct']),\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(_ => this.canReset = true, 250);\r\n        },\r\n        fillSelects() {\r\n            this.currenciesOptions = this.currencies\r\n                .filter(currency => currency.id > 0)\r\n                .map(currency => {\r\n                    return {value: currency.id, text: currency.name};\r\n                });\r\n        },\r\n        async onSaveClick() {\r\n            if (!this.googleID.length) {\r\n                this.setAlert('Необходимо указать Google ID товара');\r\n                return;\r\n            }\r\n\r\n            if (!this.appleID.length) {\r\n                this.setAlert('Необходимо указать Apple ID товара');\r\n                return;\r\n            }\r\n\r\n            if (!this.rewards.length) {\r\n                this.setAlert('Необходимо задать хотя бы 1 валюту');\r\n                return;\r\n            }\r\n\r\n            const currenciesEntries = {};\r\n            const rewards = [];\r\n\r\n            for (let i = 0; i < this.rewards.length; i++) {\r\n                if (!this.rewards[i].value) {\r\n                    this.setAlert('Не должно быть нулевых значений валют');\r\n                    return;\r\n                }\r\n\r\n                if (currenciesEntries[this.selectedCurrencies[i]]) {\r\n                    const currencyConfig = this.currencies.find(c => c.id === this.selectedCurrencies[i]);\r\n                    this.setAlert(`Найдены дубликаты наград: ${currencyConfig.name}`);\r\n                    return;\r\n                } else\r\n                    currenciesEntries[this.selectedCurrencies[i]] = 1;\r\n\r\n                rewards.push({\r\n                    id: this.selectedCurrencies[i],\r\n                    value: this.rewards[i].value\r\n                });\r\n            }\r\n\r\n            const response = await this.saveProduct({\r\n                id: this.getNewProductID,\r\n                google_id: this.googleID,\r\n                apple_id: this.appleID,\r\n                first_bonus: this.firstBonus,\r\n                rewards\r\n            });\r\n\r\n            if (response.error)\r\n                this.setAlert('Ошибка добавления');\r\n            else {\r\n                if (response.rewards.length > 1)\r\n                    bus.$emit('products-list-updated', response);\r\n                this.close();\r\n            }\r\n        },\r\n        onAddRewardClick() {\r\n            this.rewards.push({id: 1, value: 1});\r\n            this.selectedCurrencies.push(1);\r\n            this.fillSelects();\r\n        },\r\n        close() {\r\n            this.$modal.hide('add-multi-pack-modal');\r\n        },\r\n        onDeleteRewardClick(index) {\r\n            this.rewards.splice(index, 1);\r\n            this.selectedCurrencies.splice(index, 1);\r\n            this.fillSelects();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.v--modal-overlay[data-modal=\"add-multi-pack-modal\"] {\r\n    position: absolute;\r\n    height: auto;\r\n\r\n    .modal-popup__overlay {\r\n        min-height: 100vh !important;\r\n        padding-bottom: 30vh;\r\n        height: auto !important;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMultiPackModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMultiPackModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddMultiPackModal.vue?vue&type=template&id=fd96c30a&\"\nimport script from \"./AddMultiPackModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AddMultiPackModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddMultiPackModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport AddMultiPackModal from '@/components/modals/AddMultiPackModal';\r\n\r\nexport const openMultiPackModal = () => {\r\n    const popup = new Popup({\r\n        component: AddMultiPackModal,\r\n        props: {},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'add-multi-pack-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openMultiPackModal};\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Players.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMultiPackModal.vue?vue&type=style&index=0&lang=scss&\"","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.pageIsReady)?_c('div',{staticClass:\"page products-page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Список товаров \"),_c('ui-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"},on:{\"clicked\":_vm.onSortingButtonClick}},[_vm._v(\"Сортировка\")])],1),_c('h1',[_vm._v(\"Мульти-паки\")]),(_vm.pageIsReady)?_c('multi-packs-list',{attrs:{\"packs\":_vm.multiPacksList}}):_vm._e(),_c('h1',[_vm._v(\"Одиночные паки\")]),_vm._l((Object.keys(_vm.singlePacksList)),function(currencyId){return (_vm.pageIsReady)?_c('packs-list',_vm._b({key:currencyId,attrs:{\"packs\":_vm.singlePacksList[currencyId]}},'packs-list',_vm.getCurrencyData(parseInt(currencyId, 10)),false)):_vm._e()}),(!Object.keys(_vm.singlePacksList).length)?[_c('ui-button',{staticClass:\"products-page__add-single-pack-button\",on:{\"clicked\":_vm.onAddSinglePackClick}},[_vm._v(\" Добавить товар \")])]:_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onSaveClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Порядок вывода товаров \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),(_vm.popupIsReady)?_c('div',{staticClass:\"products-sorting-modal__selects-group\"},_vm._l((_vm.productsList),function(_,i){return _c('b-form-select',{key:i,staticClass:\"form-control\",attrs:{\"options\":_vm.productsOptions},model:{value:(_vm.productsList[i]),callback:function ($$v) {_vm.$set(_vm.productsList, i, $$v)},expression:\"productsList[i]\"}})}),1):_vm._e(),_c('ui-button',{staticClass:\"mb-2\",on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")]),(_vm.alert.length)?_c('div',{class:['alert', _vm.alertClass],attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @click=\"resetAlert\" @keyup.13=\"onSaveClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Порядок вывода товаров\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <div v-if=\"popupIsReady\" class=\"products-sorting-modal__selects-group\">\r\n            <b-form-select class=\"form-control\" v-for=\"(_, i) of productsList\" :key=\"i\"\r\n                           v-model=\"productsList[i]\" :options=\"productsOptions\"/>\r\n        </div>\r\n        <ui-button @clicked=\"onSaveClick\" class=\"mb-2\">Сохранить</ui-button>\r\n        <div v-if=\"alert.length\" :class=\"['alert', alertClass]\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex';\r\n\r\nexport default {\r\n    data: () => ({\r\n        alert: '',\r\n        alertClass: '',\r\n        canReset: false,\r\n\r\n        productsOptions: [],\r\n        productsList: [],\r\n        popupIsReady: false\r\n    }),\r\n    components: {\r\n        UiButton: () => import('../ui/UiButton')\r\n    },\r\n    computed: {\r\n        products() {\r\n            return this.$store.state.firebase.config.Products.products;\r\n        }\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n        this.fillSelects();\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'updateProductsOrder']),\r\n        close() {\r\n            this.$modal.hide('products-sorting-modal');\r\n        },\r\n        fillSelects() {\r\n            this.productsOptions = Object.values(this.products).map(product => {\r\n                return {\r\n                    text: product.google_id,\r\n                    value: product.id\r\n                };\r\n            });\r\n            for (let i = 0; i < this.productsOptions.length; i++)\r\n                this.productsList[i] = this.productsOptions[i].value;\r\n            this.popupIsReady = true;\r\n        },\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message, isError = true) {\r\n            this.alert = message;\r\n            this.alertClass = isError ? 'alert-danger' : 'alert-success';\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onSaveClick() {\r\n            const idsEntries = {};\r\n            for (let i = 0; i < this.productsList.length; i++) {\r\n                if (idsEntries[this.productsList[i]]) {\r\n                    const productConfig = this.products.find(product => product.id === this.productsList[i]);\r\n                    this.setAlert(`Найден дубликат товара: ${productConfig.google_id}`);\r\n                    return;\r\n                } else\r\n                    idsEntries[this.productsList[i]] = 1;\r\n            }\r\n            const response = await this.updateProductsOrder(this.productsList);\r\n\r\n            if (response.error)\r\n                this.setAlert('Ошибка обновления');\r\n            else\r\n                this.setAlert('Успешно сохранено', false);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.products-sorting-modal {\r\n    &__selects-group {\r\n        flex-direction: column;\r\n        align-items: center;\r\n\r\n        .custom-select {\r\n            margin-bottom: 8px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsSortingModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsSortingModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductsSortingModal.vue?vue&type=template&id=fe939262&\"\nimport script from \"./ProductsSortingModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductsSortingModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductsSortingModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport ProductsSortingModal from '@/components/modals/ProductsSortingModal';\r\n\r\nexport const openProductsSortingModal = _ => {\r\n    const popup = new Popup({\r\n        component: ProductsSortingModal,\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'products-sorting-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openProductsSortingModal};\r\n","<template>\r\n    <div class=\"page products-page\" v-if=\"pageIsReady\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Список товаров\r\n            <ui-button style=\"position: absolute;right: 0;\" @clicked=\"onSortingButtonClick\">Сортировка</ui-button>\r\n        </div>\r\n        <h1>Мульти-паки</h1>\r\n        <multi-packs-list v-if=\"pageIsReady\" v-bind:packs=\"multiPacksList\"/>\r\n        <h1>Одиночные паки</h1>\r\n        <packs-list v-if=\"pageIsReady\" v-for=\"currencyId in Object.keys(singlePacksList)\" :key=\"currencyId\"\r\n                    v-bind=\"getCurrencyData(parseInt(currencyId, 10))\"\r\n                    v-bind:packs=\"singlePacksList[currencyId]\"/>\r\n        <template v-if=\"!Object.keys(singlePacksList).length\">\r\n            <ui-button class=\"products-page__add-single-pack-button\" @clicked=\"onAddSinglePackClick\">\r\n                Добавить товар\r\n            </ui-button>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex';\r\nimport {openProductsSortingModal} from '@/modals/productsSortingModal';\r\nimport {openMultiPackModal} from '@/modals/addMultiPackModal';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    data: () => ({\r\n        pageIsReady: false\r\n    }),\r\n    components: {\r\n        NavBack: () => import('../../components/navigation/NavBack'),\r\n        UiButton: () => import('../../components/ui/UiButton'),\r\n        PacksList: () => import('../../components/products/PacksList'),\r\n        MultiPacksList: () => import('../../components/products/MultiPacksList'),\r\n    },\r\n    computed: {\r\n        ...mapGetters('firebase', ['getCurrencyById', 'getMultiProductsList', 'getSingleProductsList']),\r\n        currencies() {\r\n            return this.$store.state.firebase.config.Currencies.filter(currency => currency.id !== 0);\r\n        },\r\n        singlePacksList() {\r\n            return this.getSingleProductsList;\r\n        },\r\n        multiPacksList() {\r\n            return this.getMultiProductsList;\r\n        }\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n        bus.$off('products-list-updated').$on('products-list-updated', this.onProductsUpdated);\r\n        this.pageIsReady = true;\r\n    },\r\n    beforeDestroy() {\r\n        bus.$off('products-list-updated', this.onProductsUpdated);\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig']),\r\n        onSortingButtonClick() {\r\n            openProductsSortingModal();\r\n        },\r\n        onProductsUpdated() {\r\n            this.$forceUpdate();\r\n        },\r\n        onAddSinglePackClick() {\r\n            openMultiPackModal();\r\n        },\r\n        getCurrencyData(currencyId) {\r\n            return this.getCurrencyById(currencyId);\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.products-page {\r\n    svg {\r\n        cursor: pointer;\r\n    }\r\n\r\n    &__add-single-pack-button {\r\n        max-width: 200px;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=a3f02e3a&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import VueJSModal from \"vue-js-modal\";\r\n\r\nexport default class Popup {\r\n    constructor({component, props = {}, params = {}, events = {}}) {\r\n        this.component = component;\r\n        this.props = props;\r\n        this.params = params;\r\n        this.events = {\r\n            'opened': () => {\r\n                Object.assign(component, {modalName: params.name});\r\n            },\r\n            'closed': () => {\r\n            }\r\n        };\r\n        \r\n        Object.assign(this.events, events);\r\n    }\r\n    \r\n    show() {\r\n        VueJSModal.rootInstance.$modal.show(this.component, this.props, this.params, this.events);\r\n    }\r\n    \r\n    hide() {\r\n        VueJSModal.rootInstance.$emit('close');\r\n    }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page players-page\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.findPlayer.apply(null, arguments)}}},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" \"+_vm._s(_vm.playerData ? (\"Данные по игроку #\" + (_vm.playerData.id)) : 'Поиск игрока')+\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\"}},[(_vm.playerData)?_c('ui-button',{staticClass:\"players-page__reset-button mr-2\",on:{\"clicked\":_vm.onSetChapterClick}},[_vm._v(\" Выставить прогресс \")]):_vm._e(),(_vm.playerData)?_c('ui-button',{staticClass:\"players-page__reset-button\",on:{\"clicked\":_vm.onResetPlayerClick}},[_vm._v(\" Обнулить игрока \")]):_vm._e(),(_vm.playerData)?_c('ui-button',{staticClass:\"players-page__reset-button ml-2\",on:{\"clicked\":function($event){_vm.playerData = null}}},[_vm._v(\" Поиск \")]):_vm._e()],1)],1),(!_vm.playerData)?[_c('div',{staticClass:\"form-group players-page__search-block\"},[_c('label',{staticClass:\"players-page__label\"},[_vm._v(\"Соц. сеть\")]),_c('b-form-select',{staticClass:\"players-page__find-value\",attrs:{\"options\":_vm.socialOptions},model:{value:(_vm.selectedSocialOption),callback:function ($$v) {_vm.selectedSocialOption=$$v},expression:\"selectedSocialOption\"}})],1),_c('div',{staticClass:\"form-group players-page__search-block\"},[_c('label',{staticClass:\"players-page__label\"},[_vm._v(\"ID\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.socialId),expression:\"socialId\"}],staticClass:\"form-control players-page__find-value\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.socialId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.socialId=$event.target.value}}})]),_c('ui-button',{staticClass:\"players-page__find-button\",on:{\"clicked\":_vm.findPlayer}},[_vm._v(\"Найти\")])]:[_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title\"},[_vm._v(\" Тестировщик \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.playerData.is_tester),expression:\"playerData.is_tester\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.playerData.is_tester)?_vm._i(_vm.playerData.is_tester,null)>-1:(_vm.playerData.is_tester)},on:{\"change\":[function($event){var $$a=_vm.playerData.is_tester,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.playerData, \"is_tester\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.playerData, \"is_tester\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.playerData, \"is_tester\", $$c)}},function($event){return _vm.onTesterFlagChanged($event)}]}})])]),_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title\"},[_vm._v(\"Дата регистрации: \"+_vm._s(_vm.registrationDate))])]),_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title\"},[_vm._v(\" Контент для взрослых: \"+_vm._s(_vm.playerData.adult ? 'разрешен' : 'отклонен')+\" \")])]),_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title mb-3\"},[_vm._v(\" Баланс \"),_c('ui-button',{staticClass:\"ml-5\",on:{\"clicked\":_vm.setUserCurrency}},[_vm._v(\"Обновить\")])],1),_c('div',{staticClass:\"players-page__list\"},_vm._l((_vm.playerData.monies),function(money,i){return _c('div',{staticClass:\"players-page__list-row\"},[_c('div',{staticClass:\"text-left font-weight-bold\"},[_vm._v(_vm._s(_vm.getCurrencyName(money.id))+\":\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(money.value),expression:\"money.value\",modifiers:{\"number\":true}}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"oninput\":\"validity.valid||(value=0)\"},domProps:{\"value\":(money.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(money, \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})])])}),0)]),(_vm.recommendedStoryData)?_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title\"},[_vm._v(\" Рекомендовано к чтению: \"),_c('a',{attrs:{\"href\":(\"/story/\" + (_vm.recommendedStoryData.id)),\"target\":\"_blank\"}},[_vm._v(\" #\"+_vm._s(_vm.recommendedStoryData.id)+\" \"+_vm._s(_vm.recommendedStoryData.title)+\" \")])])]):_vm._e(),(_vm.activeStoryData)?_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title\"},[_vm._v(\" Сейчас читает: \"),_c('a',{attrs:{\"href\":(\"/story/\" + (_vm.activeStoryData.id)),\"target\":\"_blank\"}},[_vm._v(\" #\"+_vm._s(_vm.activeStoryData.id)+\" \"+_vm._s(_vm.activeStoryData.title)+\" \")]),_vm._v(\" - \"),_c('a',{attrs:{\"href\":(\"/chapter/\" + (_vm.playerData.last_chapter.id)),\"target\":\"_blank\"}},[_vm._v(\" Глава \"+_vm._s(_vm.activeStoryChapterNumber)+\" \")])])]):_vm._e(),_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title mb-3\"},[_vm._v(\"Начатые книги\")]),_c('div',{staticClass:\"players-page__list\"},[_c('table',{staticClass:\"table table-striped\"},[_vm._m(0),_c('tbody',_vm._l((_vm.startedStories),function(storyData,i){return _c('tr',{key:i},[_c('td',[_vm._v(_vm._s(storyData.id))]),_c('td',[_c('a',{attrs:{\"href\":(\"/story/\" + (storyData.id)),\"target\":\"_blank\"}},[_vm._v(_vm._s(storyData.title))])]),_c('td',[_vm._v(_vm._s(storyData.completedChapters))])])}),0)])])]),_c('div',{staticClass:\"mb-3\"},[_c('div',{staticClass:\"players-page__field-title mb-3\"},[_vm._v(\"Социальные сети\")]),_c('div',{staticClass:\"players-page__list\"},[_c('table',{staticClass:\"table table-striped text-left\"},[_vm._m(1),_c('tbody',_vm._l((_vm.socialMap),function(socialName){return _c('tr',{key:socialName},[_c('td',{staticStyle:{\"width\":\"20%\"}},[_vm._v(_vm._s(socialName))]),_c('td',{staticStyle:{\"user-select\":\"text\"}},[_vm._v(\" \"+_vm._s(_vm.playerData.profile_type === socialName ? _vm.getSocialLink(socialName, _vm.playerData.profile_id) : '-')+\" \")])])}),0)])])])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"ID\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Название\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Завершено глав\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Соц. сеть\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"ID\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-popup\",on:{\"click\":_vm.resetAlert,\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.onSaveClick.apply(null, arguments)}}},[_c('div',{staticClass:\"mb-3 modal-popup__title\"},[_vm._v(\" Выставить прогресс \"),_c('svg',{staticClass:\"bi bi-x-lg modal-popup__close\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"#2D4C70\",\"viewBox\":\"0 0 16 16\"},on:{\"click\":_vm.close}},[_c('path',{attrs:{\"d\":\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"}})])]),(_vm.progressData.length > 0 && _vm.pageIsReady)?[_c('div',{staticClass:\"form-group d-flex flex-column\"},[_c('label',{staticClass:\"text-left\"},[_vm._v(\"ID истории\")]),_c('b-form-select',{staticClass:\"players-page__find-value\",attrs:{\"options\":_vm.storiesOptions},model:{value:(_vm.selectedStoryId),callback:function ($$v) {_vm.selectedStoryId=$$v},expression:\"selectedStoryId\"}})],1),_c('div',{staticClass:\"form-group d-flex flex-column\"},[_c('label',{staticClass:\"text-left\"},[_vm._v(\"ID главы\")]),_c('b-form-select',{staticClass:\"players-page__find-value\",attrs:{\"options\":_vm.chapterOptions},model:{value:(_vm.selectedChapterId),callback:function ($$v) {_vm.selectedChapterId=$$v},expression:\"selectedChapterId\"}})],1),_c('div',{staticClass:\"form-group d-flex flex-column\"},[_c('label',{staticClass:\"text-left\"},[_vm._v(\"ID ноды\")]),_c('b-form-select',{staticClass:\"players-page__find-value\",attrs:{\"options\":_vm.nodeOptions},model:{value:(_vm.selectedProgressId),callback:function ($$v) {_vm.selectedProgressId=$$v},expression:\"selectedProgressId\"}})],1),_c('div',{staticClass:\"form-group text-left mt-2 ml-1\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.needToResetChapter),expression:\"needToResetChapter\"}],staticClass:\"mr-2\",attrs:{\"type\":\"checkbox\",\"id\":\"needToResetChapter\"},domProps:{\"checked\":Array.isArray(_vm.needToResetChapter)?_vm._i(_vm.needToResetChapter,null)>-1:(_vm.needToResetChapter)},on:{\"change\":function($event){var $$a=_vm.needToResetChapter,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.needToResetChapter=$$a.concat([$$v]))}else{$$i>-1&&(_vm.needToResetChapter=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.needToResetChapter=$$c}}}}),_c('label',{attrs:{\"for\":\"needToResetChapter\"}},[_vm._v(\"Сбросить прогресс главы\")])]),_c('ui-button',{staticClass:\"mt-0 mb-2\",attrs:{\"disabled\":_vm.pendingRequest},on:{\"clicked\":_vm.onSaveClick}},[_vm._v(\"Сохранить\")])]:[_c('div',{staticClass:\"mb-2\"},[_vm._v(\"У пользователя нет историй с прогрессом\")])],(_vm.alert.length)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(_vm._s(_vm.alert))]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"modal-popup\" @click=\"resetAlert\" @keyup.13=\"onSaveClick\">\r\n        <div class=\"mb-3 modal-popup__title\">\r\n            Выставить прогресс\r\n\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"#2D4C70\"\r\n                 class=\"bi bi-x-lg modal-popup__close\"\r\n                 viewBox=\"0 0 16 16\"\r\n                 @click=\"close\"\r\n            >\r\n                <path\r\n                    d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n            </svg>\r\n        </div>\r\n        <template v-if=\"progressData.length > 0 && pageIsReady\">\r\n            <div class=\"form-group d-flex flex-column\">\r\n                <label class=\"text-left\">ID истории</label>\r\n                <b-form-select v-model=\"selectedStoryId\" :options=\"storiesOptions\"\r\n                               class=\"players-page__find-value\"/>\r\n            </div>\r\n\r\n            <div class=\"form-group d-flex flex-column\">\r\n                <label class=\"text-left\">ID главы</label>\r\n                <b-form-select v-model=\"selectedChapterId\" :options=\"chapterOptions\"\r\n                               class=\"players-page__find-value\"/>\r\n            </div>\r\n\r\n            <div class=\"form-group d-flex flex-column\">\r\n                <label class=\"text-left\">ID ноды</label>\r\n                <b-form-select v-model=\"selectedProgressId\" :options=\"nodeOptions\"\r\n                               class=\"players-page__find-value\"/>\r\n            </div>\r\n\r\n            <div class=\"form-group text-left mt-2 ml-1\">\r\n                <input type=\"checkbox\" v-model=\"needToResetChapter\" id=\"needToResetChapter\" class=\"mr-2\"/>\r\n                <label for=\"needToResetChapter\">Сбросить прогресс главы</label>\r\n            </div>\r\n\r\n            <ui-button class=\"mt-0 mb-2\" @clicked=\"onSaveClick\" :disabled=\"pendingRequest\">Сохранить</ui-button>\r\n        </template>\r\n        <template v-else>\r\n            <div class=\"mb-2\">У пользователя нет историй с прогрессом</div>\r\n        </template>\r\n\r\n        <div v-if=\"alert.length\" class=\"alert alert-danger\" role=\"alert\">{{ alert }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {mapActions} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\n\r\nexport default {\r\n    props: ['playerId', 'progressData'],\r\n    data: () => ({\r\n        storyId: Number,\r\n        chapterId: Number,\r\n        nodeId: Number,\r\n        needToResetChapter: false,\r\n        alert: '',\r\n        canReset: false,\r\n        pendingRequest: false,\r\n        pageIsReady: false,\r\n\r\n        selectedStoryId: 0,\r\n        storiesOptions: [],\r\n\r\n        selectedChapterId: 0,\r\n        chapterOptions: [],\r\n\r\n        selectedProgressId: 0,\r\n        nodeOptions: [],\r\n\r\n        storyProgressData: {},\r\n        selectedChapterData: {},\r\n        availableChapters: [],\r\n        storyData: {}\r\n    }),\r\n    components: {\r\n        UiButton: () => import('@/components/ui/UiButton')\r\n    },\r\n    async mounted() {\r\n        this.$refs.firstInput && this.$refs.firstInput.focus();\r\n        if (!this.progressData.length) return;\r\n        await this.getConfig();\r\n        this.fillSelects();\r\n    },\r\n    watch: {\r\n        selectedStoryId(storyId) {\r\n            this.storyProgressData = this.progressData.find(data => data.story_id == storyId);\r\n            this.availableChapters = this.storyProgressData.chapters.map(data => data.chapters_id);\r\n            this.storyData = this.$store.state.stories.list.find(story => story.id == storyId);\r\n\r\n            this.chapterOptions = this.storyData.chapters.filter(chapter => this.availableChapters.includes(chapter.id))\r\n                .map(chapter => {\r\n                    return {\r\n                        text: chapter.title,\r\n                        value: chapter.id\r\n                    };\r\n                });\r\n            this.selectedChapterId = this.chapterOptions[0].value;\r\n        },\r\n        selectedChapterId(chapterId) {\r\n            this.selectedChapterData = this.storyProgressData.chapters.find(data => data.chapters_id == chapterId);\r\n            this.nodeOptions = this.selectedChapterData.nodes.map(nodeData => {\r\n                return {\r\n                    text: nodeData.node,\r\n                    value: nodeData.progress_id\r\n                };\r\n            });\r\n            this.selectedProgressId = this.nodeOptions[0].value;\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions('players', ['setUserProgress']),\r\n        ...mapActions('firebase', ['getConfig']),\r\n        fillSelects() {\r\n            const availableStoryIds = this.progressData.map(data => data.story_id);\r\n            this.storiesOptions = this.$store.state.stories.list\r\n                .filter(story => availableStoryIds.includes(story.id))\r\n                .map(story => {\r\n                    return {\r\n                        value: story.id,\r\n                        text: story.title\r\n                    };\r\n                });\r\n            this.selectedStoryId = this.storiesOptions[0].value;\r\n            this.pageIsReady = true;\r\n        },\r\n        resetAlert() {\r\n            if (this.canReset) {\r\n                this.alert = '';\r\n                this.canReset = false;\r\n            }\r\n        },\r\n        setAlert(message) {\r\n            this.alert = message;\r\n            setTimeout(() => {\r\n                this.canReset = true;\r\n            }, 250);\r\n        },\r\n        async onSaveClick() {\r\n            const postData = {\r\n                story_id: this.selectedStoryId,\r\n                chapter_id: this.selectedChapterId,\r\n                progress_id: this.needToResetChapter ? null : this.selectedProgressId,\r\n                is_reset: this.needToResetChapter\r\n            };\r\n\r\n            this.pendingRequest = true;\r\n\r\n            const res = await this.setUserProgress({\r\n                playerId: this.playerId,\r\n                postData\r\n            });\r\n\r\n            this.pendingRequest = false;\r\n\r\n            if (!res.error) {\r\n                bus.$emit('show-notification-message', 'Обновлено');\r\n                this.close();\r\n            } else\r\n                bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n        },\r\n        close() {\r\n            this.$modal.hide('set-user-chapter-modal');\r\n        },\r\n        onStorySelected(event) {\r\n            this.selectedStoryId = parseInt(event.target.dataset.value, 10);\r\n            this.selectedStoryName = this.storiesOptions.find(story => story.id == this.selectedStoryId).name;\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetUserChapterModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetUserChapterModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SetUserChapterModal.vue?vue&type=template&id=365dfadb&\"\nimport script from \"./SetUserChapterModal.vue?vue&type=script&lang=js&\"\nexport * from \"./SetUserChapterModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Popup from \"@/lib/Popup\";\r\nimport SetUserChapterModal from '@/components/modals/SetUserChapterModal';\r\n\r\nexport const openSetUserChapterModal = (playerId, progressData) => {\r\n    const popup = new Popup({\r\n        component: SetUserChapterModal,\r\n        props: {playerId, progressData},\r\n        params: {\r\n            transition: 'scale',\r\n            name: 'set-user-chapter-modal',\r\n            width: '100%',\r\n            height: '100%',\r\n            classes: 'modal-popup__overlay'\r\n        }\r\n    });\r\n    \r\n    popup.show();\r\n};\r\n\r\nexport default {openSetUserChapterModal};\r\n","<template>\r\n    <div class=\"page players-page\" @keyup.13=\"findPlayer\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            {{ playerData ? `Данные по игроку #${playerData.id}` : 'Поиск игрока' }}\r\n            <div style=\"position: absolute;right: 0;\">\r\n                <ui-button v-if=\"playerData\" class=\"players-page__reset-button mr-2\" @clicked=\"onSetChapterClick\">\r\n                    Выставить прогресс\r\n                </ui-button>\r\n                <ui-button v-if=\"playerData\" class=\"players-page__reset-button\" @clicked=\"onResetPlayerClick\">\r\n                    Обнулить игрока\r\n                </ui-button>\r\n                <ui-button v-if=\"playerData\" class=\"players-page__reset-button ml-2\" @clicked=\"playerData = null\">\r\n                    Поиск\r\n                </ui-button>\r\n            </div>\r\n        </div>\r\n        <template v-if=\"!playerData\">\r\n            <div class=\"form-group players-page__search-block\">\r\n                <label class=\"players-page__label\">Соц. сеть</label>\r\n                <b-form-select v-model=\"selectedSocialOption\" :options=\"socialOptions\"\r\n                               class=\"players-page__find-value\"/>\r\n            </div>\r\n            <div class=\"form-group players-page__search-block\">\r\n                <label class=\"players-page__label\">ID</label>\r\n                <input type=\"text\" v-model=\"socialId\" class=\"form-control players-page__find-value\">\r\n            </div>\r\n            <ui-button class=\"players-page__find-button\" @clicked=\"findPlayer\">Найти</ui-button>\r\n        </template>\r\n        <template v-else>\r\n            <div class=\"mb-3\">\r\n                <div class=\"players-page__field-title\">\r\n                    Тестировщик <input type=\"checkbox\" v-model=\"playerData.is_tester\"\r\n                                       @change=\"onTesterFlagChanged($event)\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <div class=\"players-page__field-title\">Дата регистрации: {{ registrationDate }}</div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <div class=\"players-page__field-title\">\r\n                    Контент для взрослых: {{ playerData.adult ? 'разрешен' : 'отклонен' }}\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <div class=\"players-page__field-title mb-3\">\r\n                    Баланс\r\n                    <ui-button class=\"ml-5\" @clicked=\"setUserCurrency\">Обновить</ui-button>\r\n                </div>\r\n                <div class=\"players-page__list\">\r\n                    <div v-for=\"(money, i) of playerData.monies\" class=\"players-page__list-row\">\r\n                        <div class=\"text-left font-weight-bold\">{{ getCurrencyName(money.id) }}:</div>\r\n                        <div>\r\n                            <input v-model.number=\"money.value\" class=\"form-control\"\r\n                                   min=0 oninput=\"validity.valid||(value=0)\"\r\n                            />\r\n                        </div>\r\n                        <!--                        <div class=\"ml-2\" style=\"min-width: auto;\">\r\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\"\r\n                                                         class=\"bi bi-check-square\" viewBox=\"0 0 16 16\" v-b-tooltip.hover\r\n                                                         title=\"TODO: Сохранить\"\r\n                                                         style=\"cursor: pointer;\"\r\n                                                         @click=\"setUserCurrency(money)\"\r\n                                                    >\r\n                                                        <path\r\n                                                            d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n                                                        <path\r\n                                                            d=\"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z\"/>\r\n                                                    </svg>\r\n                                                </div>-->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3\" v-if=\"recommendedStoryData\">\r\n                <div class=\"players-page__field-title\">\r\n                    Рекомендовано к чтению:\r\n                    <a :href=\"`/story/${recommendedStoryData.id}`\" target=\"_blank\">\r\n                        #{{ recommendedStoryData.id }} {{ recommendedStoryData.title }}\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3\" v-if=\"activeStoryData\">\r\n                <div class=\"players-page__field-title\">\r\n                    Сейчас читает:\r\n                    <a :href=\"`/story/${activeStoryData.id}`\" target=\"_blank\">\r\n                        #{{ activeStoryData.id }} {{ activeStoryData.title }}\r\n                    </a>\r\n                    -\r\n                    <a :href=\"`/chapter/${playerData.last_chapter.id}`\" target=\"_blank\">\r\n                        Глава {{ activeStoryChapterNumber }}\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <div class=\"players-page__field-title mb-3\">Начатые книги</div>\r\n                <div class=\"players-page__list\">\r\n                    <table class=\"table table-striped\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">ID</th>\r\n                            <th scope=\"col\">Название</th>\r\n                            <th scope=\"col\">Завершено глав</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-for=\"(storyData, i) of startedStories\" :key=\"i\">\r\n                            <td>{{ storyData.id }}</td>\r\n                            <td>\r\n                                <a :href=\"`/story/${storyData.id}`\" target=\"_blank\">{{ storyData.title }}</a>\r\n                            </td>\r\n                            <td>{{ storyData.completedChapters }}</td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n                <div class=\"players-page__field-title mb-3\">Социальные сети</div>\r\n                <div class=\"players-page__list\">\r\n                    <table class=\"table table-striped text-left\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">Соц. сеть</th>\r\n                            <th scope=\"col\">ID</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr v-for=\"socialName of socialMap\" :key=\"socialName\">\r\n                            <td style=\"width: 20%\">{{ socialName }}</td>\r\n                            <td style=\"user-select: text;\">\r\n                                {{\r\n                                    playerData.profile_type === socialName ?\r\n                                        getSocialLink(socialName, playerData.profile_id) :\r\n                                        '-'\r\n                                }}\r\n                            </td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/plugins/bus';\r\nimport {mapActions} from 'vuex';\r\nimport {openSetUserChapterModal} from '@/modals/setUserChapterModal';\r\n\r\nexport default {\r\n    data: () => ({\r\n        pageReady: false,\r\n        playerData: null,\r\n        socialMap: ['local', 'facebook', 'google', 'apple'],\r\n        socialOptions: [],\r\n        selectedSocialOption: 0,\r\n        socialId: '',\r\n        progressData: []\r\n    }),\r\n    computed: {\r\n        registrationDate() {\r\n            return this.playerData ? this.playerData.created_at.split('T')[0] : '';\r\n        },\r\n        startedStories() {\r\n            if (!this.pageReady) return [];\r\n            const result = [];\r\n            this.playerData.started_stories.forEach(data => {\r\n                const storyData = this.$store.state.stories.list.find(s => s.id === data.story_id);\r\n                let chapterNumber = 0;\r\n\r\n                for (let i = 0; i < storyData.chapters.length; i++)\r\n                    if (storyData.chapters[i].id === data.chapter_id) {\r\n                        chapterNumber = i;\r\n                        break;\r\n                    }\r\n\r\n                result.push({\r\n                    id: storyData.id,\r\n                    title: storyData.title,\r\n                    completedChapters: chapterNumber\r\n                });\r\n            });\r\n            return result;\r\n        },\r\n        activeStoryData() {\r\n            if (!this.playerData.last_chapter.id) return false;\r\n            return this.$store.state.stories.list.find(story => story.id === this.playerData.last_chapter.story.id);\r\n        },\r\n        recommendedStoryData() {\r\n            if (this.playerData.last_chapter.id != null || !this.playerData.recommended_story_id) return false;\r\n            const storyData = this.$store.state.stories.list.find(story => story.id === this.playerData.recommended_story_id);\r\n            return storyData || {id: this.playerData.recommended_story_id, title: 'Ошибка: история не найдена'};\r\n        },\r\n        activeStoryChapterNumber() {\r\n            if (!this.activeStoryData) return 0;\r\n            for (let i = 0; i < this.activeStoryData.chapters.length; i++)\r\n                if (this.activeStoryData.chapters[i].id === this.playerData.last_chapter.id)\r\n                    return i + 1;\r\n            return 0;\r\n        }\r\n    },\r\n    components: {\r\n        UiButton: () => import('../../components/ui/UiButton'),\r\n        NavBack: () => import('../../components/navigation/NavBack'),\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n        this.socialOptions = this.socialMap.map((text, value) => {\r\n            return {text, value};\r\n        });\r\n\r\n        this.pageReady = true;\r\n    },\r\n    methods: {\r\n        ...mapActions('players', ['getPlayer', 'resetPlayer', 'setTesterFlag', 'getUserProgress']),\r\n        ...mapActions('firebase', ['getConfig']),\r\n        async findPlayer() {\r\n            if (this.playerData) return;\r\n\r\n            if (!this.socialId.length) {\r\n                bus.$emit('show-notification-message', 'Ошибка: Необходимо задать ID для поиска');\r\n                return;\r\n            }\r\n\r\n            const res = await this.getPlayer({idType: this.socialMap[this.selectedSocialOption], id: this.socialId});\r\n\r\n            if (!res.error)\r\n                this.playerData = res;\r\n            else {\r\n                if (res.error.response?.status) {\r\n                    let errorMessage;\r\n                    switch (res.error.response.status) {\r\n                        case 404:\r\n                            errorMessage = 'Игрок не найден';\r\n                            break;\r\n                        default:\r\n                            errorMessage = `Необработанная ошибка ${res.error.response.status}`;\r\n                            break;\r\n                    }\r\n                    bus.$emit('show-notification-message', `Ошибка: ${errorMessage}`);\r\n                } else {\r\n                    bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n                }\r\n            }\r\n\r\n            this.progressData = await this.getUserProgress(this.playerData.id);\r\n        },\r\n        getCurrencyName(currencyID) {\r\n            return this.$store.state.currencies.list.find(currency => currency.id === currencyID).name;\r\n        },\r\n        getSocialLink(socialName, userId) {\r\n            switch (socialName) {\r\n                case 'facebook':\r\n                    return `https://facebook.com/id${userId}`;\r\n                default:\r\n                    return userId;\r\n            }\r\n        },\r\n        async onResetPlayerClick() {\r\n            if (confirm('Вы уверены, что хотите обнулить игрока?')) {\r\n                const res = await this.resetPlayer(this.playerData.id);\r\n\r\n                if (!res.error)\r\n                    this.playerData = res;\r\n                else\r\n                    bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n            }\r\n        },\r\n        async onTesterFlagChanged(event) {\r\n            const res = await this.setTesterFlag({playerId: this.playerData.id, isTester: event.target.checked});\r\n\r\n            if (!res.error)\r\n                this.playerData = res;\r\n            else\r\n                bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n        },\r\n        onSetChapterClick() {\r\n            openSetUserChapterModal(this.playerData.id, this.progressData);\r\n        },\r\n        async setUserCurrency() {\r\n            const res = await this.updateUserCurrency({playerId: this.playerData.id, money: this.playerData.monies});\r\n\r\n            if (!res.error) {\r\n                bus.$emit('show-notification-message', 'Обновлено');\r\n                this.playerData.monies = res;\r\n            } else\r\n                bus.$emit('show-notification-message', `Ошибка: ${res.error.toString()}`);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.players-page {\r\n    &__field-title {\r\n        text-align: left;\r\n        font-weight: 700;\r\n        font-size: 1.2em;\r\n        padding-bottom: 12px;\r\n        border-bottom: 1px dashed rgba(45, 76, 112, 0.5);\r\n\r\n        + div {\r\n            font-size: .9em;\r\n        }\r\n    }\r\n\r\n    &__find-button {\r\n        max-width: 220px;\r\n    }\r\n\r\n    h4 {\r\n        text-align: left;\r\n    }\r\n\r\n    &__list {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        justify-content: flex-start;\r\n    }\r\n\r\n    &__list-row {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        div {\r\n            min-width: 100px;\r\n            margin-right: 16px;\r\n            margin-bottom: 12px;\r\n        }\r\n    }\r\n\r\n    &__grid {\r\n        display: grid;\r\n        grid-template-columns: 100px 100px;\r\n        grid-gap: 12px;\r\n        text-align: left;\r\n\r\n        div {\r\n            font-weight: 700;\r\n        }\r\n    }\r\n\r\n    &__search-block {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        * {\r\n            flex: 1 1 100%;\r\n            text-align: left;\r\n        }\r\n    }\r\n\r\n    &__label {\r\n        max-width: 100px;\r\n    }\r\n\r\n    &__find-value {\r\n        max-width: 240px;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Players.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Players.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Players.vue?vue&type=template&id=0f5847b2&\"\nimport script from \"./Players.vue?vue&type=script&lang=js&\"\nexport * from \"./Players.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Players.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page recommended-stories-page\"},[_c('div',{staticClass:\"page__title\"},[_c('nav-back'),_vm._v(\" Порядок рекомендованных историй \")],1),_c('div',{staticClass:\"recommended-stories-page__list\"},[_c('draggable',_vm._b({staticClass:\"list-group\",attrs:{\"tag\":\"ul\",\"move\":_vm.onStoryMoved},on:{\"start\":function($event){_vm.dragging = true},\"end\":function($event){_vm.dragging = false},\"change\":_vm.onOrderChanged},model:{value:(_vm.storiesList),callback:function ($$v) {_vm.storiesList=$$v},expression:\"storiesList\"}},'draggable',_vm.dragOptions,false),[_c('transition-group',{staticClass:\"d-flex flex-wrap\",attrs:{\"type\":\"transition\",\"name\":\"flip-list\"}},_vm._l((_vm.storiesList),function(story){return _c('li',{key:story.id,staticClass:\"list-group-item recommended-stories-page__story-item\"},[_vm._v(\" \"+_vm._s(story.order_recommended || 0)+\": \"+_vm._s(story.title)+\" (ID: \"+_vm._s(story.id)+\") \")])}),0)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page recommended-stories-page\">\r\n        <div class=\"page__title\">\r\n            <nav-back/>\r\n            Порядок рекомендованных историй\r\n        </div>\r\n        <div class=\"recommended-stories-page__list\">\r\n            <draggable\r\n                class=\"list-group\"\r\n                tag=\"ul\"\r\n                v-model=\"storiesList\"\r\n                v-bind=\"dragOptions\"\r\n                @start=\"dragging = true\"\r\n                @end=\"dragging = false\"\r\n                @change=\"onOrderChanged\"\r\n                :move=\"onStoryMoved\"\r\n            >\r\n                <transition-group type=\"transition\" name=\"flip-list\" class=\"d-flex flex-wrap\">\r\n                    <li\r\n                        class=\"list-group-item recommended-stories-page__story-item\"\r\n                        v-for=\"story in storiesList\"\r\n                        :key=\"story.id\"\r\n                    >\r\n                        {{ story.order_recommended || 0 }}: {{ story.title }} (ID: {{ story.id }})\r\n                    </li>\r\n                </transition-group>\r\n            </draggable>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from \"vuedraggable\";\r\nimport {mapActions} from 'vuex';\r\nimport bus from '@/plugins/bus';\r\nimport {sortByAttrDesc} from '@/utils';\r\n\r\nexport default {\r\n    data: () => ({\r\n        dragging: false,\r\n        storiesList: [],\r\n        dragLocked: false\r\n    }),\r\n    components: {\r\n        draggable,\r\n        NavBack: () => import('../../components/navigation/NavBack')\r\n    },\r\n    computed: {\r\n        stories() {\r\n            return this.$store.state.firebase.config.Stories.stories;\r\n        },\r\n        dragOptions() {\r\n            return {\r\n                animation: 0,\r\n                group: 'description',\r\n                disabled: false,\r\n                ghostClass: 'ghost'\r\n            };\r\n        },\r\n    },\r\n    methods: {\r\n        ...mapActions('firebase', ['getConfig', 'updateStoriesRecommendedOrder']),\r\n        ...mapActions('stories', ['']),\r\n        onStoryMoved() {\r\n            return !this.dragLocked;\r\n        },\r\n        async onOrderChanged() {\r\n            this.dragLocked = true;\r\n            this.storiesList.forEach((story, index) => story.order_recommended = this.storiesList.length - index);\r\n            this.storiesList = sortByAttrDesc(this.storiesList, 'order_recommended');\r\n\r\n            const sortOrder = {};\r\n            this.storiesList.forEach(story => sortOrder[story.id] = story.order_recommended);\r\n\r\n            const response = await this.updateStoriesRecommendedOrder(sortOrder);\r\n            this.dragLocked = false;\r\n\r\n            if (!response.error)\r\n                bus.$emit('show-notification-message', 'Порядок обновлен');\r\n            else\r\n                bus.$emit('show-notification-message', `Ошибка: ${response.error.toString()}`);\r\n        }\r\n    },\r\n    async created() {\r\n        await this.getConfig();\r\n        this.storiesList = this.stories.map(story => {\r\n            return {\r\n                id: story.id,\r\n                title: story.title,\r\n                order_recommended: story.order_recommended\r\n            };\r\n        });\r\n        this.storiesList = sortByAttrDesc(this.storiesList, 'order_recommended');\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.recommended-stories-page {\r\n    &__list {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .list-group {\r\n        span {\r\n            flex-direction: column;\r\n\r\n            li {\r\n                text-align: left;\r\n                margin: 4px 0;\r\n                border: 1px solid #867e7e;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendedStories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendedStories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecommendedStories.vue?vue&type=template&id=7df6fcde&\"\nimport script from \"./RecommendedStories.vue?vue&type=script&lang=js&\"\nexport * from \"./RecommendedStories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecommendedStories.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductsSortingModal.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendedStories.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}