(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47473edb"],{"14cf":function(e,t,a){"use strict";a("e5e1")},e5e1:function(e,t,a){},e9d4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"story-chapter"},[a("ui-button",{attrs:{color:"transparent"},on:{clicked:e.onClick}},[e._v("Глава "+e._s(e.chapterNumber))]),a("div",{staticClass:"story-chapter__name"},[a("span",[e._v(e._s(e.chapterData.title))])]),a("div",{staticClass:"story-chapter__publish-settings",class:{"story-chapter__publish-settings--disabled":e.disabled}},[e.disabled?a("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"story-chapter__publish-disable-tooltip",attrs:{title:"Необходимо назначить категорию"}}):e._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:e.published,expression:"published"}],attrs:{type:"checkbox",name:"publishStatus"},domProps:{checked:e.published,checked:Array.isArray(e.published)?e._i(e.published,null)>-1:e.published},on:{change:function(t){var a=e.published,r=t.target,s=!!r.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);r.checked?n<0&&(e.published=a.concat([i])):n>-1&&(e.published=a.slice(0,n).concat(a.slice(n+1)))}else e.published=s}}}),a("span",[e._v("Опубликовано")])])],1)},s=[],i=a("1da1"),n=a("5530"),c=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2f62")),o=a("a70a"),h={props:["chapterId","storyId","chapterData","order","chapterNumber"],data:function(){return{published:!1,dataReady:!1}},components:{UiButton:function(){return a.e("chunk-7a628425").then(a.bind(null,"832a"))}},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])("firebase",["getStoryById"])),{},{disabled:function(){return 0===this.getStoryById(this.storyId).categories.length}}),watch:{published:function(e){this.dataReady&&this.onPublishChapterCheckboxChanged(e)}},created:function(){var e=this;this.published=this.chapterData.is_published,setTimeout((function(){e.dataReady=!0}),50)},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])("firebase",["setStoryChapterPublishState"])),{},{onPublishChapterCheckboxChanged:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.setStoryChapterPublishState({storyId:parseInt(t.storyId,10),chapterId:t.chapterId,isPublished:e});case 2:r=a.sent,r.error?o["a"].$emit("show-notification-message","Ошибка"):o["a"].$emit("show-notification-message","Сохранено");case 4:case"end":return a.stop()}}),a)})))()},onClick:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"chapters",params:{chapterId:e.chapterData.id,storyId:parseInt(e.storyId,10),chapterData:e.chapterData},hash:"/".concat(e.chapterData.id)});case 2:case"end":return t.stop()}}),t)})))()}})},u=h,d=(a("14cf"),a("2877")),p=Object(d["a"])(u,r,s,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-47473edb.e936c78e.js.map